!function(){function t(t,e,n){e!==!1?z.addEventListener(t,J[t],n):z.removeEventListener(t,J[t])}function e(t){var e=y(t.target),r=w(e);if(ionic.tap.requiresNativeClick(r)||Y)return!1;var i=ionic.tap.pointerCoord(t);n("click",r,i.x,i.y),f(r)}function n(t,e,n,r){var i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,0,0,n,r,!1,!1,!1,!1,0,null),i.isIonicTap=!0,e.dispatchEvent(i)}function r(t){return"submit"==t.target.type&&0===t.detail?null:ionic.scroll.isScrolling&&ionic.tap.containsOrIsTextInput(t.target)||!t.isIonicTap&&!ionic.tap.requiresNativeClick(t.target)?(t.stopPropagation(),ionic.tap.isLabelWithTextInput(t.target)||t.preventDefault(),!1):void 0}function i(e){return e.isIonicTap||d(e)?null:j?(e.stopPropagation(),ionic.Platform.isEdge()||ionic.tap.isTextInput(e.target)&&K===e.target||b(e.target.tagName)||ionic.tap.isVideo(e.target)||e.preventDefault(),!1):(Y=!1,W=ionic.tap.pointerCoord(e),t("mousemove"),void ionic.activator.start(e))}function o(n){return j?(n.stopPropagation(),n.preventDefault(),!1):d(n)||b(n.target.tagName)?!1:(_(n)||e(n),t("mousemove",!1),ionic.activator.end(),void(Y=!1))}function a(e){return _(e)?(t("mousemove",!1),ionic.activator.end(),Y=!0,!1):void 0}function s(e){if(!d(e)&&(Y=!1,h(),W=ionic.tap.pointerCoord(e),t(X),ionic.activator.start(e),ionic.Platform.isIOS()&&ionic.tap.isLabelWithTextInput(e.target))){var n=w(y(e.target));n!==H&&e.preventDefault()}}function l(t){d(t)||(h(),_(t)||(e(t),b(t.target.tagName)&&t.preventDefault()),K=t.target,c())}function u(e){return _(e)?(Y=!0,t(X,!1),ionic.activator.end(),!1):void 0}function c(){t(X,!1),ionic.activator.end(),Y=!1}function h(){j=!0,clearTimeout(q),q=setTimeout(function(){j=!1},600)}function d(t){return t.isTapHandled?!0:(t.isTapHandled=!0,ionic.tap.isElementTapDisabled(t.target)?!0:ionic.scroll.isScrolling&&ionic.tap.containsOrIsTextInput(t.target)?(t.preventDefault(),!0):void 0)}function f(t){G=null;var e=!1;"SELECT"==t.tagName?(n("mousedown",t,0,0),t.focus&&t.focus(),e=!0):v()===t?e=!0:/^(input|textarea|ion-label)$/i.test(t.tagName)||t.isContentEditable?(e=!0,t.focus&&t.focus(),t.value=t.value,j&&(G=t)):p(),e&&(v(t),ionic.trigger("ionic.focusin",{target:t},!0))}function p(){var t=v();t&&(/^(input|textarea|select)$/i.test(t.tagName)||t.isContentEditable)&&t.blur(),v(null)}function m(t){j&&ionic.tap.isTextInput(v())&&ionic.tap.isTextInput(G)&&G!==t.target&&(G.focus(),G=null),ionic.scroll.isScrolling=!1}function g(){v(null)}function v(t){return arguments.length&&(H=t),H||document.activeElement}function _(t){if(!t||1!==t.target.nodeType||!W||0===W.x&&0===W.y)return!1;var e=ionic.tap.pointerCoord(t),n=!(!t.target.classList||!t.target.classList.contains||"function"!=typeof t.target.classList.contains),r=n&&t.target.classList.contains("button")?Q:Z;return Math.abs(W.x-e.x)>r||Math.abs(W.y-e.y)>r}function y(t,e){for(var n=t,r=0;6>r&&n;r++){if("LABEL"===n.tagName)return n;n=n.parentElement}return e!==!1?t:void 0}function w(t){if(t&&"LABEL"===t.tagName){if(t.control)return t.control;if(t.querySelector){var e=t.querySelector("input,textarea,select");if(e)return e}}return t}function b(t){return/^(select|option)$/i.test(t)}function x(){ionic.keyboard.isInitialized||(R()?(window.addEventListener("native.keyboardshow",dt),window.addEventListener("native.keyboardhide",$)):document.body.addEventListener("focusout",$),document.body.addEventListener("ionic.focusin",ht),document.body.addEventListener("focusin",ht),window.navigator.msPointerEnabled?document.removeEventListener("MSPointerDown",x):document.removeEventListener("touchstart",x),ionic.keyboard.isInitialized=!0)}function S(t){clearTimeout(it),(!ionic.keyboard.isOpen||ionic.keyboard.isClosing)&&(ionic.keyboard.isOpening=!0,ionic.keyboard.isClosing=!1),ionic.keyboard.height=t.keyboardHeight,lt?M(N,!0):M(D,!0)}function E(t){return clearTimeout(it),t.target&&!t.target.readOnly&&ionic.tap.isKeyboardElement(t.target)&&(nt=ionic.DomUtil.getParentWithClass(t.target,ct))?(tt=t.target,nt.classList.contains("overflow-scroll")||(document.body.scrollTop=0,nt.scrollTop=0,ionic.requestAnimationFrame(function(){document.body.scrollTop=0,nt.scrollTop=0}),window.navigator.msPointerEnabled?document.addEventListener("MSPointerMove",k,!1):document.addEventListener("touchmove",k,!1)),(!ionic.keyboard.isOpen||ionic.keyboard.isClosing)&&(ionic.keyboard.isOpening=!0,ionic.keyboard.isClosing=!1),document.addEventListener("keydown",C,!1),void(ionic.keyboard.isOpen||R()?ionic.keyboard.isOpen&&D():M(D,!0))):(tt&&(et=tt),void(tt=null))}function $(){clearTimeout(it),(ionic.keyboard.isOpen||ionic.keyboard.isOpening)&&(ionic.keyboard.isClosing=!0,ionic.keyboard.isOpening=!1),it=setTimeout(function(){ionic.requestAnimationFrame(function(){lt?M(function(){N(),A()},!1):M(A,!1)})},50)}function T(){ionic.keyboard.isLandscape=!ionic.keyboard.isLandscape,ionic.Platform.isIOS()&&N(),ionic.Platform.isAndroid()&&(ionic.keyboard.isOpen&&R()?lt=!0:M(N,!1))}function C(t){ionic.scroll.isScrolling&&k(t)}function k(t){"TEXTAREA"!==t.target.tagName&&t.preventDefault()}function M(t,e){clearInterval(rt);var n,r=0,i=B(),o=i;return n=ionic.Platform.isAndroid()&&ionic.Platform.version()<4.4?30:ionic.Platform.isAndroid()?10:1,rt=setInterval(function(){o=B(),(!(++r<n)||(P(o)||L(o))&&ionic.keyboard.height)&&(R()||(ionic.keyboard.height=Math.abs(i-window.innerHeight)),ionic.keyboard.isOpen=e,clearInterval(rt),t())},50),n}function A(){clearTimeout(it),ionic.keyboard.isOpen=!1,ionic.keyboard.isClosing=!1,(tt||et)&&ionic.trigger("resetScrollView",{target:tt||et},!0),ionic.requestAnimationFrame(function(){document.body.classList.remove(ut)}),window.navigator.msPointerEnabled?document.removeEventListener("MSPointerMove",k):document.removeEventListener("touchmove",k),document.removeEventListener("keydown",C),ionic.Platform.isAndroid()&&(R()&&cordova.plugins.Keyboard.close(),tt&&tt.blur()),tt=null,et=null}function D(){ionic.keyboard.isOpen=!0,ionic.keyboard.isOpening=!1;var t={keyboardHeight:I(),viewportHeight:ot};if(tt){t.target=tt;var e=tt.getBoundingClientRect();t.elementTop=Math.round(e.top),t.elementBottom=Math.round(e.bottom),t.windowHeight=t.viewportHeight-t.keyboardHeight,t.isElementUnderKeyboard=t.elementBottom>t.windowHeight,ionic.trigger("scrollChildIntoView",t,!0)}return setTimeout(function(){document.body.classList.add(ut)},400),t}function I(){if(ionic.keyboard.height)return ionic.keyboard.height;if(ionic.Platform.isAndroid()){if(ionic.Platform.isFullScreen)return 275;var t=window.innerHeight;return ot>t?ot-t:0}return ionic.Platform.isIOS()?ionic.keyboard.isLandscape?206:ionic.Platform.isWebView()?260:216:275}function P(t){return!!(!ionic.keyboard.isLandscape&&at&&Math.abs(at-t)<2)}function L(t){return!!(ionic.keyboard.isLandscape&&st&&Math.abs(st-t)<2)}function N(){lt=!1,ot=B(),ionic.keyboard.isLandscape&&!st?st=ot:ionic.keyboard.isLandscape||at||(at=ot),tt&&ionic.trigger("resetScrollView",{target:tt},!0),ionic.keyboard.isOpen&&ionic.tap.isTextInput(tt)&&D()}function O(){var t=B();t/window.innerWidth<1&&(ionic.keyboard.isLandscape=!0),ot=t,ionic.keyboard.isLandscape&&!st?st=ot:ionic.keyboard.isLandscape||at||(at=ot)}function B(){var t=window.innerHeight;return ionic.Platform.isAndroid()&&ionic.Platform.isFullScreen||!ionic.keyboard.isOpen&&!ionic.keyboard.isOpening||ionic.keyboard.isClosing?t:t+I()}function R(){return!!(window.cordova&&cordova.plugins&&cordova.plugins.Keyboard)}function V(){var t;for(t=0;t<document.head.children.length;t++)if("viewport"==document.head.children[t].name){ft=document.head.children[t];break}if(ft){var e,n=ft.content.toLowerCase().replace(/\s+/g,"").split(",");for(t=0;t<n.length;t++)n[t]&&(e=n[t].split("="),pt[e[0]]=e.length>1?e[1]:"_");U()}}function U(){var t=pt.width,e=pt.height,n=ionic.Platform,r=n.version(),i="device-width",o="device-height",a=ionic.viewport.orientation();delete pt.height,pt.width=i,n.isIPad()?r>7?delete pt.width:n.isWebView()?90==a?pt.height="0":7==r&&(pt.height=o):7>r&&(pt.height="0"):n.isIOS()&&(n.isWebView()?r>7?delete pt.width:7>r?e&&(pt.height="0"):7==r&&(pt.height=o):7>r&&e&&(pt.height="0")),(t!==pt.width||e!==pt.height)&&F()}function F(){var t,e=[];for(t in pt)pt[t]&&e.push(t+("_"==pt[t]?"":"="+pt[t]));ft.content=e.join(", ")}window.ionic=window.ionic||{},window.ionic.views={},window.ionic.version="1.2.4",function(t){t.DelegateService=function(t){function e(){return!0}if(t.indexOf("$getByHandle")>-1)throw new Error("Method '$getByHandle' is implicitly added to each delegate service. Do not list it as a method.");return["$log",function(n){function r(t,e){this._instances=t,this.handle=e}function i(){this._instances=[]}function o(t){return function(){var e,r=this.handle,i=arguments,o=0;return this._instances.forEach(function(n){if((!r||r==n.$$delegateHandle)&&n.$$filterFn(n)){o++;var a=n[t].apply(n,i);1===o&&(e=a)}}),!o&&r?n.warn('Delegate for handle "'+r+'" could not find a corresponding element with delegate-handle="'+r+'"! '+t+"() was not called!\nPossible cause: If you are calling "+t+'() immediately, and your element with delegate-handle="'+r+'" is a child of your controller, then your element may not be compiled yet. Put a $timeout around your call to '+t+"() and try again."):e}}return t.forEach(function(t){r.prototype[t]=o(t)}),i.prototype=r.prototype,i.prototype._registerInstance=function(t,n,r){var i=this._instances;return t.$$delegateHandle=n,t.$$filterFn=r||e,i.push(t),function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}},i.prototype.$getByHandle=function(t){return new r(this._instances,t)},new i}]}}(window.ionic),function(t,e,n){function r(){o=!0;for(var t=0;t<i.length;t++)n.requestAnimationFrame(i[t]);i=[],e.removeEventListener("DOMContentLoaded",r)}var i=[],o="complete"===e.readyState||"interactive"===e.readyState;o||e.addEventListener("DOMContentLoaded",r),t._rAF=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){t.setTimeout(e,16)}}();var a=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;n.DomUtil={requestAnimationFrame:function(e){return t._rAF(e)},cancelAnimationFrame:function(t){a(t)},animationFrameThrottle:function(t){var e,r,i;return function(){e=arguments,i=this,r||(r=!0,n.requestAnimationFrame(function(){t.apply(i,e),r=!1}))}},contains:function(t,e){for(var n=e;n;){if(n===t)return!0;n=n.parentNode}},getPositionInParent:function(t){return{left:t.offsetLeft,top:t.offsetTop}},getOffsetTop:function(t){var e=0;if(t.offsetParent){do e+=t.offsetTop,t=t.offsetParent;while(t);return e}},ready:function(t){o?n.requestAnimationFrame(t):i.push(t)},getTextBounds:function(n){if(e.createRange){var r=e.createRange();if(r.selectNodeContents(n),r.getBoundingClientRect){var i=r.getBoundingClientRect();if(i){var o=t.scrollX,a=t.scrollY;return{top:i.top+a,left:i.left+o,right:i.left+o+i.width,bottom:i.top+a+i.height,width:i.width,height:i.height}}}}return null},getChildIndex:function(t,e){if(e)for(var n,r=t.parentNode.children,i=0,o=0,a=r.length;a>i;i++)if(n=r[i],n.nodeName&&n.nodeName.toLowerCase()==e){if(n==t)return o;o++}return Array.prototype.slice.call(t.parentNode.children).indexOf(t)},swapNodes:function(t,e){e.parentNode.insertBefore(t,e)},elementIsDescendant:function(t,e,n){var r=t;do{if(r===e)return!0;r=r.parentNode}while(r&&r!==n);return!1},getParentWithClass:function(t,e,n){for(n=n||10;t.parentNode&&n--;){if(t.parentNode.classList&&t.parentNode.classList.contains(e))return t.parentNode;t=t.parentNode}return null},getParentOrSelfWithClass:function(t,e,n){for(n=n||10;t&&n--;){if(t.classList&&t.classList.contains(e))return t;t=t.parentNode}return null},rectContains:function(t,e,n,r,i,o){return n>t||t>i?!1:r>e||e>o?!1:!0},blurAll:function(){return e.activeElement&&e.activeElement!=e.body?(e.activeElement.blur(),e.activeElement):null},cachedAttr:function(t,e,n){if(t=t&&t.length&&t[0]||t,t&&t.setAttribute){var r="$attr-"+e;return arguments.length>2?t[r]!==n&&(t.setAttribute(e,n),t[r]=n):"undefined"==typeof t[r]&&(t[r]=t.getAttribute(e)),t[r]}},cachedStyles:function(t,e){if(t=t&&t.length&&t[0]||t,t&&t.style)for(var n in e)t["$style-"+n]!==e[n]&&(t.style[n]=t["$style-"+n]=e[n])}},n.requestAnimationFrame=n.DomUtil.requestAnimationFrame,n.cancelAnimationFrame=n.DomUtil.cancelAnimationFrame,n.animationFrameThrottle=n.DomUtil.animationFrameThrottle}(window,document,ionic),function(t){t.CustomEvent=function(){if("function"==typeof window.CustomEvent)return CustomEvent;var t=function(t,e){var n;e=e||{bubbles:!1,cancelable:!1,detail:void 0};try{n=document.createEvent("CustomEvent"),n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail)}catch(r){n=document.createEvent("Event");for(var i in e)n[i]=e[i];n.initEvent(t,e.bubbles,e.cancelable)}return n};return t.prototype=window.Event.prototype,t}(),t.EventController={VIRTUALIZED_EVENTS:["tap","swipe","swiperight","swipeleft","drag","hold","release"],trigger:function(e,n,r,i){var o=new t.CustomEvent(e,{detail:n,bubbles:!!r,cancelable:!!i});n&&n.target&&n.target.dispatchEvent&&n.target.dispatchEvent(o)||window.dispatchEvent(o)},on:function(e,n,r){for(var i=r||window,o=0,a=this.VIRTUALIZED_EVENTS.length;a>o;o++)if(e==this.VIRTUALIZED_EVENTS[o]){var s=new t.Gesture(r);return s.on(e,n),s}i.addEventListener(e,n)},off:function(t,e,n){n.removeEventListener(t,e)},onGesture:function(e,n,r,i){var o=new t.Gesture(r,i);return o.on(e,n),o},offGesture:function(t,e,n){t&&t.off(e,n)},handlePopState:function(){}},t.on=function(){t.EventController.on.apply(t.EventController,arguments)},t.off=function(){t.EventController.off.apply(t.EventController,arguments)},t.trigger=t.EventController.trigger,t.onGesture=function(){return t.EventController.onGesture.apply(t.EventController.onGesture,arguments)},t.offGesture=function(){return t.EventController.offGesture.apply(t.EventController.offGesture,arguments)}}(window.ionic),function(t){function e(){if(!t.Gestures.READY){t.Gestures.event.determineEventTypes();for(var e in t.Gestures.gestures)t.Gestures.gestures.hasOwnProperty(e)&&t.Gestures.detection.register(t.Gestures.gestures[e]);t.Gestures.event.onTouch(t.Gestures.DOCUMENT,t.Gestures.EVENT_MOVE,t.Gestures.detection.detect),t.Gestures.event.onTouch(t.Gestures.DOCUMENT,t.Gestures.EVENT_END,t.Gestures.detection.detect),t.Gestures.READY=!0}}t.Gesture=function(e,n){return new t.Gestures.Instance(e,n||{})},t.Gestures={},t.Gestures.defaults={stop_browser_behavior:"disable-user-behavior"},t.Gestures.HAS_POINTEREVENTS=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,t.Gestures.HAS_TOUCHEVENTS="ontouchstart"in window,t.Gestures.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,t.Gestures.NO_MOUSEEVENTS=t.Gestures.HAS_TOUCHEVENTS&&window.navigator.userAgent.match(t.Gestures.MOBILE_REGEX),t.Gestures.EVENT_TYPES={},t.Gestures.DIRECTION_DOWN="down",t.Gestures.DIRECTION_LEFT="left",t.Gestures.DIRECTION_UP="up",t.Gestures.DIRECTION_RIGHT="right",t.Gestures.POINTER_MOUSE="mouse",t.Gestures.POINTER_TOUCH="touch",t.Gestures.POINTER_PEN="pen",t.Gestures.EVENT_START="start",t.Gestures.EVENT_MOVE="move",t.Gestures.EVENT_END="end",t.Gestures.DOCUMENT=window.document,t.Gestures.plugins={},t.Gestures.READY=!1,t.Gestures.Instance=function(n,r){var i=this;return null===n?this:(e(),this.element=n,this.enabled=!0,this.options=t.Gestures.utils.extend(t.Gestures.utils.extend({},t.Gestures.defaults),r||{}),this.options.stop_browser_behavior&&t.Gestures.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),t.Gestures.event.onTouch(n,t.Gestures.EVENT_START,function(e){i.enabled&&t.Gestures.detection.startDetect(i,e)}),this)},t.Gestures.Instance.prototype={on:function(t,e){for(var n=t.split(" "),r=0;r<n.length;r++)this.element.addEventListener(n[r],e,!1);return this},off:function(t,e){for(var n=t.split(" "),r=0;r<n.length;r++)this.element.removeEventListener(n[r],e,!1);return this},trigger:function(e,n){var r=t.Gestures.DOCUMENT.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=n;var i=this.element;return t.Gestures.utils.hasParent(n.target,i)&&(i=n.target),i.dispatchEvent(r),this},enable:function(t){return this.enabled=t,this}};var n=null,r=!1,i=!1;t.Gestures.event={bindDom:function(t,e,n){for(var r=e.split(" "),i=0;i<r.length;i++)t.addEventListener(r[i],n,!1)},onTouch:function(e,o,a){var s=this;this.bindDom(e,t.Gestures.EVENT_TYPES[o],function(l){var u=l.type.toLowerCase();if(!u.match(/mouse/)||!i){u.match(/touch/)||u.match(/pointerdown/)||u.match(/mouse/)&&1===l.which?r=!0:u.match(/mouse/)&&1!==l.which&&(r=!1),u.match(/touch|pointer/)&&(i=!0);var c=0;r&&(t.Gestures.HAS_POINTEREVENTS&&o!=t.Gestures.EVENT_END?c=t.Gestures.PointerEvent.updatePointer(o,l):u.match(/touch/)?c=l.touches.length:i||(c=u.match(/up/)?0:1),c>0&&o==t.Gestures.EVENT_END?o=t.Gestures.EVENT_MOVE:c||(o=t.Gestures.EVENT_END),(c||null===n)&&(n=l),a.call(t.Gestures.detection,s.collectEventData(e,o,s.getTouchList(n,o),l)),t.Gestures.HAS_POINTEREVENTS&&o==t.Gestures.EVENT_END&&(c=t.Gestures.PointerEvent.updatePointer(o,l))),c||(n=null,r=!1,i=!1,t.Gestures.PointerEvent.reset())}})},determineEventTypes:function(){var e;e=t.Gestures.HAS_POINTEREVENTS?t.Gestures.PointerEvent.getEvents():t.Gestures.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],t.Gestures.EVENT_TYPES[t.Gestures.EVENT_START]=e[0],t.Gestures.EVENT_TYPES[t.Gestures.EVENT_MOVE]=e[1],t.Gestures.EVENT_TYPES[t.Gestures.EVENT_END]=e[2]},getTouchList:function(e){return t.Gestures.HAS_POINTEREVENTS?t.Gestures.PointerEvent.getTouchList():e.touches?e.touches:(e.identifier=1,[e])},collectEventData:function(e,n,r,i){var o=t.Gestures.POINTER_TOUCH;return(i.type.match(/mouse/)||t.Gestures.PointerEvent.matchType(t.Gestures.POINTER_MOUSE,i))&&(o=t.Gestures.POINTER_MOUSE),{center:t.Gestures.utils.getCenter(r),timeStamp:(new Date).getTime(),target:i.target,touches:r,eventType:n,pointerType:o,srcEvent:i,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return t.Gestures.detection.stopDetect()}}}},t.Gestures.PointerEvent={pointers:{},getTouchList:function(){var t=this,e=[];return Object.keys(t.pointers).sort().forEach(function(n){e.push(t.pointers[n])}),e},updatePointer:function(e,n){return e==t.Gestures.EVENT_END?this.pointers={}:(n.identifier=n.pointerId,this.pointers[n.pointerId]=n),Object.keys(this.pointers).length},matchType:function(e,n){if(!n.pointerType)return!1;var r={};return r[t.Gestures.POINTER_MOUSE]=n.pointerType==n.MSPOINTER_TYPE_MOUSE||n.pointerType==t.Gestures.POINTER_MOUSE,r[t.Gestures.POINTER_TOUCH]=n.pointerType==n.MSPOINTER_TYPE_TOUCH||n.pointerType==t.Gestures.POINTER_TOUCH,r[t.Gestures.POINTER_PEN]=n.pointerType==n.MSPOINTER_TYPE_PEN||n.pointerType==t.Gestures.POINTER_PEN,r[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},t.Gestures.utils={extend:function(t,e,n){for(var r in e)void 0!==t[r]&&n||(t[r]=e[r]);return t},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){for(var e=[],n=[],r=0,i=t.length;i>r;r++)e.push(t[r].pageX),n.push(t[r].pageY);return{pageX:(Math.min.apply(Math,e)+Math.max.apply(Math,e))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(t,e,n){return{x:Math.abs(e/t)||0,y:Math.abs(n/t)||0}},getAngle:function(t,e){var n=e.pageY-t.pageY,r=e.pageX-t.pageX;return 180*Math.atan2(n,r)/Math.PI},getDirection:function(e,n){var r=Math.abs(e.pageX-n.pageX),i=Math.abs(e.pageY-n.pageY);return r>=i?e.pageX-n.pageX>0?t.Gestures.DIRECTION_LEFT:t.Gestures.DIRECTION_RIGHT:e.pageY-n.pageY>0?t.Gestures.DIRECTION_UP:t.Gestures.DIRECTION_DOWN},getDistance:function(t,e){var n=e.pageX-t.pageX,r=e.pageY-t.pageY;return Math.sqrt(n*n+r*r)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(e){return e==t.Gestures.DIRECTION_UP||e==t.Gestures.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(t,e){t&&t.classList&&(t.classList.add(e),t.onselectstart=function(){return!1})}},t.Gestures.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,n){this.current||(this.stopped=!1,this.current={inst:e,startEvent:t.Gestures.utils.extend({},n),lastEvent:!1,name:""},this.detect(n))},detect:function(e){if(!this.current||this.stopped)return null;e=this.extendEventData(e);for(var n=this.current.inst.options,r=0,i=this.gestures.length;i>r;r++){var o=this.gestures[r];if(!this.stopped&&n[o.name]!==!1&&o.handler.call(o,e,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=e),e.eventType==t.Gestures.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e},stopDetect:function(){this.previous=t.Gestures.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var n=this.current.startEvent;if(n&&(e.touches.length!=n.touches.length||e.touches===n.touches)){n.touches=[];for(var r=0,i=e.touches.length;i>r;r++)n.touches.push(t.Gestures.utils.extend({},e.touches[r]))}var o=e.timeStamp-n.timeStamp,a=e.center.pageX-n.center.pageX,s=e.center.pageY-n.center.pageY,l=t.Gestures.utils.getVelocity(o,a,s);return t.Gestures.utils.extend(e,{deltaTime:o,deltaX:a,deltaY:s,velocityX:l.x,velocityY:l.y,distance:t.Gestures.utils.getDistance(n.center,e.center),angle:t.Gestures.utils.getAngle(n.center,e.center),direction:t.Gestures.utils.getDirection(n.center,e.center),scale:t.Gestures.utils.getScale(n.touches,e.touches),rotation:t.Gestures.utils.getRotation(n.touches,e.touches),startEvent:n}),e},register:function(e){var n=e.defaults||{};return void 0===n[e.name]&&(n[e.name]=!0),t.Gestures.utils.extend(t.Gestures.defaults,n,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}},t.Gestures.gestures=t.Gestures.gestures||{},t.Gestures.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:9},timer:null,handler:function(e,n){switch(e.eventType){case t.Gestures.EVENT_START:clearTimeout(this.timer),t.Gestures.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==t.Gestures.detection.current.name&&(t.tap.cancelClick(),n.trigger("hold",e))},n.options.hold_timeout);break;case t.Gestures.EVENT_MOVE:e.distance>n.options.hold_threshold&&clearTimeout(this.timer);break;case t.Gestures.EVENT_END:clearTimeout(this.timer)}}},t.Gestures.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,n){if(e.eventType==t.Gestures.EVENT_END&&"touchcancel"!=e.srcEvent.type){var r=t.Gestures.detection.previous,i=!1;if(e.deltaTime>n.options.tap_max_touchtime||e.distance>n.options.tap_max_distance)return;r&&"tap"==r.name&&e.timeStamp-r.lastEvent.timeStamp<n.options.doubletap_interval&&e.distance<n.options.doubletap_distance&&(n.trigger("doubletap",e),i=!0),(!i||n.options.tap_always)&&(t.Gestures.detection.current.name="tap",n.trigger("tap",e))}}},t.Gestures.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.4},handler:function(e,n){if(e.eventType==t.Gestures.EVENT_END){if(n.options.swipe_max_touches>0&&e.touches.length>n.options.swipe_max_touches)return;(e.velocityX>n.options.swipe_velocity||e.velocityY>n.options.swipe_velocity)&&(n.trigger(this.name,e),n.trigger(this.name+e.direction,e))}}},t.Gestures.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!0,drag_block_vertical:!0,drag_lock_to_axis:!1,drag_lock_min_distance:25,prevent_default_directions:[]},triggered:!1,handler:function(e,n){if("touchstart"==e.srcEvent.type||"touchend"==e.srcEvent.type?this.preventedFirstMove=!1:this.preventedFirstMove||"touchmove"!=e.srcEvent.type||(n.options.prevent_default_directions.length>0&&-1!=n.options.prevent_default_directions.indexOf(e.direction)&&e.srcEvent.preventDefault(),this.preventedFirstMove=!0),t.Gestures.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",e),void(this.triggered=!1);if(!(n.options.drag_max_touches>0&&e.touches.length>n.options.drag_max_touches))switch(e.eventType){case t.Gestures.EVENT_START:this.triggered=!1;break;case t.Gestures.EVENT_MOVE:if(e.distance<n.options.drag_min_distance&&t.Gestures.detection.current.name!=this.name)return;if(t.Gestures.detection.current.name!=this.name&&(t.Gestures.detection.current.name=this.name,n.options.correct_for_drag_min_distance)){var r=Math.abs(n.options.drag_min_distance/e.distance);t.Gestures.detection.current.startEvent.center.pageX+=e.deltaX*r,t.Gestures.detection.current.startEvent.center.pageY+=e.deltaY*r,e=t.Gestures.detection.extendEventData(e)}(t.Gestures.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var i=t.Gestures.detection.current.lastEvent.direction;e.drag_locked_to_axis&&i!==e.direction&&(t.Gestures.utils.isVertical(i)?e.direction=e.deltaY<0?t.Gestures.DIRECTION_UP:t.Gestures.DIRECTION_DOWN:e.direction=e.deltaX<0?t.Gestures.DIRECTION_LEFT:t.Gestures.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",e),this.triggered=!0),n.trigger(this.name,e),n.trigger(this.name+e.direction,e),(n.options.drag_block_vertical&&t.Gestures.utils.isVertical(e.direction)||n.options.drag_block_horizontal&&!t.Gestures.utils.isVertical(e.direction))&&e.preventDefault();break;case t.Gestures.EVENT_END:this.triggered&&n.trigger(this.name+"end",e),this.triggered=!1}}},t.Gestures.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,n){if(t.Gestures.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",e),void(this.triggered=!1);if(!(e.touches.length<2))switch(n.options.transform_always_block&&e.preventDefault(),e.eventType){case t.Gestures.EVENT_START:this.triggered=!1;break;case t.Gestures.EVENT_MOVE:var r=Math.abs(1-e.scale),i=Math.abs(e.rotation);if(r<n.options.transform_min_scale&&i<n.options.transform_min_rotation)return;t.Gestures.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",e),this.triggered=!0),n.trigger(this.name,e),i>n.options.transform_min_rotation&&n.trigger("rotate",e),r>n.options.transform_min_scale&&(n.trigger("pinch",e),n.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case t.Gestures.EVENT_END:this.triggered&&n.trigger(this.name+"end",e),this.triggered=!1}}},t.Gestures.gestures.Touch={name:"touch",index:-(1/0),defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,n){return n.options.prevent_mouseevents&&e.pointerType==t.Gestures.POINTER_MOUSE?void e.stopDetect():(n.options.prevent_default&&e.preventDefault(),void(e.eventType==t.Gestures.EVENT_START&&n.trigger(this.name,e)))}},t.Gestures.gestures.Release={name:"release",index:1/0,handler:function(e,n){e.eventType==t.Gestures.EVENT_END&&n.trigger(this.name,e)}}}(window.ionic),function(t,e,n){function r(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=e.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function i(){setTimeout(function(){!p.isReady&&p.isWebView()},_)}function o(){p.isWebView()?e.addEventListener("deviceready",a,!1):a(),s&&t.removeEventListener("load",o,!1)}function a(){p.isReady=!0,p.detect();for(var t=0;t<v.length;t++)v[t]();v=[],n.trigger("platformready",{target:e}),f(function(){e.body.classList.add("platform-ready")})}var s,l="ios",u="android",c="windowsphone",h="edge",d="crosswalk",f=n.requestAnimationFrame,p=n.Platform={navigator:t.navigator,isReady:!1,isFullScreen:!1,platforms:null,grade:null,ua:navigator.userAgent,ready:function(t){p.isReady?t():v.push(t)},detect:function(){p._checkPlatforms(),f(function(){for(var t=0;t<p.platforms.length;t++)e.body.classList.add("platform-"+p.platforms[t])})},setGrade:function(t){var n=p.grade;p.grade=t,f(function(){n&&e.body.classList.remove("grade-"+n),e.body.classList.add("grade-"+t)})},device:function(){return t.device||{}},_checkPlatforms:function(){p.platforms=[];var e="a";p.isWebView()?(p.platforms.push("webview"),t.cordova||t.PhoneGap||t.phonegap?p.platforms.push("cordova"):t.forge&&p.platforms.push("trigger")):p.platforms.push("browser"),p.isIPad()&&p.platforms.push("ipad");var n=p.platform();if(n){p.platforms.push(n);var r=p.version();if(r){var i=r.toString();i.indexOf(".")>0?i=i.replace(".","_"):i+="_0",p.platforms.push(n+i.split("_")[0]),p.platforms.push(n+i),p.isAndroid()&&4.4>r?e=4>r?"c":"b":p.isWindowsPhone()&&(e="b")}}p.setGrade(e)},isWebView:function(){return!!(t.cordova||t.PhoneGap||t.phonegap||t.forge)},isIPad:function(){return/iPad/i.test(p.navigator.platform)?!0:/iPad/i.test(p.ua)},isIOS:function(){return p.is(l)},isAndroid:function(){return p.is(u)},isWindowsPhone:function(){return p.is(c)},isEdge:function(){return p.is(h)},isCrosswalk:function(){return p.is(d)},platform:function(){return null===m&&p.setPlatform(p.device().platform),m},setPlatform:function(t){m="undefined"!=typeof t&&null!==t&&t.length?t.toLowerCase():r("ionicplatform")?r("ionicplatform"):p.ua.indexOf("Edge")>-1?h:p.ua.indexOf("Windows Phone")>-1?c:p.ua.indexOf("Android")>0?u:/iPhone|iPad|iPod/.test(p.ua)?l:p.navigator.platform&&navigator.platform.toLowerCase().split(" ")[0]||""},version:function(){return null===g&&p.setVersion(p.device().version),g},setVersion:function(t){if("undefined"!=typeof t&&null!==t&&(t=t.split("."),t=parseFloat(t[0]+"."+(t.length>1?t[1]:0)),!isNaN(t)))return void(g=t);g=0;var e=p.platform(),n={android:/Android (\d+).(\d+)?/,ios:/OS (\d+)_(\d+)?/,windowsphone:/Windows Phone (\d+).(\d+)?/};n[e]&&(t=p.ua.match(n[e]),t&&t.length>2&&(g=parseFloat(t[1]+"."+t[2])))},is:function(t){if(t=t.toLowerCase(),p.platforms)for(var e=0;e<p.platforms.length;e++)if(p.platforms[e]===t)return!0;var n=p.platform();return n?n===t.toLowerCase():p.ua.toLowerCase().indexOf(t)>=0},exitApp:function(){p.ready(function(){navigator.app&&navigator.app.exitApp&&navigator.app.exitApp()})},showStatusBar:function(n){p._showStatusBar=n,p.ready(function(){f(function(){p._showStatusBar?(t.StatusBar&&t.StatusBar.show(),e.body.classList.remove("status-bar-hide")):(t.StatusBar&&t.StatusBar.hide(),e.body.classList.add("status-bar-hide"))})})},fullScreen:function(t,r){p.isFullScreen=t!==!1,n.DomUtil.ready(function(){f(function(){p.isFullScreen?e.body.classList.add("fullscreen"):e.body.classList.remove("fullscreen")}),p.showStatusBar(r===!0)})}},m=null,g=null,v=[],_=2e3;i(),"complete"===e.readyState?o():(s=!0,t.addEventListener("load",o,!1))}(window,document,ionic),function(t,e){"use strict";e.CSS={},e.CSS.TRANSITION=[],e.CSS.TRANSFORM=[],e.EVENTS={},function(){var n,r=["webkitTransform","transform","-webkit-transform","webkit-transform","-moz-transform","moz-transform","MozTransform","mozTransform","msTransform"];for(n=0;n<r.length;n++)if(void 0!==t.documentElement.style[r[n]]){e.CSS.TRANSFORM=r[n];break}for(r=["webkitTransition","mozTransition","msTransition","transition"],n=0;n<r.length;n++)if(void 0!==t.documentElement.style[r[n]]){e.CSS.TRANSITION=r[n];break}e.CSS.TRANSITION=e.CSS.TRANSITION||"transition";var i=e.CSS.TRANSITION.indexOf("webkit")>-1;e.CSS.TRANSITION_DURATION=(i?"-webkit-":"")+"transition-duration",e.CSS.TRANSITIONEND=(i?"webkitTransitionEnd ":"")+"transitionend"}(),function(){var t="touchstart",n="touchmove",r="touchend",i="touchcancel";window.navigator.pointerEnabled?(t="pointerdown",
n="pointermove",r="pointerup",i="pointercancel"):window.navigator.msPointerEnabled&&(t="MSPointerDown",n="MSPointerMove",r="MSPointerUp",i="MSPointerCancel"),e.EVENTS.touchstart=t,e.EVENTS.touchmove=n,e.EVENTS.touchend=r,e.EVENTS.touchcancel=i}(),"classList"in t.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function t(t){return function(){var n,r=e.className.split(/\s+/);for(n=0;n<arguments.length;n++)t(r,r.indexOf(arguments[n]),arguments[n]);e.className=r.join(" ")}}var e=this;return{add:t(function(t,e,n){~e||t.push(n)}),remove:t(function(t,e){~e&&t.splice(e,1)}),toggle:t(function(t,e,n){~e?t.splice(e,1):t.push(n)}),contains:function(t){return!!~e.className.split(/\s+/).indexOf(t)},item:function(t){return e.className.split(/\s+/)[t]||null}}}})}(document,ionic);var z,H,j,q,Y,W,G,K,X="touchmove",Z=12,Q=50,J={click:r,mousedown:i,mouseup:o,mousemove:a,touchstart:s,touchend:l,touchcancel:c,touchmove:u,pointerdown:s,pointerup:l,pointercancel:c,pointermove:u,MSPointerDown:s,MSPointerUp:l,MSPointerCancel:c,MSPointerMove:u,focusin:m,focusout:g};ionic.tap={register:function(e){return z=e,t("click",!0,!0),t("mouseup"),t("mousedown"),window.navigator.pointerEnabled?(t("pointerdown"),t("pointerup"),t("pointercancel"),X="pointermove"):window.navigator.msPointerEnabled?(t("MSPointerDown"),t("MSPointerUp"),t("MSPointerCancel"),X="MSPointerMove"):(t("touchstart"),t("touchend"),t("touchcancel")),t("focusin"),t("focusout"),function(){for(var e in J)t(e,!1);z=null,H=null,j=!1,Y=!1,W=null}},ignoreScrollStart:function(t){return t.defaultPrevented||/^(file|range)$/i.test(t.target.type)||"true"==(t.target.dataset?t.target.dataset.preventScroll:t.target.getAttribute("data-prevent-scroll"))||!!/^(object|embed)$/i.test(t.target.tagName)||ionic.tap.isElementTapDisabled(t.target)},isTextInput:function(t){return!!t&&("TEXTAREA"==t.tagName||"true"===t.contentEditable||"INPUT"==t.tagName&&!/^(radio|checkbox|range|file|submit|reset|color|image|button)$/i.test(t.type))},isDateInput:function(t){return!!t&&"INPUT"==t.tagName&&/^(date|time|datetime-local|month|week)$/i.test(t.type)},isVideo:function(t){return!!t&&"VIDEO"==t.tagName},isKeyboardElement:function(t){return!ionic.Platform.isIOS()||ionic.Platform.isIPad()?ionic.tap.isTextInput(t)&&!ionic.tap.isDateInput(t):ionic.tap.isTextInput(t)||!!t&&"SELECT"==t.tagName},isLabelWithTextInput:function(t){var e=y(t,!1);return!!e&&ionic.tap.isTextInput(w(e))},containsOrIsTextInput:function(t){return ionic.tap.isTextInput(t)||ionic.tap.isLabelWithTextInput(t)},cloneFocusedInput:function(t){ionic.tap.hasCheckedClone||(ionic.tap.hasCheckedClone=!0,ionic.requestAnimationFrame(function(){var e=t.querySelector(":focus");if(ionic.tap.isTextInput(e)&&!ionic.tap.isDateInput(e)){var n=e.cloneNode(!0);n.value=e.value,n.classList.add("cloned-text-input"),n.readOnly=!0,e.isContentEditable&&(n.contentEditable=e.contentEditable,n.innerHTML=e.innerHTML),e.parentElement.insertBefore(n,e),e.classList.add("previous-input-focus"),n.scrollTop=e.scrollTop}}))},hasCheckedClone:!1,removeClonedInputs:function(t){ionic.tap.hasCheckedClone=!1,ionic.requestAnimationFrame(function(){var e,n=t.querySelectorAll(".cloned-text-input"),r=t.querySelectorAll(".previous-input-focus");for(e=0;e<n.length;e++)n[e].parentElement.removeChild(n[e]);for(e=0;e<r.length;e++)r[e].classList.remove("previous-input-focus"),r[e].style.top="",ionic.keyboard.isOpen&&!ionic.keyboard.isClosing&&r[e].focus()})},requiresNativeClick:function(t){return ionic.Platform.isWindowsPhone()&&("A"==t.tagName||"BUTTON"==t.tagName||t.hasAttribute("ng-click")||"INPUT"==t.tagName&&("button"==t.type||"submit"==t.type))?!0:!t||t.disabled||/^(file|range)$/i.test(t.type)||/^(object|video)$/i.test(t.tagName)||ionic.tap.isLabelContainingFileInput(t)?!0:ionic.tap.isElementTapDisabled(t)},isLabelContainingFileInput:function(t){var e=y(t);if("LABEL"!==e.tagName)return!1;var n=e.querySelector("input[type=file]");return n&&n.disabled===!1?!0:!1},isElementTapDisabled:function(t){if(t&&1===t.nodeType)for(var e=t;e;){if("true"==(e.dataset?e.dataset.tapDisabled:e.getAttribute&&e.getAttribute("data-tap-disabled")))return!0;e=e.parentElement}return!1},setTolerance:function(t,e){Z=t,Q=e},cancelClick:function(){Y=!0},pointerCoord:function(t){var e={x:0,y:0};if(t){var n=t.touches&&t.touches.length?t.touches:[t],r=t.changedTouches&&t.changedTouches[0]||n[0];r&&(e.x=r.clientX||r.pageX||0,e.y=r.clientY||r.pageY||0)}return e}},ionic.DomUtil.ready(function(){var t="undefined"!=typeof angular?angular:null;(!t||t&&!t.scenario)&&ionic.tap.register(document)}),function(t,e){"use strict";function n(){o={},e.requestAnimationFrame(i)}function r(){for(var t in o)o[t]&&(o[t].classList.add(l),a[t]=o[t]);o={}}function i(){if(e.transition&&e.transition.isActive)return void setTimeout(i,400);for(var t in a)a[t]&&(a[t].classList.remove(l),delete a[t])}var o={},a={},s=0,l="activated";e.activator={start:function(t){var n=e.tap.pointerCoord(t).x;n>0&&30>n||e.requestAnimationFrame(function(){if(!(e.scroll&&e.scroll.isScrolling||e.tap.requiresNativeClick(t.target))){for(var n,i=t.target,a=0;6>a&&(i&&1===i.nodeType);a++){if(n&&i.classList&&i.classList.contains("item")){n=i;break}if("A"==i.tagName||"BUTTON"==i.tagName||i.hasAttribute("ng-click")){n=i;break}if(i.classList.contains("button")){n=i;break}if("ION-CONTENT"==i.tagName||i.classList&&i.classList.contains("pane")||"BODY"==i.tagName)break;i=i.parentElement}n&&(o[s]=n,e.requestAnimationFrame(r),s=s>29?0:s+1)}})},end:function(){setTimeout(n,200)}}}(document,ionic),function(t){var e=0;t.Utils={arrayMove:function(t,e,n){if(n>=t.length)for(var r=n-t.length;r--+1;)t.push(void 0);return t.splice(n,0,t.splice(e,1)[0]),t},proxy:function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},debounce:function(t,e,n){var r,i,o,a,s;return function(){o=this,i=arguments,a=new Date;var l=function(){var u=new Date-a;e>u?r=setTimeout(l,e-u):(r=null,n||(s=t.apply(o,i)))},u=n&&!r;return r||(r=setTimeout(l,e)),u&&(s=t.apply(o,i)),s}},throttle:function(t,e,n){var r,i,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:Date.now(),a=null,o=t.apply(r,i)};return function(){var u=Date.now();s||n.leading!==!1||(s=u);var c=e-(u-s);return r=this,i=arguments,0>=c?(clearTimeout(a),a=null,s=u,o=t.apply(r,i)):a||n.trailing===!1||(a=setTimeout(l,c)),o}},inherit:function(e,n){var r,i=this;r=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return i.apply(this,arguments)},t.extend(r,i,n);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,e&&t.extend(r.prototype,e),r.__super__=i.prototype,r},extend:function(t){for(var e=Array.prototype.slice.call(arguments,1),n=0;n<e.length;n++){var r=e[n];if(r)for(var i in r)t[i]=r[i]}return t},nextUid:function(){return"ion"+e++},disconnectScope:function(t){if(t&&t.$root!==t){var e=t.$parent;t.$$disconnected=!0,t.$broadcast("$ionic.disconnectScope",t),e.$$childHead===t&&(e.$$childHead=t.$$nextSibling),e.$$childTail===t&&(e.$$childTail=t.$$prevSibling),t.$$prevSibling&&(t.$$prevSibling.$$nextSibling=t.$$nextSibling),t.$$nextSibling&&(t.$$nextSibling.$$prevSibling=t.$$prevSibling),t.$$nextSibling=t.$$prevSibling=null}},reconnectScope:function(t){if(t&&t.$root!==t&&t.$$disconnected){var e=t.$parent;t.$$disconnected=!1,t.$broadcast("$ionic.reconnectScope",t),t.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=t,e.$$childTail=t):e.$$childHead=e.$$childTail=t}},isScopeDisconnected:function(t){for(var e=t;e;){if(e.$$disconnected)return!0;e=e.$parent}return!1}},t.inherit=t.Utils.inherit,t.extend=t.Utils.extend,t.throttle=t.Utils.throttle,t.proxy=t.Utils.proxy,t.debounce=t.Utils.debounce}(window.ionic);var tt,et,nt,rt,it,ot=0,at=0,st=0,lt=!1,ut="keyboard-open",ct="scroll-content",ht=ionic.debounce(E,200,!0),dt=ionic.debounce(S,100,!0);ionic.keyboard={isOpen:!1,isClosing:!1,isOpening:!1,height:0,isLandscape:!1,isInitialized:!1,hide:function(){R()&&cordova.plugins.Keyboard.close(),tt&&tt.blur()},show:function(){R()&&cordova.plugins.Keyboard.show()},disable:function(){R()?(window.removeEventListener("native.keyboardshow",dt),window.removeEventListener("native.keyboardhide",$)):document.body.removeEventListener("focusout",$),document.body.removeEventListener("ionic.focusin",ht),document.body.removeEventListener("focusin",ht),window.removeEventListener("orientationchange",T),window.navigator.msPointerEnabled?document.removeEventListener("MSPointerDown",x):document.removeEventListener("touchstart",x),ionic.keyboard.isInitialized=!1},enable:function(){x()}},ot=B(),ionic.Platform.ready(function(){O(),window.addEventListener("orientationchange",T),setTimeout(O,999),window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",x,!1):document.addEventListener("touchstart",x,!1)});var ft,pt={};ionic.viewport={orientation:function(){return window.innerWidth>window.innerHeight?90:0}},ionic.Platform.ready(function(){V(),window.addEventListener("orientationchange",function(){setTimeout(U,1e3)},!1)}),function(t){"use strict";t.views.View=function(){this.initialize.apply(this,arguments)},t.views.View.inherit=t.inherit,t.extend(t.views.View.prototype,{initialize:function(){}})}(window.ionic);var mt={effect:{}};!function(t){var e=Date.now||function(){return+new Date},n=60,r=1e3,i={},o=1;mt.effect.Animate={requestAnimationFrame:function(){var e=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame,n=!!e;if(e&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(e.toString())&&(n=!1),n)return function(t,n){e(t,n)};var r=60,i={},o=0,a=1,s=null,l=+new Date;return function(t){var e=a++;return i[e]=t,o++,null===s&&(s=setInterval(function(){var t=+new Date,e=i;i={},o=0;for(var n in e)e.hasOwnProperty(n)&&(e[n](t),l=t);t-l>2500&&(clearInterval(s),s=null)},1e3/r)),e}}(),stop:function(t){var e=null!=i[t];return e&&(i[t]=null),e},isRunning:function(t){return null!=i[t]},start:function(t,a,s,l,u,c){var h=e(),d=h,f=0,p=0,m=o++;if(c||(c=document.body),m%20===0){var g={};for(var v in i)g[v]=!0;i=g}var _=function(o){var g=o!==!0,v=e();if(!i[m]||a&&!a(m))return i[m]=null,void(s&&s(n-p/((v-h)/r),m,!1));if(g)for(var y=Math.round((v-d)/(r/n))-1,w=0;w<Math.min(y,4);w++)_(!0),p++;l&&(f=(v-h)/l,f>1&&(f=1));var b=u?u(f):f;t(b,v,g)!==!1&&1!==f||!g?g&&(d=v,mt.effect.Animate.requestAnimationFrame(_,c)):(i[m]=null,s&&s(n-p/((v-h)/r),m,1===f||null==l))};return i[m]=!0,mt.effect.Animate.requestAnimationFrame(_,c),m}}}(window),function(t){var e=function(){},n=function(t){return Math.pow(t-1,3)+1},r=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)};t.views.Scroll=t.views.View.inherit({initialize:function(n){var r=this;r.__container=n.el,r.__content=n.el.firstElementChild,setTimeout(function(){r.__container&&r.__content&&(r.__container.scrollTop=0,r.__content.scrollTop=0)}),r.options={scrollingX:!1,scrollbarX:!0,scrollingY:!0,scrollbarY:!0,startX:0,startY:0,wheelDampen:6,minScrollbarSizeX:5,minScrollbarSizeY:5,scrollbarsFade:!0,scrollbarFadeDelay:300,scrollbarResizeFadeDelay:1e3,animating:!0,animationDuration:250,decelVelocityThreshold:4,decelVelocityThresholdPaging:4,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,deceleration:.97,preventDefault:!1,scrollingComplete:e,penetrationDeceleration:.03,penetrationAcceleration:.08,scrollEventInterval:10,freeze:!1,getContentWidth:function(){return Math.max(r.__content.scrollWidth,r.__content.offsetWidth)},getContentHeight:function(){return Math.max(r.__content.scrollHeight,r.__content.offsetHeight+2*r.__content.offsetTop)}};for(var i in n)r.options[i]=n[i];r.hintResize=t.debounce(function(){r.resize()},1e3,!0),r.onScroll=function(){t.scroll.isScrolling?(clearTimeout(r.scrollTimer),r.scrollTimer=setTimeout(r.setScrollStop,80)):setTimeout(r.setScrollStart,50)},r.freeze=function(t){return arguments.length&&(r.options.freeze=t),r.options.freeze},r.freezeShut=r.freeze,r.setScrollStart=function(){t.scroll.isScrolling=Math.abs(t.scroll.lastTop-r.__scrollTop)>1,clearTimeout(r.scrollTimer),r.scrollTimer=setTimeout(r.setScrollStop,80)},r.setScrollStop=function(){t.scroll.isScrolling=!1,t.scroll.lastTop=r.__scrollTop},r.triggerScrollEvent=t.throttle(function(){r.onScroll(),t.trigger("scroll",{scrollTop:r.__scrollTop,scrollLeft:r.__scrollLeft,target:r.__container})},r.options.scrollEventInterval),r.triggerScrollEndEvent=function(){t.trigger("scrollend",{scrollTop:r.__scrollTop,scrollLeft:r.__scrollLeft,target:r.__container})},r.__scrollLeft=r.options.startX,r.__scrollTop=r.options.startY,r.__callback=r.getRenderFn(),r.__initEventHandlers(),r.__createScrollbars()},run:function(){this.resize(),this.__fadeScrollbars("out",this.options.scrollbarResizeFadeDelay)},__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,__transformProperty:null,__perspectiveProperty:null,__indicatorX:null,__indicatorY:null,__scrollbarFadeTimeout:null,__didWaitForSize:null,__sizerTimeout:null,__initEventHandlers:function(){function e(t){return t.touches&&t.touches.length?t.touches:[{pageX:t.pageX,pageY:t.pageY}]}var n,r=this,i=r.__container;if(r.scrollChildIntoView=function(e){var o=i.getBoundingClientRect().bottom;n=i.offsetHeight;var a=r.isShrunkForKeyboard,s=i.parentNode.classList.contains("modal"),l=s&&window.innerWidth>=680;if(!a){if(t.Platform.isIOS()||t.Platform.isFullScreen||l){var u=e.detail.viewportHeight-o,c=Math.max(0,e.detail.keyboardHeight-u);t.requestAnimationFrame(function(){n-=c,i.style.height=n+"px",i.style.overflow="visible",r.resize()})}r.isShrunkForKeyboard=!0}e.detail.isElementUnderKeyboard&&t.requestAnimationFrame(function(){i.scrollTop=0,r.isShrunkForKeyboard&&!a&&(o=i.getBoundingClientRect().bottom);var s=.5*n,l=(e.detail.elementBottom+e.detail.elementTop)/2,u=l-o,c=u+s;c>0&&(t.Platform.isIOS()&&t.tap.cloneFocusedInput(i,r),r.scrollBy(0,c,!0),r.onScroll())}),e.stopPropagation()},r.resetScrollView=function(){r.isShrunkForKeyboard&&(r.isShrunkForKeyboard=!1,i.style.height="",i.style.overflow=""),r.resize()},i.addEventListener("scrollChildIntoView",r.scrollChildIntoView),document.addEventListener("resetScrollView",r.resetScrollView),r.touchStart=function(n){if(r.startCoordinates=t.tap.pointerCoord(n),!t.tap.ignoreScrollStart(n)){if(r.__isDown=!0,t.tap.containsOrIsTextInput(n.target)||"SELECT"===n.target.tagName)return void(r.__hasStarted=!1);r.__isSelectable=!0,r.__enableScrollY=!0,r.__hasStarted=!0,r.doTouchStart(e(n),n.timeStamp),n.preventDefault()}},r.touchMove=function(n){if(!(r.options.freeze||!r.__isDown||!r.__isDown&&n.defaultPrevented||"TEXTAREA"===n.target.tagName&&n.target.parentElement.querySelector(":focus"))){if(!r.__hasStarted&&(t.tap.containsOrIsTextInput(n.target)||"SELECT"===n.target.tagName))return r.__hasStarted=!0,r.doTouchStart(e(n),n.timeStamp),void n.preventDefault();if(r.startCoordinates){var o=t.tap.pointerCoord(n);r.__isSelectable&&t.tap.isTextInput(n.target)&&Math.abs(r.startCoordinates.x-o.x)>20&&(r.__enableScrollY=!1,r.__isSelectable=!0),r.__enableScrollY&&Math.abs(r.startCoordinates.y-o.y)>10&&(r.__isSelectable=!1,t.tap.cloneFocusedInput(i,r))}r.doTouchMove(e(n),n.timeStamp,n.scale),r.__isDown=!0}},r.touchMoveBubble=function(t){r.__isDown&&r.options.preventDefault&&t.preventDefault()},r.touchEnd=function(e){r.__isDown&&(r.doTouchEnd(e,e.timeStamp),r.__isDown=!1,r.__hasStarted=!1,r.__isSelectable=!0,r.__enableScrollY=!0,r.__isDragging||r.__isDecelerating||r.__isAnimating||t.tap.removeClonedInputs(i,r))},r.mouseWheel=t.animationFrameThrottle(function(e){var n=t.DomUtil.getParentOrSelfWithClass(e.target,"ionic-scroll");r.options.freeze||n!==r.__container||(r.hintResize(),r.scrollBy((e.wheelDeltaX||e.deltaX||0)/r.options.wheelDampen,(-e.wheelDeltaY||e.deltaY||0)/r.options.wheelDampen),r.__fadeScrollbars("in"),clearTimeout(r.__wheelHideBarTimeout),r.__wheelHideBarTimeout=setTimeout(function(){r.__fadeScrollbars("out")},100))}),"ontouchstart"in window)i.addEventListener("touchstart",r.touchStart,!1),r.options.preventDefault&&i.addEventListener("touchmove",r.touchMoveBubble,!1),document.addEventListener("touchmove",r.touchMove,!1),document.addEventListener("touchend",r.touchEnd,!1),document.addEventListener("touchcancel",r.touchEnd,!1),document.addEventListener("wheel",r.mouseWheel,!1);else if(window.navigator.pointerEnabled)i.addEventListener("pointerdown",r.touchStart,!1),r.options.preventDefault&&i.addEventListener("pointermove",r.touchMoveBubble,!1),document.addEventListener("pointermove",r.touchMove,!1),document.addEventListener("pointerup",r.touchEnd,!1),document.addEventListener("pointercancel",r.touchEnd,!1),document.addEventListener("wheel",r.mouseWheel,!1);else if(window.navigator.msPointerEnabled)i.addEventListener("MSPointerDown",r.touchStart,!1),r.options.preventDefault&&i.addEventListener("MSPointerMove",r.touchMoveBubble,!1),document.addEventListener("MSPointerMove",r.touchMove,!1),document.addEventListener("MSPointerUp",r.touchEnd,!1),document.addEventListener("MSPointerCancel",r.touchEnd,!1),document.addEventListener("wheel",r.mouseWheel,!1);else{var o=!1;r.mouseDown=function(n){t.tap.ignoreScrollStart(n)||"SELECT"===n.target.tagName||(r.doTouchStart(e(n),n.timeStamp),t.tap.isTextInput(n.target)||n.preventDefault(),o=!0)},r.mouseMove=function(t){r.options.freeze||!o||!o&&t.defaultPrevented||(r.doTouchMove(e(t),t.timeStamp),o=!0)},r.mouseMoveBubble=function(t){o&&r.options.preventDefault&&t.preventDefault()},r.mouseUp=function(t){o&&(r.doTouchEnd(t,t.timeStamp),o=!1)},i.addEventListener("mousedown",r.mouseDown,!1),r.options.preventDefault&&i.addEventListener("mousemove",r.mouseMoveBubble,!1),document.addEventListener("mousemove",r.mouseMove,!1),document.addEventListener("mouseup",r.mouseUp,!1),document.addEventListener("mousewheel",r.mouseWheel,!1),document.addEventListener("wheel",r.mouseWheel,!1)}},__cleanup:function(){var n=this,r=n.__container;r.removeEventListener("touchstart",n.touchStart),r.removeEventListener("touchmove",n.touchMoveBubble),document.removeEventListener("touchmove",n.touchMove),document.removeEventListener("touchend",n.touchEnd),document.removeEventListener("touchcancel",n.touchEnd),r.removeEventListener("pointerdown",n.touchStart),r.removeEventListener("pointermove",n.touchMoveBubble),document.removeEventListener("pointermove",n.touchMove),document.removeEventListener("pointerup",n.touchEnd),document.removeEventListener("pointercancel",n.touchEnd),r.removeEventListener("MSPointerDown",n.touchStart),r.removeEventListener("MSPointerMove",n.touchMoveBubble),document.removeEventListener("MSPointerMove",n.touchMove),document.removeEventListener("MSPointerUp",n.touchEnd),document.removeEventListener("MSPointerCancel",n.touchEnd),r.removeEventListener("mousedown",n.mouseDown),r.removeEventListener("mousemove",n.mouseMoveBubble),document.removeEventListener("mousemove",n.mouseMove),document.removeEventListener("mouseup",n.mouseUp),document.removeEventListener("mousewheel",n.mouseWheel),document.removeEventListener("wheel",n.mouseWheel),r.removeEventListener("scrollChildIntoView",n.scrollChildIntoView),document.removeEventListener("resetScrollView",n.resetScrollView),t.tap.removeClonedInputs(r,n),delete n.__container,delete n.__content,delete n.__indicatorX,delete n.__indicatorY,delete n.options.el,n.__callback=n.scrollChildIntoView=n.resetScrollView=e,n.mouseMove=n.mouseDown=n.mouseUp=n.mouseWheel=n.touchStart=n.touchMove=n.touchEnd=n.touchCancel=e,n.resize=n.scrollTo=n.zoomTo=n.__scrollingComplete=e,r=null},__createScrollbar:function(t){var e=document.createElement("div"),n=document.createElement("div");return n.className="scroll-bar-indicator scroll-bar-fade-out","h"==t?e.className="scroll-bar scroll-bar-h":e.className="scroll-bar scroll-bar-v",e.appendChild(n),e},__createScrollbars:function(){var t,e,n=this;n.options.scrollingX&&(t={el:n.__createScrollbar("h"),sizeRatio:1},t.indicator=t.el.children[0],n.options.scrollbarX&&n.__container.appendChild(t.el),n.__indicatorX=t),n.options.scrollingY&&(e={el:n.__createScrollbar("v"),sizeRatio:1},e.indicator=e.el.children[0],n.options.scrollbarY&&n.__container.appendChild(e.el),n.__indicatorY=e)},__resizeScrollbars:function(){var e=this;if(e.__indicatorX){var n=Math.max(Math.round(e.__clientWidth*e.__clientWidth/e.__contentWidth),20);n>e.__contentWidth&&(n=0),n!==e.__indicatorX.size&&t.requestAnimationFrame(function(){e.__indicatorX.indicator.style.width=n+"px"}),e.__indicatorX.size=n,e.__indicatorX.minScale=e.options.minScrollbarSizeX/n,e.__indicatorX.maxPos=e.__clientWidth-n,e.__indicatorX.sizeRatio=e.__maxScrollLeft?e.__indicatorX.maxPos/e.__maxScrollLeft:1}if(e.__indicatorY){var r=Math.max(Math.round(e.__clientHeight*e.__clientHeight/e.__contentHeight),20);r>e.__contentHeight&&(r=0),r!==e.__indicatorY.size&&t.requestAnimationFrame(function(){e.__indicatorY&&(e.__indicatorY.indicator.style.height=r+"px")}),e.__indicatorY.size=r,e.__indicatorY.minScale=e.options.minScrollbarSizeY/r,e.__indicatorY.maxPos=e.__clientHeight-r,e.__indicatorY.sizeRatio=e.__maxScrollTop?e.__indicatorY.maxPos/e.__maxScrollTop:1}},__repositionScrollbars:function(){var t,e,n,r,i,o,a=this,s=0,l=0;if(a.__indicatorX){a.__indicatorY&&(s=10),i=Math.round(a.__indicatorX.sizeRatio*a.__scrollLeft)||0,n=a.__scrollLeft-(a.__maxScrollLeft-s),a.__scrollLeft<0?(e=Math.max(a.__indicatorX.minScale,(a.__indicatorX.size-Math.abs(a.__scrollLeft))/a.__indicatorX.size),i=0,a.__indicatorX.indicator.style[a.__transformOriginProperty]="left center"):n>0?(e=Math.max(a.__indicatorX.minScale,(a.__indicatorX.size-n)/a.__indicatorX.size),i=a.__indicatorX.maxPos-s,a.__indicatorX.indicator.style[a.__transformOriginProperty]="right center"):(i=Math.min(a.__maxScrollLeft,Math.max(0,i)),e=1);var u="translate3d("+i+"px, 0, 0) scaleX("+e+")";a.__indicatorX.transformProp!==u&&(a.__indicatorX.indicator.style[a.__transformProperty]=u,a.__indicatorX.transformProp=u)}if(a.__indicatorY){o=Math.round(a.__indicatorY.sizeRatio*a.__scrollTop)||0,a.__indicatorX&&(l=10),r=a.__scrollTop-(a.__maxScrollTop-l),a.__scrollTop<0?(t=Math.max(a.__indicatorY.minScale,(a.__indicatorY.size-Math.abs(a.__scrollTop))/a.__indicatorY.size),o=0,"center top"!==a.__indicatorY.originProp&&(a.__indicatorY.indicator.style[a.__transformOriginProperty]="center top",a.__indicatorY.originProp="center top")):r>0?(t=Math.max(a.__indicatorY.minScale,(a.__indicatorY.size-r)/a.__indicatorY.size),o=a.__indicatorY.maxPos-l,"center bottom"!==a.__indicatorY.originProp&&(a.__indicatorY.indicator.style[a.__transformOriginProperty]="center bottom",a.__indicatorY.originProp="center bottom")):(o=Math.min(a.__maxScrollTop,Math.max(0,o)),t=1);var c="translate3d(0,"+o+"px, 0) scaleY("+t+")";a.__indicatorY.transformProp!==c&&(a.__indicatorY.indicator.style[a.__transformProperty]=c,a.__indicatorY.transformProp=c)}},__fadeScrollbars:function(t,e){var n=this;if(n.options.scrollbarsFade){var r="scroll-bar-fade-out";n.options.scrollbarsFade===!0&&(clearTimeout(n.__scrollbarFadeTimeout),"in"==t?(n.__indicatorX&&n.__indicatorX.indicator.classList.remove(r),n.__indicatorY&&n.__indicatorY.indicator.classList.remove(r)):n.__scrollbarFadeTimeout=setTimeout(function(){n.__indicatorX&&n.__indicatorX.indicator.classList.add(r),n.__indicatorY&&n.__indicatorY.indicator.classList.add(r)},e||n.options.scrollbarFadeDelay))}},__scrollingComplete:function(){this.options.scrollingComplete(),t.tap.removeClonedInputs(this.__container,this),this.__fadeScrollbars("out")},resize:function(t){var e=this;e.__container&&e.options&&e.setDimensions(e.__container.clientWidth,e.__container.clientHeight,e.options.getContentWidth(),e.options.getContentHeight(),t)},getRenderFn:function(){var t,e=this,n=e.__content,r=document.documentElement.style;"MozAppearance"in r?t="gecko":"WebkitAppearance"in r?t="webkit":"string"==typeof navigator.cpuClass&&(t="trident");var i,o={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[t],a=document.createElement("div"),s=o+"Perspective",l=o+"Transform",u=o+"TransformOrigin";return e.__perspectiveProperty=l,e.__transformProperty=l,e.__transformOriginProperty=u,a.style[s]!==i?function(t,r,i,o){var a="translate3d("+-t+"px,"+-r+"px,0) scale("+i+")";a!==e.contentTransform&&(n.style[l]=a,e.contentTransform=a),e.__repositionScrollbars(),o||e.triggerScrollEvent()}:a.style[l]!==i?function(t,r,i,o){n.style[l]="translate("+-t+"px,"+-r+"px) scale("+i+")",e.__repositionScrollbars(),o||e.triggerScrollEvent()}:function(t,r,i,o){n.style.marginLeft=t?-t/i+"px":"",n.style.marginTop=r?-r/i+"px":"",n.style.zoom=i||"",e.__repositionScrollbars(),o||e.triggerScrollEvent()}},setDimensions:function(t,e,n,r,i){var o=this;(t||e||n||r)&&(t===+t&&(o.__clientWidth=t),e===+e&&(o.__clientHeight=e),n===+n&&(o.__contentWidth=n),r===+r&&(o.__contentHeight=r),o.__computeScrollMax(),o.__resizeScrollbars(),i||o.scrollTo(o.__scrollLeft,o.__scrollTop,!0,null,!0))},setPosition:function(t,e){this.__clientLeft=t||0,this.__clientTop=e||0},setSnapSize:function(t,e){this.__snapWidth=t,this.__snapHeight=e},activatePullToRefresh:function(e,n){var r=this;r.__refreshHeight=e,r.__refreshActivate=function(){t.requestAnimationFrame(n.activate)},r.__refreshDeactivate=function(){t.requestAnimationFrame(n.deactivate)},r.__refreshStart=function(){t.requestAnimationFrame(n.start)},r.__refreshShow=function(){t.requestAnimationFrame(n.show)},r.__refreshHide=function(){t.requestAnimationFrame(n.hide)},r.__refreshTail=function(){t.requestAnimationFrame(n.tail)},r.__refreshTailTime=100,r.__minSpinTime=600},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0);var t=new Date;this.refreshStartTime=t.getTime(),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var t=this,e=new Date,n=0;t.refreshStartTime+t.__minSpinTime>e.getTime()&&(n=t.refreshStartTime+t.__minSpinTime-e.getTime()),setTimeout(function(){t.__refreshTail&&t.__refreshTail(),setTimeout(function(){t.__refreshActive=!1,t.__refreshDeactivate&&t.__refreshDeactivate(),t.__refreshHide&&t.__refreshHide(),t.scrollTo(t.__scrollLeft,t.__scrollTop,!0)},t.__refreshTailTime)},n)},getValues:function(){return{left:this.__scrollLeft,top:this.__scrollTop,zoom:this.__zoomLevel}},getScrollMax:function(){return{left:this.__maxScrollLeft,top:this.__maxScrollTop}},zoomTo:function(t,e,n,r){var i=this;if(!i.options.zooming)throw new Error("Zooming is not enabled!");i.__isDecelerating&&(mt.effect.Animate.stop(i.__isDecelerating),i.__isDecelerating=!1);var o=i.__zoomLevel;null==n&&(n=i.__clientWidth/2),null==r&&(r=i.__clientHeight/2),t=Math.max(Math.min(t,i.options.maxZoom),i.options.minZoom),i.__computeScrollMax(t);var a=(n+i.__scrollLeft)*t/o-n,s=(r+i.__scrollTop)*t/o-r;a>i.__maxScrollLeft?a=i.__maxScrollLeft:0>a&&(a=0),s>i.__maxScrollTop?s=i.__maxScrollTop:0>s&&(s=0),i.__publish(a,s,t,e)},zoomBy:function(t,e,n,r){this.zoomTo(this.__zoomLevel*t,e,n,r)},scrollTo:function(t,e,n,r,i){var o=this;if(o.__isDecelerating&&(mt.effect.Animate.stop(o.__isDecelerating),o.__isDecelerating=!1),null!=r&&r!==o.__zoomLevel){if(!o.options.zooming)throw new Error("Zooming is not enabled!");t*=r,e*=r,o.__computeScrollMax(r)}else r=o.__zoomLevel;o.options.scrollingX?o.options.paging?t=Math.round(t/o.__clientWidth)*o.__clientWidth:o.options.snapping&&(t=Math.round(t/o.__snapWidth)*o.__snapWidth):t=o.__scrollLeft,o.options.scrollingY?o.options.paging?e=Math.round(e/o.__clientHeight)*o.__clientHeight:o.options.snapping&&(e=Math.round(e/o.__snapHeight)*o.__snapHeight):e=o.__scrollTop,t=Math.max(Math.min(o.__maxScrollLeft,t),0),e=Math.max(Math.min(o.__maxScrollTop,e),0),t===o.__scrollLeft&&e===o.__scrollTop&&(n=!1),o.__publish(t,e,r,n,i)},scrollBy:function(t,e,n){var r=this,i=r.__isAnimating?r.__scheduledLeft:r.__scrollLeft,o=r.__isAnimating?r.__scheduledTop:r.__scrollTop;r.scrollTo(i+(t||0),o+(e||0),n)},doMouseZoom:function(t,e,n,r){var i=t>0?.97:1.03;return this.zoomTo(this.__zoomLevel*i,!1,n-this.__clientLeft,r-this.__clientTop)},doTouchStart:function(t,e){var n=this;n.__decStopped=!(!n.__isDecelerating&&!n.__isAnimating),n.hintResize(),e instanceof Date&&(e=e.valueOf()),"number"!=typeof e&&(e=Date.now()),n.__interruptedAnimation=!0,n.__isDecelerating&&(mt.effect.Animate.stop(n.__isDecelerating),n.__isDecelerating=!1,n.__interruptedAnimation=!0),n.__isAnimating&&(mt.effect.Animate.stop(n.__isAnimating),n.__isAnimating=!1,n.__interruptedAnimation=!0);var r,i,o=1===t.length;o?(r=t[0].pageX,i=t[0].pageY):(r=Math.abs(t[0].pageX+t[1].pageX)/2,i=Math.abs(t[0].pageY+t[1].pageY)/2),n.__initialTouchLeft=r,n.__initialTouchTop=i,n.__initialTouches=t,n.__zoomLevelStart=n.__zoomLevel,n.__lastTouchLeft=r,n.__lastTouchTop=i,n.__lastTouchMove=e,n.__lastScale=1,n.__enableScrollX=!o&&n.options.scrollingX,n.__enableScrollY=!o&&n.options.scrollingY,n.__isTracking=!0,n.__didDecelerationComplete=!1,n.__isDragging=!o,n.__isSingleTouch=o,n.__positions=[]},doTouchMove:function(t,e,n){e instanceof Date&&(e=e.valueOf()),"number"!=typeof e&&(e=Date.now());var r=this;if(r.__isTracking){var i,o;2===t.length?(i=Math.abs(t[0].pageX+t[1].pageX)/2,o=Math.abs(t[0].pageY+t[1].pageY)/2,!n&&r.options.zooming&&(n=r.__getScale(r.__initialTouches,t))):(i=t[0].pageX,o=t[0].pageY);var a=r.__positions;if(r.__isDragging){r.__decStopped=!1;var s=i-r.__lastTouchLeft,l=o-r.__lastTouchTop,u=r.__scrollLeft,c=r.__scrollTop,h=r.__zoomLevel;if(null!=n&&r.options.zooming){var d=h;if(h=h/r.__lastScale*n,h=Math.max(Math.min(h,r.options.maxZoom),r.options.minZoom),d!==h){var f=i-r.__clientLeft,p=o-r.__clientTop;u=(f+u)*h/d-f,c=(p+c)*h/d-p,r.__computeScrollMax(h)}}if(r.__enableScrollX){u-=s*r.options.speedMultiplier;var m=r.__maxScrollLeft;(u>m||0>u)&&(r.options.bouncing?u+=s/2*r.options.speedMultiplier:u=u>m?m:0)}if(r.__enableScrollY){c-=l*r.options.speedMultiplier;var g=r.__maxScrollTop;c>g||0>c?r.options.bouncing||r.__refreshHeight&&0>c?(c+=l/2*r.options.speedMultiplier,r.__enableScrollX||null==r.__refreshHeight||(0>c?(r.__refreshHidden=!1,r.__refreshShow()):(r.__refreshHide(),r.__refreshHidden=!0),!r.__refreshActive&&c<=-r.__refreshHeight?(r.__refreshActive=!0,r.__refreshActivate&&r.__refreshActivate()):r.__refreshActive&&c>-r.__refreshHeight&&(r.__refreshActive=!1,r.__refreshDeactivate&&r.__refreshDeactivate()))):c=c>g?g:0:r.__refreshHeight&&!r.__refreshHidden&&(r.__refreshHide(),r.__refreshHidden=!0)}a.length>60&&a.splice(0,30),a.push(u,c,e),r.__publish(u,c,h)}else{var v=r.options.locking?3:0,_=5,y=Math.abs(i-r.__initialTouchLeft),w=Math.abs(o-r.__initialTouchTop);r.__enableScrollX=r.options.scrollingX&&y>=v,r.__enableScrollY=r.options.scrollingY&&w>=v,a.push(r.__scrollLeft,r.__scrollTop,e),r.__isDragging=(r.__enableScrollX||r.__enableScrollY)&&(y>=_||w>=_),r.__isDragging&&(r.__interruptedAnimation=!1,r.__fadeScrollbars("in"))}r.__lastTouchLeft=i,r.__lastTouchTop=o,r.__lastTouchMove=e,r.__lastScale=n}},doTouchEnd:function(e,n){n instanceof Date&&(n=n.valueOf()),"number"!=typeof n&&(n=Date.now());var r=this;if(r.__isTracking){if(r.__isTracking=!1,r.__isDragging)if(r.__isDragging=!1,r.__isSingleTouch&&r.options.animating&&n-r.__lastTouchMove<=100){for(var i=r.__positions,o=i.length-1,a=o,s=o;s>0&&i[s]>r.__lastTouchMove-100;s-=3)a=s;
if(a!==o){var l=i[o]-i[a],u=r.__scrollLeft-i[a-2],c=r.__scrollTop-i[a-1];r.__decelerationVelocityX=u/l*(1e3/60),r.__decelerationVelocityY=c/l*(1e3/60);var h=r.options.paging||r.options.snapping?r.options.decelVelocityThresholdPaging:r.options.decelVelocityThreshold;(Math.abs(r.__decelerationVelocityX)>h||Math.abs(r.__decelerationVelocityY)>h)&&(r.__refreshActive||r.__startDeceleration(n))}else r.__scrollingComplete()}else n-r.__lastTouchMove>100&&r.__scrollingComplete();else r.__decStopped&&(e.isTapHandled=!0,r.__decStopped=!1);if(!r.__isDecelerating)if(r.__refreshActive&&r.__refreshStart){r.__publish(r.__scrollLeft,-r.__refreshHeight,r.__zoomLevel,!0);var d=new Date;r.refreshStartTime=d.getTime(),r.__refreshStart&&r.__refreshStart(),t.Platform.isAndroid()||r.__startDeceleration()}else(r.__interruptedAnimation||r.__isDragging)&&r.__scrollingComplete(),r.scrollTo(r.__scrollLeft,r.__scrollTop,!0,r.__zoomLevel),r.__refreshActive&&(r.__refreshActive=!1,r.__refreshDeactivate&&r.__refreshDeactivate());r.__positions.length=0}},__publish:function(t,e,i,o,a){var s=this,l=s.__isAnimating;if(l&&(mt.effect.Animate.stop(l),s.__isAnimating=!1),o&&s.options.animating){s.__scheduledLeft=t,s.__scheduledTop=e,s.__scheduledZoom=i;var u=s.__scrollLeft,c=s.__scrollTop,h=s.__zoomLevel,d=t-u,f=e-c,p=i-h,m=function(t,e,n){n&&(s.__scrollLeft=u+d*t,s.__scrollTop=c+f*t,s.__zoomLevel=h+p*t,s.__callback&&s.__callback(s.__scrollLeft,s.__scrollTop,s.__zoomLevel,a))},g=function(t){return s.__isAnimating===t},v=function(t,e,n){e===s.__isAnimating&&(s.__isAnimating=!1),(s.__didDecelerationComplete||n)&&s.__scrollingComplete(),s.options.zooming&&s.__computeScrollMax()};s.__isAnimating=mt.effect.Animate.start(m,g,v,s.options.animationDuration,l?n:r)}else s.__scheduledLeft=s.__scrollLeft=t,s.__scheduledTop=s.__scrollTop=e,s.__scheduledZoom=s.__zoomLevel=i,s.__callback&&s.__callback(t,e,i,a),s.options.zooming&&s.__computeScrollMax()},__computeScrollMax:function(t){var e=this;null==t&&(t=e.__zoomLevel),e.__maxScrollLeft=Math.max(e.__contentWidth*t-e.__clientWidth,0),e.__maxScrollTop=Math.max(e.__contentHeight*t-e.__clientHeight,0),e.__didWaitForSize||e.__maxScrollLeft||e.__maxScrollTop||(e.__didWaitForSize=!0,e.__waitForSize())},__waitForSize:function(){var t=this;clearTimeout(t.__sizerTimeout);var e=function(){t.resize(!0)};e(),t.__sizerTimeout=setTimeout(e,500)},__startDeceleration:function(){var t=this;if(t.options.paging){var e=Math.max(Math.min(t.__scrollLeft,t.__maxScrollLeft),0),n=Math.max(Math.min(t.__scrollTop,t.__maxScrollTop),0),r=t.__clientWidth,i=t.__clientHeight;t.__minDecelerationScrollLeft=Math.floor(e/r)*r,t.__minDecelerationScrollTop=Math.floor(n/i)*i,t.__maxDecelerationScrollLeft=Math.ceil(e/r)*r,t.__maxDecelerationScrollTop=Math.ceil(n/i)*i}else t.__minDecelerationScrollLeft=0,t.__minDecelerationScrollTop=0,t.__maxDecelerationScrollLeft=t.__maxScrollLeft,t.__maxDecelerationScrollTop=t.__maxScrollTop,t.__refreshActive&&(t.__minDecelerationScrollTop=-1*t.__refreshHeight);var o=function(e,n,r){t.__stepThroughDeceleration(r)};t.__minVelocityToKeepDecelerating=t.options.snapping?4:.1;var a=function(){var e=Math.abs(t.__decelerationVelocityX)>=t.__minVelocityToKeepDecelerating||Math.abs(t.__decelerationVelocityY)>=t.__minVelocityToKeepDecelerating;return e||(t.__didDecelerationComplete=!0,t.options.bouncing&&!t.__refreshActive&&t.scrollTo(Math.min(Math.max(t.__scrollLeft,0),t.__maxScrollLeft),Math.min(Math.max(t.__scrollTop,0),t.__maxScrollTop),t.__refreshActive)),e},s=function(){t.__isDecelerating=!1,t.__didDecelerationComplete&&t.__scrollingComplete(),t.options.paging&&t.scrollTo(t.__scrollLeft,t.__scrollTop,t.options.snapping)};t.__isDecelerating=mt.effect.Animate.start(o,a,s)},__stepThroughDeceleration:function(t){var e=this,n=e.__scrollLeft+e.__decelerationVelocityX,r=e.__scrollTop+e.__decelerationVelocityY;if(!e.options.bouncing){var i=Math.max(Math.min(e.__maxDecelerationScrollLeft,n),e.__minDecelerationScrollLeft);i!==n&&(n=i,e.__decelerationVelocityX=0);var o=Math.max(Math.min(e.__maxDecelerationScrollTop,r),e.__minDecelerationScrollTop);o!==r&&(r=o,e.__decelerationVelocityY=0)}if(t?e.__publish(n,r,e.__zoomLevel):(e.__scrollLeft=n,e.__scrollTop=r),!e.options.paging){var a=e.options.deceleration;e.__decelerationVelocityX*=a,e.__decelerationVelocityY*=a}if(e.options.bouncing){var s=0,l=0,u=e.options.penetrationDeceleration,c=e.options.penetrationAcceleration;if(n<e.__minDecelerationScrollLeft?s=e.__minDecelerationScrollLeft-n:n>e.__maxDecelerationScrollLeft&&(s=e.__maxDecelerationScrollLeft-n),r<e.__minDecelerationScrollTop?l=e.__minDecelerationScrollTop-r:r>e.__maxDecelerationScrollTop&&(l=e.__maxDecelerationScrollTop-r),0!==s){var h=s*e.__decelerationVelocityX<=e.__minDecelerationScrollLeft;h&&(e.__decelerationVelocityX+=s*u);var d=Math.abs(e.__decelerationVelocityX)<=e.__minVelocityToKeepDecelerating;(!h||d)&&(e.__decelerationVelocityX=s*c)}if(0!==l){var f=l*e.__decelerationVelocityY<=e.__minDecelerationScrollTop;f&&(e.__decelerationVelocityY+=l*u);var p=Math.abs(e.__decelerationVelocityY)<=e.__minVelocityToKeepDecelerating;(!f||p)&&(e.__decelerationVelocityY=l*c)}}},__getDistance:function(t,e){var n=e.pageX-t.pageX,r=e.pageY-t.pageY;return Math.sqrt(n*n+r*r)},__getScale:function(t,e){return t.length>=2&&e.length>=2?this.__getDistance(e[0],e[1])/this.__getDistance(t[0],t[1]):1}}),t.scroll={isScrolling:!1,lastTop:0}}(ionic),function(t){var e=function(){},n=function(t){};t.views.ScrollNative=t.views.View.inherit({initialize:function(e){var n=this;n.__container=n.el=e.el,n.__content=e.el.firstElementChild,n.__frozen=!1,n.isNative=!0,n.__scrollTop=n.el.scrollTop,n.__scrollLeft=n.el.scrollLeft,n.__clientHeight=n.__content.clientHeight,n.__clientWidth=n.__content.clientWidth,n.__maxScrollTop=Math.max(n.__contentHeight-n.__clientHeight,0),n.__maxScrollLeft=Math.max(n.__contentWidth-n.__clientWidth,0),(e.startY>=0||e.startX>=0)&&t.requestAnimationFrame(function(){n.el.scrollTop=e.startY||0,n.el.scrollLeft=e.startX||0,n.__scrollTop=n.el.scrollTop,n.__scrollLeft=n.el.scrollLeft}),n.options={freeze:!1,getContentWidth:function(){return Math.max(n.__content.scrollWidth,n.__content.offsetWidth)},getContentHeight:function(){return Math.max(n.__content.scrollHeight,n.__content.offsetHeight+2*n.__content.offsetTop)}};for(var r in e)n.options[r]=e[r];n.onScroll=function(){t.scroll.isScrolling||(t.scroll.isScrolling=!0),clearTimeout(n.scrollTimer),n.scrollTimer=setTimeout(function(){t.scroll.isScrolling=!1},80)},n.freeze=function(t){n.__frozen=t},n.freezeShut=function(t){n.__frozenShut=t},n.__initEventHandlers()},__callback:function(){n("__callback")},zoomTo:function(){n("zoomTo")},zoomBy:function(){n("zoomBy")},activatePullToRefresh:function(){n("activatePullToRefresh")},resize:function(t){var e=this;e.__container&&e.options&&e.setDimensions(e.__container.clientWidth,e.__container.clientHeight,e.options.getContentWidth(),e.options.getContentHeight(),t)},run:function(){this.resize()},getValues:function(){var t=this;return t.update(),{left:t.__scrollLeft,top:t.__scrollTop,zoom:1}},update:function(){var t=this;t.__scrollLeft=t.el.scrollLeft,t.__scrollTop=t.el.scrollTop},setDimensions:function(t,e,n,r){var i=this;(t||e||n||r)&&(t===+t&&(i.__clientWidth=t),e===+e&&(i.__clientHeight=e),n===+n&&(i.__contentWidth=n),r===+r&&(i.__contentHeight=r),i.__computeScrollMax())},getScrollMax:function(){return{left:this.__maxScrollLeft,top:this.__maxScrollTop}},scrollBy:function(t,e,n){var r=this;r.update();var i=r.__isAnimating?r.__scheduledLeft:r.__scrollLeft,o=r.__isAnimating?r.__scheduledTop:r.__scrollTop;r.scrollTo(i+(t||0),o+(e||0),n)},scrollTo:function(e,n,r){function i(e,n){function r(t){return--t*t*t+1}function i(){var d=Date.now(),f=Math.min(1,(d-l)/u),p=r(f);c!=e&&(o.el.scrollTop=parseInt(p*(e-c)+c,10)),h!=n&&(o.el.scrollLeft=parseInt(p*(n-h)+h,10)),1>f?t.requestAnimationFrame(i):(t.tap.removeClonedInputs(o.__container,o),o.el.style.overflowX=a,o.el.style.overflowY=s,o.resize())}var l=Date.now(),u=250,c=o.el.scrollTop,h=o.el.scrollLeft;return c===e&&h===n?(o.el.style.overflowX=a,o.el.style.overflowY=s,void o.resize()):void t.requestAnimationFrame(i)}var o=this;if(!r)return o.el.scrollTop=n,o.el.scrollLeft=e,void o.resize();var a=o.el.style.overflowX,s=o.el.style.overflowY;clearTimeout(o.__scrollToCleanupTimeout),o.__scrollToCleanupTimeout=setTimeout(function(){o.el.style.overflowX=a,o.el.style.overflowY=s},500),o.el.style.overflowY="hidden",o.el.style.overflowX="hidden",i(n,e)},__waitForSize:function(){var t=this;clearTimeout(t.__sizerTimeout);var e=function(){t.resize(!0)};e(),t.__sizerTimeout=setTimeout(e,500)},__computeScrollMax:function(){var t=this;t.__maxScrollLeft=Math.max(t.__contentWidth-t.__clientWidth,0),t.__maxScrollTop=Math.max(t.__contentHeight-t.__clientHeight,0),t.__didWaitForSize||t.__maxScrollLeft||t.__maxScrollTop||(t.__didWaitForSize=!0,t.__waitForSize())},__initEventHandlers:function(){var e,n,r=this,i=r.__container;r.scrollChildIntoView=function(o){var a=i.getBoundingClientRect();r.__originalContainerHeight||(r.__originalContainerHeight=a.height),e=r.__originalContainerHeight;var s=r.isShrunkForKeyboard,l=i.parentNode.classList.contains("modal"),u=i.parentNode.classList.contains("popover"),c=l&&window.innerWidth>=680,h=n&&n!==o.detail.keyboardHeight;(!s||h)&&(!u&&(t.Platform.isIOS()||t.Platform.isFullScreen||c)&&t.requestAnimationFrame(function(){e=Math.max(0,Math.min(r.__originalContainerHeight,r.__originalContainerHeight-(o.detail.keyboardHeight-43))),i.style.height=e+"px",i.classList.add("keyboard-up"),r.resize()}),r.isShrunkForKeyboard=!0),n=o.detail.keyboardHeight,o.detail.isElementUnderKeyboard&&t.requestAnimationFrame(function(){var e=t.DomUtil.getOffsetTop(o.detail.target);setTimeout(function(){t.Platform.isIOS()&&t.tap.cloneFocusedInput(i,r),r.scrollTo(0,e-(a.top+100),!0),r.onScroll()},32)}),o.stopPropagation()},r.resetScrollView=function(){r.isShrunkForKeyboard&&(r.isShrunkForKeyboard=!1,i.style.height="",r.__originalContainerHeight=i.getBoundingClientRect().height,t.Platform.isIOS()&&t.requestAnimationFrame(function(){i.classList.remove("keyboard-up")})),r.resize()},r.handleTouchMove=function(t){return r.__frozenShut?(t.preventDefault(),t.stopPropagation(),!1):void 0},i.addEventListener("scroll",r.onScroll),i.addEventListener("scrollChildIntoView",r.scrollChildIntoView),i.addEventListener(t.EVENTS.touchstart,r.handleTouchMove),i.addEventListener(t.EVENTS.touchmove,r.handleTouchMove),document.addEventListener("resetScrollView",r.resetScrollView)},__cleanup:function(){var n=this,r=n.__container;r.removeEventListener("resetScrollView",n.resetScrollView),r.removeEventListener("scroll",n.onScroll),r.removeEventListener("scrollChildIntoView",n.scrollChildIntoView),r.removeEventListener("resetScrollView",n.resetScrollView),r.removeEventListener(t.EVENTS.touchstart,n.handleTouchMove),r.removeEventListener(t.EVENTS.touchmove,n.handleTouchMove),t.tap.removeClonedInputs(r,n),delete n.__container,delete n.__content,delete n.__indicatorX,delete n.__indicatorY,delete n.options.el,n.resize=n.scrollTo=n.onScroll=n.resetScrollView=e,n.scrollChildIntoView=e,r=null}})}(ionic),function(t){"use strict";var e="item",n="item-content",r="item-sliding",i="item-options",o="item-placeholder",a="item-reordering",s="item-reorder",l=function(){};l.prototype={start:function(){},drag:function(){},end:function(){},isSameItem:function(){return!1}};var u=function(t){this.dragThresholdX=t.dragThresholdX||10,this.el=t.el,this.item=t.item,this.canSwipe=t.canSwipe};u.prototype=new l,u.prototype.start=function(o){var a,s,l,u;this.canSwipe()&&(a=o.target.classList.contains(n)?o.target:o.target.classList.contains(e)?o.target.querySelector("."+n):t.DomUtil.getParentWithClass(o.target,n),a&&(a.classList.remove(r),l=parseFloat(a.style[t.CSS.TRANSFORM].replace("translate3d(","").split(",")[0])||0,s=a.parentNode.querySelector("."+i),s&&(s.classList.remove("invisible"),u=s.offsetWidth,this._currentDrag={buttons:s,buttonsWidth:u,content:a,startOffsetX:l})))},u.prototype.isSameItem=function(t){return t._lastDrag&&this._currentDrag?this._currentDrag.content==t._lastDrag.content:!1},u.prototype.clean=function(e){function n(){r.buttons&&r.buttons.classList.add("invisible")}var r=this._lastDrag;r&&r.content&&(r.content.style[t.CSS.TRANSITION]="",r.content.style[t.CSS.TRANSFORM]="",e?(r.content.style[t.CSS.TRANSITION]="none",n(),t.requestAnimationFrame(function(){r.content.style[t.CSS.TRANSITION]=""})):t.requestAnimationFrame(function(){setTimeout(n,250)}))},u.prototype.drag=t.animationFrameThrottle(function(e){var n;if(this._currentDrag&&(!this._isDragging&&(Math.abs(e.gesture.deltaX)>this.dragThresholdX||Math.abs(this._currentDrag.startOffsetX)>0)&&(this._isDragging=!0),this._isDragging)){n=this._currentDrag.buttonsWidth;var r=Math.min(0,this._currentDrag.startOffsetX+e.gesture.deltaX);-n>r&&(r=Math.min(-n,-n+.4*(e.gesture.deltaX+n))),this._currentDrag.content.$$ionicOptionsOpen=0!==r,this._currentDrag.content.style[t.CSS.TRANSFORM]="translate3d("+r+"px, 0, 0)",this._currentDrag.content.style[t.CSS.TRANSITION]="none"}}),u.prototype.end=function(e,n){var r=this;if(!r._currentDrag)return void(n&&n());var i=-r._currentDrag.buttonsWidth;e.gesture.deltaX>-(r._currentDrag.buttonsWidth/2)&&("left"==e.gesture.direction&&Math.abs(e.gesture.velocityX)<.3?i=0:"right"==e.gesture.direction&&(i=0)),t.requestAnimationFrame(function(){if(0===i){r._currentDrag.content.style[t.CSS.TRANSFORM]="";var e=r._currentDrag.buttons;setTimeout(function(){e&&e.classList.add("invisible")},250)}else r._currentDrag.content.style[t.CSS.TRANSFORM]="translate3d("+i+"px,0,0)";r._currentDrag.content.style[t.CSS.TRANSITION]="",r._lastDrag||(r._lastDrag={}),t.extend(r._lastDrag,r._currentDrag),r._currentDrag&&(r._currentDrag.buttons=null,r._currentDrag.content=null),r._currentDrag=null,n&&n()})};var c=function(t){var e=this;if(e.dragThresholdY=t.dragThresholdY||0,e.onReorder=t.onReorder,e.listEl=t.listEl,e.el=e.item=t.el,e.scrollEl=t.scrollEl,e.scrollView=t.scrollView,e.listElTrueTop=0,e.listEl.offsetParent){var n=e.listEl;do e.listElTrueTop+=n.offsetTop,n=n.offsetParent;while(n)}};c.prototype=new l,c.prototype._moveElement=function(e){var n=e.gesture.center.pageY+this.scrollView.getValues().top-this._currentDrag.elementHeight/2-this.listElTrueTop;this.el.style[t.CSS.TRANSFORM]="translate3d(0, "+n+"px, 0)"},c.prototype.deregister=function(){this.listEl=this.el=this.scrollEl=this.scrollView=null},c.prototype.start=function(e){var n=t.DomUtil.getChildIndex(this.el,this.el.nodeName.toLowerCase()),r=this.el.scrollHeight,i=this.el.cloneNode(!0);i.classList.add(o),this.el.parentNode.insertBefore(i,this.el),this.el.classList.add(a),this._currentDrag={elementHeight:r,startIndex:n,placeholder:i,scrollHeight:scroll,list:i.parentNode},this._moveElement(e)},c.prototype.drag=t.animationFrameThrottle(function(e){var n=this;if(this._currentDrag){var r=0,i=e.gesture.center.pageY,o=this.listElTrueTop;if(this.scrollView){var a=this.scrollView.__container;r=this.scrollView.getValues().top;var s=a.offsetTop,l=s-i+this._currentDrag.elementHeight/2,u=i+this._currentDrag.elementHeight/2-s-a.offsetHeight;e.gesture.deltaY<0&&l>0&&r>0&&(this.scrollView.scrollBy(null,-l),t.requestAnimationFrame(function(){n.drag(e)})),e.gesture.deltaY>0&&u>0&&r<this.scrollView.getScrollMax().top&&(this.scrollView.scrollBy(null,u),t.requestAnimationFrame(function(){n.drag(e)}))}!this._isDragging&&Math.abs(e.gesture.deltaY)>this.dragThresholdY&&(this._isDragging=!0),this._isDragging&&(this._moveElement(e),this._currentDrag.currentY=r+i-o)}}),c.prototype._getReorderIndex=function(){for(var t,e=this,n=Array.prototype.slice.call(e._currentDrag.placeholder.parentNode.children).filter(function(t){return t.nodeName===e.el.nodeName&&t!==e.el}),r=e._currentDrag.currentY,i=0,o=n.length;o>i;i++)if(t=n[i],i===o-1){if(r>t.offsetTop)return i}else if(0===i){if(r<t.offsetTop+t.offsetHeight)return i}else if(r>t.offsetTop-t.offsetHeight/2&&r<t.offsetTop+t.offsetHeight)return i;return e._currentDrag.startIndex},c.prototype.end=function(e,n){if(!this._currentDrag)return void(n&&n());var r=this._currentDrag.placeholder,i=this._getReorderIndex();this.el.classList.remove(a),this.el.style[t.CSS.TRANSFORM]="",r.parentNode.insertBefore(this.el,r),r.parentNode.removeChild(r),this.onReorder&&this.onReorder(this.el,this._currentDrag.startIndex,i),this._currentDrag={placeholder:null,content:null},this._currentDrag=null,n&&n()},t.views.ListView=t.views.View.inherit({initialize:function(e){var n=this;e=t.extend({onReorder:function(){},virtualRemoveThreshold:-200,virtualAddThreshold:200,canSwipe:function(){return!0}},e),t.extend(n,e),!n.itemHeight&&n.listEl&&(n.itemHeight=n.listEl.children[0]&&parseInt(n.listEl.children[0].style.height,10)),n.onRefresh=e.onRefresh||function(){},n.onRefreshOpening=e.onRefreshOpening||function(){},n.onRefreshHolding=e.onRefreshHolding||function(){};var r={};t.DomUtil.getParentOrSelfWithClass(n.el,"overflow-scroll")&&(r.prevent_default_directions=["left","right"]),window.ionic.onGesture("release",function(t){n._handleEndDrag(t)},n.el,r),window.ionic.onGesture("drag",function(t){n._handleDrag(t)},n.el,r),n._initDrag()},deregister:function(){this.el=this.listEl=this.scrollEl=this.scrollView=null,this.isScrollFreeze&&self.scrollView.freeze(!1)},stopRefreshing:function(){var t=this.el.querySelector(".list-refresher");t.style.height="0"},didScroll:function(t){var e=this;if(e.isVirtual){var n=e.itemHeight,r=t.target.scrollHeight,i=e.el.parentNode.offsetHeight,o=Math.max(0,t.scrollTop+e.virtualRemoveThreshold),a=Math.min(r,Math.abs(t.scrollTop)+i+e.virtualAddThreshold),s=parseInt(Math.abs(o/n),10),l=parseInt(Math.abs(a/n),10);e._virtualItemsToRemove=Array.prototype.slice.call(e.listEl.children,0,s),e.renderViewport&&e.renderViewport(o,a,s,l)}},didStopScrolling:function(){if(this.isVirtual)for(var t=0;t<this._virtualItemsToRemove.length;t++)this.didHideItem&&this.didHideItem(t)},clearDragEffects:function(t){this._lastDragOp&&(this._lastDragOp.clean&&this._lastDragOp.clean(t),this._lastDragOp.deregister&&this._lastDragOp.deregister(),this._lastDragOp=null)},_initDrag:function(){this._lastDragOp&&this._lastDragOp.deregister&&this._lastDragOp.deregister(),this._lastDragOp=this._dragOp,this._dragOp=null},_getItem:function(t){for(;t;){if(t.classList&&t.classList.contains(e))return t;t=t.parentNode}return null},_startDrag:function(e){var n=this;n._isDragging=!1;var r,i=n._lastDragOp;n._didDragUpOrDown&&i instanceof u&&i.clean&&i.clean(),!t.DomUtil.getParentOrSelfWithClass(e.target,s)||"up"!=e.gesture.direction&&"down"!=e.gesture.direction?!n._didDragUpOrDown&&("left"==e.gesture.direction||"right"==e.gesture.direction)&&Math.abs(e.gesture.deltaX)>5&&(r=n._getItem(e.target),r&&r.querySelector(".item-options")&&(n._dragOp=new u({el:n.el,item:r,canSwipe:n.canSwipe}),n._dragOp.start(e),e.preventDefault(),n.isScrollFreeze=n.scrollView.freeze(!0))):(r=n._getItem(e.target),r&&(n._dragOp=new c({listEl:n.el,el:r,scrollEl:n.scrollEl,scrollView:n.scrollView,onReorder:function(t,e,r){n.onReorder&&n.onReorder(t,e,r)}}),n._dragOp.start(e),e.preventDefault())),i&&n._dragOp&&!n._dragOp.isSameItem(i)&&e.defaultPrevented&&i.clean&&i.clean()},_handleEndDrag:function(t){var e=this;e.scrollView&&(e.isScrollFreeze=e.scrollView.freeze(!1)),e._didDragUpOrDown=!1,e._dragOp&&e._dragOp.end(t,function(){e._initDrag()})},_handleDrag:function(t){var e=this;Math.abs(t.gesture.deltaY)>5&&(e._didDragUpOrDown=!0),e.isDragging||e._dragOp||e._startDrag(t),e._dragOp&&(t.gesture.srcEvent.preventDefault(),e._dragOp.drag(t))}})}(ionic),function(t){"use strict";t.views.Modal=t.views.View.inherit({initialize:function(e){e=t.extend({focusFirstInput:!1,unfocusOnHide:!0,focusFirstDelay:600,backdropClickToClose:!0,hardwareBackButtonClose:!0},e),t.extend(this,e),this.el=e.el},show:function(){var t=this;t.focusFirstInput&&window.setTimeout(function(){var e=t.el.querySelector("input, textarea");e&&e.focus&&e.focus()},t.focusFirstDelay)},hide:function(){if(this.unfocusOnHide){var t=this.el.querySelectorAll("input, textarea");window.setTimeout(function(){for(var e=0;e<t.length;e++)t[e].blur&&t[e].blur()})}}})}(ionic),function(t){"use strict";t.views.SideMenu=t.views.View.inherit({initialize:function(t){this.el=t.el,this.isEnabled="undefined"==typeof t.isEnabled?!0:t.isEnabled,this.setWidth(t.width)},getFullWidth:function(){return this.width},setWidth:function(t){this.width=t,this.el.style.width=t+"px"},setIsEnabled:function(t){this.isEnabled=t},bringUp:function(){"0"!==this.el.style.zIndex&&(this.el.style.zIndex="0")},pushDown:function(){"-1"!==this.el.style.zIndex&&(this.el.style.zIndex="-1")}}),t.views.SideMenuContent=t.views.View.inherit({initialize:function(e){t.extend(this,{animationClass:"menu-animated",onDrag:function(){},onEndDrag:function(){}},e),t.onGesture("drag",t.proxy(this._onDrag,this),this.el),t.onGesture("release",t.proxy(this._onEndDrag,this),this.el)},_onDrag:function(t){this.onDrag&&this.onDrag(t)},_onEndDrag:function(t){this.onEndDrag&&this.onEndDrag(t)},disableAnimation:function(){this.el.classList.remove(this.animationClass)},enableAnimation:function(){this.el.classList.add(this.animationClass)},getTranslateX:function(){return parseFloat(this.el.style[t.CSS.TRANSFORM].replace("translate3d(","").split(",")[0])},setTranslateX:t.animationFrameThrottle(function(e){this.el.style[t.CSS.TRANSFORM]="translate3d("+e+"px, 0, 0)"})})}(ionic),function(t){"use strict";t.views.Slider=t.views.View.inherit({initialize:function(t){function e(){if(b.offsetWidth){x=T.children,$=x.length,x.length<2&&(t.continuous=!1),w.transitions&&t.continuous&&x.length<3&&(T.appendChild(x[0].cloneNode(!0)),T.appendChild(T.children[1].cloneNode(!0)),x=T.children),S=new Array(x.length),E=b.offsetWidth||b.getBoundingClientRect().width,T.style.width=x.length*E+"px";for(var e=x.length;e--;){var n=x[e];n.style.width=E+"px",n.setAttribute("data-index",e),w.transitions&&(n.style.left=e*-E+"px",a(e,C>e?-E:e>C?E:0,0))}t.continuous&&w.transitions&&(a(i(C-1),-E,0),a(i(C+1),E,0)),w.transitions||(T.style.left=C*-E+"px"),b.style.visibility="visible",t.slidesChanged&&t.slidesChanged()}}function n(e){t.continuous?o(C-1,e):C&&o(C-1,e)}function r(e){t.continuous?o(C+1,e):C<x.length-1&&o(C+1,e)}function i(t){return(x.length+t%x.length)%x.length}function o(e,n){if(C!=e){if(!x)return void(C=e);if(w.transitions){var r=Math.abs(C-e)/(C-e);if(t.continuous){var o=r;r=-S[i(e)]/E,r!==o&&(e=-r*x.length+e)}for(var s=Math.abs(C-e)-1;s--;)a(i((e>C?e:C)-s-1),E*r,0);e=i(e),a(C,E*r,n||k),a(e,0,n||k),t.continuous&&a(i(e-r),-(E*r),0)}else e=i(e),l(C*-E,e*-E,n||k);C=e,y(t.callback&&t.callback(C,x[C]))}}function a(t,e,n){s(t,e,n),S[t]=e}function s(t,e,n){var r=x[t],i=r&&r.style;i&&(i.webkitTransitionDuration=i.MozTransitionDuration=i.msTransitionDuration=i.OTransitionDuration=i.transitionDuration=n+"ms",i.webkitTransform="translate("+e+"px,0)translateZ(0)",i.msTransform=i.MozTransform=i.OTransform="translateX("+e+"px)")}function l(e,n,r){if(!r)return void(T.style.left=n+"px");var i=+new Date,o=setInterval(function(){var a=+new Date-i;return a>r?(T.style.left=n+"px",D&&u(),t.transitionEnd&&t.transitionEnd.call(event,C,x[C]),void clearInterval(o)):void(T.style.left=(n-e)*(Math.floor(a/r*100)/100)+e+"px")},4)}function u(){M=setTimeout(r,D)}function c(){D=t.auto||0,clearTimeout(M)}var h,d,f,p=this;window.navigator.pointerEnabled?(h="pointerdown",d="pointermove",f="pointerup"):window.navigator.msPointerEnabled?(h="MSPointerDown",d="MSPointerMove",f="MSPointerUp"):(h="touchstart",d="touchmove",f="touchend");var m="mousedown",g="mousemove",v="mouseup",_=function(){},y=function(t){setTimeout(t||_,0)},w={addEventListener:!!window.addEventListener,transitions:function(t){var e=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in e)if(void 0!==t.style[e[n]])return!0;return!1}(document.createElement("swipe"))},b=t.el;if(b){var x,S,E,$,T=b.children[0];t=t||{};var C=parseInt(t.startSlide,10)||0,k=t.speed||300;t.continuous=void 0!==t.continuous?t.continuous:!0;var M,A,D=t.auto||0,I={},P={},L={handleEvent:function(n){switch(!n.touches&&n.pageX&&n.pageY&&(n.touches=[{pageX:n.pageX,pageY:n.pageY}]),n.type){case h:this.start(n);break;case m:this.start(n);break;case d:this.touchmove(n);break;case g:this.touchmove(n);break;case f:y(this.end(n));break;case v:y(this.end(n));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":y(this.transitionEnd(n));break;case"resize":y(e)}t.stopPropagation&&n.stopPropagation()},start:function(t){if(t.touches){var e=t.touches[0];I={x:e.pageX,y:e.pageY,time:+new Date},A=void 0,P={},T.addEventListener(d,this,!1),T.addEventListener(g,this,!1),T.addEventListener(f,this,!1),T.addEventListener(v,this,!1),document.addEventListener(f,this,!1),document.addEventListener(v,this,!1)}},touchmove:function(e){if(!(!e.touches||e.touches.length>1||e.scale&&1!==e.scale||p.slideIsDisabled)){t.disableScroll&&e.preventDefault();var n=e.touches[0];P={x:n.pageX-I.x,y:n.pageY-I.y},"undefined"==typeof A&&(A=!!(A||Math.abs(P.x)<Math.abs(P.y))),A||(e.preventDefault(),c(),t.continuous?(s(i(C-1),P.x+S[i(C-1)],0),s(C,P.x+S[C],0),s(i(C+1),P.x+S[i(C+1)],0)):(t.bouncing?P.x=P.x/(!C&&P.x>0||C==x.length-1&&P.x<0?Math.abs(P.x)/E+1:1):(E*C-P.x<0&&(P.x=Math.min(P.x,E*C)),Math.abs(P.x)>E*(x.length-C-1)&&(P.x=Math.max(-E*(x.length-C-1),P.x))),s(C-1,P.x+S[C-1],0),s(C,P.x+S[C],0),s(C+1,P.x+S[C+1],0)),t.onDrag&&t.onDrag())}},end:function(){var e=+new Date-I.time,n=Number(e)<250&&Math.abs(P.x)>20||Math.abs(P.x)>E/2,r=!C&&P.x>0||C==x.length-1&&P.x<0;t.continuous&&(r=!1);var o=P.x<0;A||(n&&!r?(o?(t.continuous?(a(i(C-1),-E,0),a(i(C+2),E,0)):a(C-1,-E,0),a(C,S[C]-E,k),a(i(C+1),S[i(C+1)]-E,k),C=i(C+1)):(t.continuous?(a(i(C+1),E,0),a(i(C-2),-E,0)):a(C+1,E,0),a(C,S[C]+E,k),a(i(C-1),S[i(C-1)]+E,k),C=i(C-1)),t.callback&&t.callback(C,x[C])):t.continuous?(a(i(C-1),-E,k),a(C,0,k),a(i(C+1),E,k)):(a(C-1,-E,k),a(C,0,k),a(C+1,E,k))),T.removeEventListener(d,L,!1),T.removeEventListener(g,L,!1),T.removeEventListener(f,L,!1),T.removeEventListener(v,L,!1),document.removeEventListener(f,L,!1),document.removeEventListener(v,L,!1),t.onDragEnd&&t.onDragEnd()},transitionEnd:function(e){parseInt(e.target.getAttribute("data-index"),10)==C&&(D&&u(),t.transitionEnd&&t.transitionEnd.call(e,C,x[C]))}};this.update=function(){setTimeout(e)},this.setup=function(){e()},this.loop=function(e){return arguments.length&&(t.continuous=!!e),t.continuous},this.enableSlide=function(t){return arguments.length&&(this.slideIsDisabled=!t),!this.slideIsDisabled},this.slide=this.select=function(t,e){c(),o(t,e)},this.prev=this.previous=function(){c(),n()},this.next=function(){c(),r()},this.stop=function(){c()},this.start=function(){u()},this.autoPlay=function(t){!D||0>D?c():(D=t,u())},this.currentIndex=this.selected=function(){return C},this.slidesCount=this.count=function(){return $},this.kill=function(){c(),T.style.width="",T.style.left="",x&&(x=[]),w.addEventListener?(T.removeEventListener(h,L,!1),T.removeEventListener(m,L,!1),T.removeEventListener("webkitTransitionEnd",L,!1),T.removeEventListener("msTransitionEnd",L,!1),T.removeEventListener("oTransitionEnd",L,!1),T.removeEventListener("otransitionend",L,!1),T.removeEventListener("transitionend",L,!1),window.removeEventListener("resize",L,!1)):window.onresize=null},this.load=function(){e(),D&&u(),w.addEventListener?(T.addEventListener(h,L,!1),T.addEventListener(m,L,!1),w.transitions&&(T.addEventListener("webkitTransitionEnd",L,!1),T.addEventListener("msTransitionEnd",L,!1),T.addEventListener("oTransitionEnd",L,!1),T.addEventListener("otransitionend",L,!1),T.addEventListener("transitionend",L,!1)),window.addEventListener("resize",L,!1)):window.onresize=function(){e()}}}}})}(ionic),function(){"use strict";function t(t){t.fn.swiper=function(e){var r;return t(this).each(function(){var t=new n(this,e);r||(r=t)}),r}}var e,n=function(t,i,o,a){function s(){return"horizontal"===S.params.direction}function l(t){return Math.floor(t)}function u(){S.autoplayTimeoutId=setTimeout(function(){S.params.loop?(S.fixLoop(),S._slideNext()):S.isEnd?i.autoplayStopOnLast?S.stopAutoplay():S._slideTo(0):S._slideNext()},S.params.autoplay)}function c(t,n){var r=e(t.target);if(!r.is(n))if("string"==typeof n)r=r.parents(n);else if(n.nodeType){var i;return r.parents().each(function(t,e){e===n&&(i=n)}),i?n:void 0}if(0!==r.length)return r[0]}function h(t,e){e=e||{};var n=window.MutationObserver||window.WebkitMutationObserver,r=new n(function(t){t.forEach(function(t){S.onResize(!0),S.emit("onObserverUpdate",S,t)})});r.observe(t,{attributes:"undefined"==typeof e.attributes?!0:e.attributes,childList:"undefined"==typeof e.childList?!0:e.childList,characterData:"undefined"==typeof e.characterData?!0:e.characterData}),S.observers.push(r)}function d(t){t.originalEvent&&(t=t.originalEvent);var e=t.keyCode||t.charCode;if(!S.params.allowSwipeToNext&&(s()&&39===e||!s()&&40===e))return!1;if(!S.params.allowSwipeToPrev&&(s()&&37===e||!s()&&38===e))return!1;if(!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===e||39===e||38===e||40===e){var n=!1;if(S.container.parents(".swiper-slide").length>0&&0===S.container.parents(".swiper-slide-active").length)return;var r={left:window.pageXOffset,top:window.pageYOffset},i=window.innerWidth,o=window.innerHeight,a=S.container.offset();S.rtl&&(a.left=a.left-S.container[0].scrollLeft);for(var l=[[a.left,a.top],[a.left+S.width,a.top],[a.left,a.top+S.height],[a.left+S.width,a.top+S.height]],u=0;u<l.length;u++){var c=l[u];c[0]>=r.left&&c[0]<=r.left+i&&c[1]>=r.top&&c[1]<=r.top+o&&(n=!0)}if(!n)return}s()?((37===e||39===e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1),(39===e&&!S.rtl||37===e&&S.rtl)&&S.slideNext(),(37===e&&!S.rtl||39===e&&S.rtl)&&S.slidePrev()):((38===e||40===e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1),40===e&&S.slideNext(),38===e&&S.slidePrev())}}function f(t){t.originalEvent&&(t=t.originalEvent);var e=S.mousewheel.event,n=0,r=S.rtl?-1:1;if(t.detail)n=-t.detail;else if("mousewheel"===e)if(S.params.mousewheelForceToAxis)if(s()){if(!(Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)))return;n=t.wheelDeltaX*r}else{if(!(Math.abs(t.wheelDeltaY)>Math.abs(t.wheelDeltaX)))return;n=t.wheelDeltaY}else n=Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)?-t.wheelDeltaX*r:-t.wheelDeltaY;else if("DOMMouseScroll"===e)n=-t.detail;else if("wheel"===e)if(S.params.mousewheelForceToAxis)if(s()){if(!(Math.abs(t.deltaX)>Math.abs(t.deltaY)))return;n=-t.deltaX*r}else{if(!(Math.abs(t.deltaY)>Math.abs(t.deltaX)))return;n=-t.deltaY}else n=Math.abs(t.deltaX)>Math.abs(t.deltaY)?-t.deltaX*r:-t.deltaY;if(0!==n){if(S.params.mousewheelInvert&&(n=-n),S.params.freeMode){var i=S.getWrapperTranslate()+n*S.params.mousewheelSensitivity,o=S.isBeginning,a=S.isEnd;if(i>=S.minTranslate()&&(i=S.minTranslate()),i<=S.maxTranslate()&&(i=S.maxTranslate()),S.setWrapperTransition(0),S.setWrapperTranslate(i),S.updateProgress(),S.updateActiveIndex(),(!o&&S.isBeginning||!a&&S.isEnd)&&S.updateClasses(),S.params.freeModeSticky&&(clearTimeout(S.mousewheel.timeout),S.mousewheel.timeout=setTimeout(function(){S.slideReset()},300)),0===i||i===S.maxTranslate())return}else{if((new window.Date).getTime()-S.mousewheel.lastScrollTime>60)if(0>n)if(S.isEnd&&!S.params.loop||S.animating){if(S.params.mousewheelReleaseOnEdges)return!0}else S.slideNext();else if(S.isBeginning&&!S.params.loop||S.animating){if(S.params.mousewheelReleaseOnEdges)return!0}else S.slidePrev();S.mousewheel.lastScrollTime=(new window.Date).getTime()}return S.params.autoplay&&S.stopAutoplay(),t.preventDefault?t.preventDefault():t.returnValue=!1,!1}}function p(t,n){t=e(t);var r,i,o,a=S.rtl?-1:1;r=t.attr("data-swiper-parallax")||"0",i=t.attr("data-swiper-parallax-x"),
o=t.attr("data-swiper-parallax-y"),i||o?(i=i||"0",o=o||"0"):s()?(i=r,o="0"):(o=r,i="0"),i=i.indexOf("%")>=0?parseInt(i,10)*n*a+"%":i*n*a+"px",o=o.indexOf("%")>=0?parseInt(o,10)*n+"%":o*n+"px",t.transform("translate3d("+i+", "+o+",0px)")}function m(t){return 0!==t.indexOf("on")&&(t=t[0]!==t[0].toUpperCase()?"on"+t[0].toUpperCase()+t.substring(1):"on"+t),t}if(!(this instanceof n))return new n(t,i);var g={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},v=i&&i.virtualTranslate;i=i||{};var _={};for(var y in i)if("object"!=typeof i[y]||(i[y].nodeType||i[y]===window||i[y]===document||"undefined"!=typeof r&&i[y]instanceof r||"undefined"!=typeof jQuery&&i[y]instanceof jQuery))_[y]=i[y];else{_[y]={};for(var w in i[y])_[y][w]=i[y][w]}for(var b in g)if("undefined"==typeof i[b])i[b]=g[b];else if("object"==typeof i[b])for(var x in g[b])"undefined"==typeof i[b][x]&&(i[b][x]=g[b][x]);var S=this;if(S.params=i,S.originalParams=_,S.classNames=[],"undefined"!=typeof e&&"undefined"!=typeof r&&(e=r),("undefined"!=typeof e||(e="undefined"==typeof r?window.Dom7||window.Zepto||window.jQuery:r))&&(S.$=e,S.currentBreakpoint=void 0,S.getActiveBreakpoint=function(){if(!S.params.breakpoints)return!1;var t,e=!1,n=[];for(t in S.params.breakpoints)S.params.breakpoints.hasOwnProperty(t)&&n.push(t);n.sort(function(t,e){return parseInt(t,10)>parseInt(e,10)});for(var r=0;r<n.length;r++)t=n[r],t>=window.innerWidth&&!e&&(e=t);return e||"max"},S.setBreakpoint=function(){var t=S.getActiveBreakpoint();if(t&&S.currentBreakpoint!==t){var e=t in S.params.breakpoints?S.params.breakpoints[t]:S.originalParams;for(var n in e)S.params[n]=e[n];S.currentBreakpoint=t}},S.params.breakpoints&&S.setBreakpoint(),S.container=e(t),0!==S.container.length)){if(S.container.length>1)return void S.container.each(function(){new n(this,i)});S.container[0].swiper=S,S.container.data("swiper",S),S.classNames.push("swiper-container-"+S.params.direction),S.params.freeMode&&S.classNames.push("swiper-container-free-mode"),S.support.flexbox||(S.classNames.push("swiper-container-no-flexbox"),S.params.slidesPerColumn=1),S.params.autoHeight&&S.classNames.push("swiper-container-autoheight"),(S.params.parallax||S.params.watchSlidesVisibility)&&(S.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(S.params.effect)>=0&&(S.support.transforms3d?(S.params.watchSlidesProgress=!0,S.classNames.push("swiper-container-3d")):S.params.effect="slide"),"slide"!==S.params.effect&&S.classNames.push("swiper-container-"+S.params.effect),"cube"===S.params.effect&&(S.params.resistanceRatio=0,S.params.slidesPerView=1,S.params.slidesPerColumn=1,S.params.slidesPerGroup=1,S.params.centeredSlides=!1,S.params.spaceBetween=0,S.params.virtualTranslate=!0,S.params.setWrapperSize=!1),"fade"===S.params.effect&&(S.params.slidesPerView=1,S.params.slidesPerColumn=1,S.params.slidesPerGroup=1,S.params.watchSlidesProgress=!0,S.params.spaceBetween=0,"undefined"==typeof v&&(S.params.virtualTranslate=!0)),S.params.grabCursor&&S.support.touch&&(S.params.grabCursor=!1),S.wrapper=S.container.children("."+S.params.wrapperClass),S.params.pagination&&(S.paginationContainer=e(S.params.pagination),S.params.paginationClickable&&S.paginationContainer.addClass("swiper-pagination-clickable")),S.rtl=s()&&("rtl"===S.container[0].dir.toLowerCase()||"rtl"===S.container.css("direction")),S.rtl&&S.classNames.push("swiper-container-rtl"),S.rtl&&(S.wrongRTL="-webkit-box"===S.wrapper.css("display")),S.params.slidesPerColumn>1&&S.classNames.push("swiper-container-multirow"),S.device.android&&S.classNames.push("swiper-container-android"),S.container.addClass(S.classNames.join(" ")),S.translate=0,S.progress=0,S.velocity=0,S.lockSwipeToNext=function(){S.params.allowSwipeToNext=!1},S.lockSwipeToPrev=function(){S.params.allowSwipeToPrev=!1},S.lockSwipes=function(){S.params.allowSwipeToNext=S.params.allowSwipeToPrev=!1},S.unlockSwipeToNext=function(){S.params.allowSwipeToNext=!0},S.unlockSwipeToPrev=function(){S.params.allowSwipeToPrev=!0},S.unlockSwipes=function(){S.params.allowSwipeToNext=S.params.allowSwipeToPrev=!0},S.params.grabCursor&&(S.container[0].style.cursor="move",S.container[0].style.cursor="-webkit-grab",S.container[0].style.cursor="-moz-grab",S.container[0].style.cursor="grab"),S.imagesToLoad=[],S.imagesLoaded=0,S.loadImage=function(t,e,n,r,i){function o(){i&&i()}var a;t.complete&&r?o():e?(a=new window.Image,a.onload=o,a.onerror=o,n&&(a.srcset=n),e&&(a.src=e)):o()},S.preloadImages=function(){function t(){"undefined"!=typeof S&&null!==S&&(void 0!==S.imagesLoaded&&S.imagesLoaded++,S.imagesLoaded===S.imagesToLoad.length&&(S.params.updateOnImagesReady&&S.update(),S.emit("onImagesReady",S)))}S.imagesToLoad=S.container.find("img");for(var e=0;e<S.imagesToLoad.length;e++)S.loadImage(S.imagesToLoad[e],S.imagesToLoad[e].currentSrc||S.imagesToLoad[e].getAttribute("src"),S.imagesToLoad[e].srcset||S.imagesToLoad[e].getAttribute("srcset"),!0,t)},S.autoplayTimeoutId=void 0,S.autoplaying=!1,S.autoplayPaused=!1,S.startAutoplay=function(){return"undefined"!=typeof S.autoplayTimeoutId?!1:S.params.autoplay?S.autoplaying?!1:(S.autoplaying=!0,S.emit("onAutoplayStart",S),void u()):!1},S.stopAutoplay=function(t){S.autoplayTimeoutId&&(S.autoplayTimeoutId&&clearTimeout(S.autoplayTimeoutId),S.autoplaying=!1,S.autoplayTimeoutId=void 0,S.emit("onAutoplayStop",S))},S.pauseAutoplay=function(t){S.autoplayPaused||(S.autoplayTimeoutId&&clearTimeout(S.autoplayTimeoutId),S.autoplayPaused=!0,0===t?(S.autoplayPaused=!1,u()):S.wrapper.transitionEnd(function(){S&&(S.autoplayPaused=!1,S.autoplaying?u():S.stopAutoplay())}))},S.minTranslate=function(){return-S.snapGrid[0]},S.maxTranslate=function(){return-S.snapGrid[S.snapGrid.length-1]},S.updateAutoHeight=function(){var t=S.slides.eq(S.activeIndex)[0].offsetHeight;t&&S.wrapper.css("height",S.slides.eq(S.activeIndex)[0].offsetHeight+"px")},S.updateContainerSize=function(){var t,e;t="undefined"!=typeof S.params.width?S.params.width:S.container[0].clientWidth,e="undefined"!=typeof S.params.height?S.params.height:S.container[0].clientHeight,0===t&&s()||0===e&&!s()||(t=t-parseInt(S.container.css("padding-left"),10)-parseInt(S.container.css("padding-right"),10),e=e-parseInt(S.container.css("padding-top"),10)-parseInt(S.container.css("padding-bottom"),10),S.width=t,S.height=e,S.size=s()?S.width:S.height)},S.updateSlidesSize=function(){S.slides=S.wrapper.children("."+S.params.slideClass),S.snapGrid=[],S.slidesGrid=[],S.slidesSizesGrid=[];var t,e=S.params.spaceBetween,n=-S.params.slidesOffsetBefore,r=0,i=0;"string"==typeof e&&e.indexOf("%")>=0&&(e=parseFloat(e.replace("%",""))/100*S.size),S.virtualSize=-e,S.rtl?S.slides.css({marginLeft:"",marginTop:""}):S.slides.css({marginRight:"",marginBottom:""});var o;S.params.slidesPerColumn>1&&(o=Math.floor(S.slides.length/S.params.slidesPerColumn)===S.slides.length/S.params.slidesPerColumn?S.slides.length:Math.ceil(S.slides.length/S.params.slidesPerColumn)*S.params.slidesPerColumn,"auto"!==S.params.slidesPerView&&"row"===S.params.slidesPerColumnFill&&(o=Math.max(o,S.params.slidesPerView*S.params.slidesPerColumn)));var a,u=S.params.slidesPerColumn,c=o/u,h=c-(S.params.slidesPerColumn*c-S.slides.length);for(t=0;t<S.slides.length;t++){a=0;var d=S.slides.eq(t);if(S.params.slidesPerColumn>1){var f,p,m;"column"===S.params.slidesPerColumnFill?(p=Math.floor(t/u),m=t-p*u,(p>h||p===h&&m===u-1)&&++m>=u&&(m=0,p++),f=p+m*o/u,d.css({"-webkit-box-ordinal-group":f,"-moz-box-ordinal-group":f,"-ms-flex-order":f,"-webkit-order":f,order:f})):(m=Math.floor(t/c),p=t-m*c),d.css({"margin-top":0!==m&&S.params.spaceBetween&&S.params.spaceBetween+"px"}).attr("data-swiper-column",p).attr("data-swiper-row",m)}"none"!==d.css("display")&&("auto"===S.params.slidesPerView?(a=s()?d.outerWidth(!0):d.outerHeight(!0),S.params.roundLengths&&(a=l(a))):(a=(S.size-(S.params.slidesPerView-1)*e)/S.params.slidesPerView,S.params.roundLengths&&(a=l(a)),s()?S.slides[t].style.width=a+"px":S.slides[t].style.height=a+"px"),S.slides[t].swiperSlideSize=a,S.slidesSizesGrid.push(a),S.params.centeredSlides?(n=n+a/2+r/2+e,0===t&&(n=n-S.size/2-e),Math.abs(n)<.001&&(n=0),i%S.params.slidesPerGroup===0&&S.snapGrid.push(n),S.slidesGrid.push(n)):(i%S.params.slidesPerGroup===0&&S.snapGrid.push(n),S.slidesGrid.push(n),n=n+a+e),S.virtualSize+=a+e,r=a,i++)}S.virtualSize=Math.max(S.virtualSize,S.size)+S.params.slidesOffsetAfter;var g;if(S.rtl&&S.wrongRTL&&("slide"===S.params.effect||"coverflow"===S.params.effect)&&S.wrapper.css({width:S.virtualSize+S.params.spaceBetween+"px"}),(!S.support.flexbox||S.params.setWrapperSize)&&(s()?S.wrapper.css({width:S.virtualSize+S.params.spaceBetween+"px"}):S.wrapper.css({height:S.virtualSize+S.params.spaceBetween+"px"})),S.params.slidesPerColumn>1&&(S.virtualSize=(a+S.params.spaceBetween)*o,S.virtualSize=Math.ceil(S.virtualSize/S.params.slidesPerColumn)-S.params.spaceBetween,S.wrapper.css({width:S.virtualSize+S.params.spaceBetween+"px"}),S.params.centeredSlides)){for(g=[],t=0;t<S.snapGrid.length;t++)S.snapGrid[t]<S.virtualSize+S.snapGrid[0]&&g.push(S.snapGrid[t]);S.snapGrid=g}if(!S.params.centeredSlides){for(g=[],t=0;t<S.snapGrid.length;t++)S.snapGrid[t]<=S.virtualSize-S.size&&g.push(S.snapGrid[t]);S.snapGrid=g,Math.floor(S.virtualSize-S.size)>Math.floor(S.snapGrid[S.snapGrid.length-1])&&S.snapGrid.push(S.virtualSize-S.size)}0===S.snapGrid.length&&(S.snapGrid=[0]),0!==S.params.spaceBetween&&(s()?S.rtl?S.slides.css({marginLeft:e+"px"}):S.slides.css({marginRight:e+"px"}):S.slides.css({marginBottom:e+"px"})),S.params.watchSlidesProgress&&S.updateSlidesOffset()},S.updateSlidesOffset=function(){for(var t=0;t<S.slides.length;t++)S.slides[t].swiperSlideOffset=s()?S.slides[t].offsetLeft:S.slides[t].offsetTop},S.updateSlidesProgress=function(t){if("undefined"==typeof t&&(t=S.translate||0),0!==S.slides.length){"undefined"==typeof S.slides[0].swiperSlideOffset&&S.updateSlidesOffset();var e=-t;S.rtl&&(e=t),S.slides.removeClass(S.params.slideVisibleClass);for(var n=0;n<S.slides.length;n++){var r=S.slides[n],i=(e-r.swiperSlideOffset)/(r.swiperSlideSize+S.params.spaceBetween);if(S.params.watchSlidesVisibility){var o=-(e-r.swiperSlideOffset),a=o+S.slidesSizesGrid[n],s=o>=0&&o<S.size||a>0&&a<=S.size||0>=o&&a>=S.size;s&&S.slides.eq(n).addClass(S.params.slideVisibleClass)}r.progress=S.rtl?-i:i}}},S.updateProgress=function(t){"undefined"==typeof t&&(t=S.translate||0);var e=S.maxTranslate()-S.minTranslate(),n=S.isBeginning,r=S.isEnd;0===e?(S.progress=0,S.isBeginning=S.isEnd=!0):(S.progress=(t-S.minTranslate())/e,S.isBeginning=S.progress<=0,S.isEnd=S.progress>=1),S.isBeginning&&!n&&S.emit("onReachBeginning",S),S.isEnd&&!r&&S.emit("onReachEnd",S),S.params.watchSlidesProgress&&S.updateSlidesProgress(t),S.emit("onProgress",S,S.progress)},S.updateActiveIndex=function(){var t,e,n,r=S.rtl?S.translate:-S.translate;for(e=0;e<S.slidesGrid.length;e++)"undefined"!=typeof S.slidesGrid[e+1]?r>=S.slidesGrid[e]&&r<S.slidesGrid[e+1]-(S.slidesGrid[e+1]-S.slidesGrid[e])/2?t=e:r>=S.slidesGrid[e]&&r<S.slidesGrid[e+1]&&(t=e+1):r>=S.slidesGrid[e]&&(t=e);(0>t||"undefined"==typeof t)&&(t=0),n=Math.floor(t/S.params.slidesPerGroup),n>=S.snapGrid.length&&(n=S.snapGrid.length-1),t!==S.activeIndex&&(S.snapIndex=n,S.previousIndex=S.activeIndex,S.activeIndex=t,S.updateClasses())},S.updateClasses=function(){S.slides.removeClass(S.params.slideActiveClass+" "+S.params.slideNextClass+" "+S.params.slidePrevClass);var t=S.slides.eq(S.activeIndex);if(t.addClass(S.params.slideActiveClass),t.next("."+S.params.slideClass).addClass(S.params.slideNextClass),t.prev("."+S.params.slideClass).addClass(S.params.slidePrevClass),S.bullets&&S.bullets.length>0){S.bullets.removeClass(S.params.bulletActiveClass);var n;S.params.loop?(n=Math.ceil(S.activeIndex-S.loopedSlides)/S.params.slidesPerGroup,n>S.slides.length-1-2*S.loopedSlides&&(n-=S.slides.length-2*S.loopedSlides),n>S.bullets.length-1&&(n-=S.bullets.length)):n="undefined"!=typeof S.snapIndex?S.snapIndex:S.activeIndex||0,S.paginationContainer.length>1?S.bullets.each(function(){e(this).index()===n&&e(this).addClass(S.params.bulletActiveClass)}):S.bullets.eq(n).addClass(S.params.bulletActiveClass)}S.params.loop||(S.params.prevButton&&(S.isBeginning?(e(S.params.prevButton).addClass(S.params.buttonDisabledClass),S.params.a11y&&S.a11y&&S.a11y.disable(e(S.params.prevButton))):(e(S.params.prevButton).removeClass(S.params.buttonDisabledClass),S.params.a11y&&S.a11y&&S.a11y.enable(e(S.params.prevButton)))),S.params.nextButton&&(S.isEnd?(e(S.params.nextButton).addClass(S.params.buttonDisabledClass),S.params.a11y&&S.a11y&&S.a11y.disable(e(S.params.nextButton))):(e(S.params.nextButton).removeClass(S.params.buttonDisabledClass),S.params.a11y&&S.a11y&&S.a11y.enable(e(S.params.nextButton)))))},S.updatePagination=function(){if(S.params.pagination&&S.paginationContainer&&S.paginationContainer.length>0){for(var t="",e=S.params.loop?Math.ceil((S.slides.length-2*S.loopedSlides)/S.params.slidesPerGroup):S.snapGrid.length,n=0;e>n;n++)t+=S.params.paginationBulletRender?S.params.paginationBulletRender(n,S.params.bulletClass):"<"+S.params.paginationElement+' class="'+S.params.bulletClass+'"></'+S.params.paginationElement+">";S.paginationContainer.html(t),S.bullets=S.paginationContainer.find("."+S.params.bulletClass),S.params.paginationClickable&&S.params.a11y&&S.a11y&&S.a11y.initPagination()}},S.update=function(t){function e(){r=Math.min(Math.max(S.translate,S.maxTranslate()),S.minTranslate()),S.setWrapperTranslate(r),S.updateActiveIndex(),S.updateClasses()}if(S.updateContainerSize(),S.updateSlidesSize(),S.updateProgress(),S.updatePagination(),S.updateClasses(),S.params.scrollbar&&S.scrollbar&&S.scrollbar.set(),t){var n,r;S.controller&&S.controller.spline&&(S.controller.spline=void 0),S.params.freeMode?(e(),S.params.autoHeight&&S.updateAutoHeight()):(n=("auto"===S.params.slidesPerView||S.params.slidesPerView>1)&&S.isEnd&&!S.params.centeredSlides?S.slideTo(S.slides.length-1,0,!1,!0):S.slideTo(S.activeIndex,0,!1,!0),n||e())}else S.params.autoHeight&&S.updateAutoHeight()},S.onResize=function(t){S.params.breakpoints&&S.setBreakpoint();var e=S.params.allowSwipeToPrev,n=S.params.allowSwipeToNext;if(S.params.allowSwipeToPrev=S.params.allowSwipeToNext=!0,S.updateContainerSize(),S.updateSlidesSize(),("auto"===S.params.slidesPerView||S.params.freeMode||t)&&S.updatePagination(),S.params.scrollbar&&S.scrollbar&&S.scrollbar.set(),S.controller&&S.controller.spline&&(S.controller.spline=void 0),S.params.freeMode){var r=Math.min(Math.max(S.translate,S.maxTranslate()),S.minTranslate());S.setWrapperTranslate(r),S.updateActiveIndex(),S.updateClasses(),S.params.autoHeight&&S.updateAutoHeight()}else S.updateClasses(),("auto"===S.params.slidesPerView||S.params.slidesPerView>1)&&S.isEnd&&!S.params.centeredSlides?S.slideTo(S.slides.length-1,0,!1,!0):S.slideTo(S.activeIndex,0,!1,!0);S.params.allowSwipeToPrev=e,S.params.allowSwipeToNext=n};var E=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?E=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(E=["MSPointerDown","MSPointerMove","MSPointerUp"]),S.touchEvents={start:S.support.touch||!S.params.simulateTouch?"touchstart":E[0],move:S.support.touch||!S.params.simulateTouch?"touchmove":E[1],end:S.support.touch||!S.params.simulateTouch?"touchend":E[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===S.params.touchEventsTarget?S.container:S.wrapper).addClass("swiper-wp8-"+S.params.direction),S.initEvents=function(t){var n=t?"off":"on",r=t?"removeEventListener":"addEventListener",o="container"===S.params.touchEventsTarget?S.container[0]:S.wrapper[0],a=S.support.touch?o:document,s=S.params.nested?!0:!1;S.browser.ie?(o[r](S.touchEvents.start,S.onTouchStart,!1),a[r](S.touchEvents.move,S.onTouchMove,s),a[r](S.touchEvents.end,S.onTouchEnd,!1)):(S.support.touch&&(o[r](S.touchEvents.start,S.onTouchStart,!1),o[r](S.touchEvents.move,S.onTouchMove,s),o[r](S.touchEvents.end,S.onTouchEnd,!1)),!i.simulateTouch||S.device.ios||S.device.android||(o[r]("mousedown",S.onTouchStart,!1),document[r]("mousemove",S.onTouchMove,s),document[r]("mouseup",S.onTouchEnd,!1))),window[r]("resize",S.onResize),S.params.nextButton&&(e(S.params.nextButton)[n]("click",S.onClickNext),S.params.a11y&&S.a11y&&e(S.params.nextButton)[n]("keydown",S.a11y.onEnterKey)),S.params.prevButton&&(e(S.params.prevButton)[n]("click",S.onClickPrev),S.params.a11y&&S.a11y&&e(S.params.prevButton)[n]("keydown",S.a11y.onEnterKey)),S.params.pagination&&S.params.paginationClickable&&(e(S.paginationContainer)[n]("click","."+S.params.bulletClass,S.onClickIndex),S.params.a11y&&S.a11y&&e(S.paginationContainer)[n]("keydown","."+S.params.bulletClass,S.a11y.onEnterKey)),(S.params.preventClicks||S.params.preventClicksPropagation)&&o[r]("click",S.preventClicks,!0)},S.attachEvents=function(t){S.initEvents()},S.detachEvents=function(){S.initEvents(!0)},S.allowClick=!0,S.preventClicks=function(t){S.allowClick||(S.params.preventClicks&&t.preventDefault(),S.params.preventClicksPropagation&&S.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))},S.onClickNext=function(t){t.preventDefault(),(!S.isEnd||S.params.loop)&&S.slideNext()},S.onClickPrev=function(t){t.preventDefault(),(!S.isBeginning||S.params.loop)&&S.slidePrev()},S.onClickIndex=function(t){t.preventDefault();var n=e(this).index()*S.params.slidesPerGroup;S.params.loop&&(n+=S.loopedSlides),S.slideTo(n)},S.updateClickedSlide=function(t){var n=c(t,"."+S.params.slideClass),r=!1;if(n)for(var i=0;i<S.slides.length;i++)S.slides[i]===n&&(r=!0);if(!n||!r)return S.clickedSlide=void 0,void(S.clickedIndex=void 0);if(S.clickedSlide=n,S.clickedIndex=e(n).index(),S.params.slideToClickedSlide&&void 0!==S.clickedIndex&&S.clickedIndex!==S.activeIndex){var o,a=S.clickedIndex;if(S.params.loop){if(S.animating)return;o=e(S.clickedSlide).attr("data-swiper-slide-index"),S.params.centeredSlides?a<S.loopedSlides-S.params.slidesPerView/2||a>S.slides.length-S.loopedSlides+S.params.slidesPerView/2?(S.fixLoop(),a=S.wrapper.children("."+S.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){S.slideTo(a)},0)):S.slideTo(a):a>S.slides.length-S.params.slidesPerView?(S.fixLoop(),a=S.wrapper.children("."+S.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){S.slideTo(a)},0)):S.slideTo(a)}else S.slideTo(a)}};var $,T,C,k,M,A,D,I,P,L,N="input, select, textarea, button",O=Date.now(),B=[];S.animating=!1,S.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var R,V;if(S.onTouchStart=function(t){if(t.originalEvent&&(t=t.originalEvent),R="touchstart"===t.type,R||!("which"in t)||3!==t.which){if(S.params.noSwiping&&c(t,"."+S.params.noSwipingClass))return void(S.allowClick=!0);if(!S.params.swipeHandler||c(t,S.params.swipeHandler)){var n=S.touches.currentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,r=S.touches.currentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY;if(!(S.device.ios&&S.params.iOSEdgeSwipeDetection&&n<=S.params.iOSEdgeSwipeThreshold)){if($=!0,T=!1,C=!0,M=void 0,V=void 0,S.touches.startX=n,S.touches.startY=r,k=Date.now(),S.allowClick=!0,S.updateContainerSize(),S.swipeDirection=void 0,S.params.threshold>0&&(I=!1),"touchstart"!==t.type){var i=!0;e(t.target).is(N)&&(i=!1),document.activeElement&&e(document.activeElement).is(N)&&document.activeElement.blur(),i&&t.preventDefault()}S.emit("onTouchStart",S,t)}}}},S.onTouchMove=function(t){if(t.originalEvent&&(t=t.originalEvent),!(R&&"mousemove"===t.type||t.preventedByNestedSwiper)){if(S.params.onlyExternal)return S.allowClick=!1,void($&&(S.touches.startX=S.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,S.touches.startY=S.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,k=Date.now()));if(R&&document.activeElement&&t.target===document.activeElement&&e(t.target).is(N))return T=!0,void(S.allowClick=!1);if(C&&S.emit("onTouchMove",S,t),!(t.targetTouches&&t.targetTouches.length>1)){if(S.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,S.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,"undefined"==typeof M){var n=180*Math.atan2(Math.abs(S.touches.currentY-S.touches.startY),Math.abs(S.touches.currentX-S.touches.startX))/Math.PI;M=s()?n>S.params.touchAngle:90-n>S.params.touchAngle}if(M&&S.emit("onTouchMoveOpposite",S,t),"undefined"==typeof V&&S.browser.ieTouch&&(S.touches.currentX!==S.touches.startX||S.touches.currentY!==S.touches.startY)&&(V=!0),$){if(M)return void($=!1);if(V||!S.browser.ieTouch){S.allowClick=!1,S.emit("onSliderMove",S,t),t.preventDefault(),S.params.touchMoveStopPropagation&&!S.params.nested&&t.stopPropagation(),T||(i.loop&&S.fixLoop(),D=S.getWrapperTranslate(),S.setWrapperTransition(0),S.animating&&S.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),S.params.autoplay&&S.autoplaying&&(S.params.autoplayDisableOnInteraction?S.stopAutoplay():S.pauseAutoplay()),L=!1,S.params.grabCursor&&(S.container[0].style.cursor="move",S.container[0].style.cursor="-webkit-grabbing",S.container[0].style.cursor="-moz-grabbin",S.container[0].style.cursor="grabbing")),T=!0;var r=S.touches.diff=s()?S.touches.currentX-S.touches.startX:S.touches.currentY-S.touches.startY;r*=S.params.touchRatio,S.rtl&&(r=-r),S.swipeDirection=r>0?"prev":"next",A=r+D;var o=!0;if(r>0&&A>S.minTranslate()?(o=!1,S.params.resistance&&(A=S.minTranslate()-1+Math.pow(-S.minTranslate()+D+r,S.params.resistanceRatio))):0>r&&A<S.maxTranslate()&&(o=!1,S.params.resistance&&(A=S.maxTranslate()+1-Math.pow(S.maxTranslate()-D-r,S.params.resistanceRatio))),o&&(t.preventedByNestedSwiper=!0),!S.params.allowSwipeToNext&&"next"===S.swipeDirection&&D>A&&(A=D),!S.params.allowSwipeToPrev&&"prev"===S.swipeDirection&&A>D&&(A=D),S.params.followFinger){if(S.params.threshold>0){if(!(Math.abs(r)>S.params.threshold||I))return void(A=D);if(!I)return I=!0,S.touches.startX=S.touches.currentX,S.touches.startY=S.touches.currentY,A=D,void(S.touches.diff=s()?S.touches.currentX-S.touches.startX:S.touches.currentY-S.touches.startY)}(S.params.freeMode||S.params.watchSlidesProgress)&&S.updateActiveIndex(),S.params.freeMode&&(0===B.length&&B.push({position:S.touches[s()?"startX":"startY"],time:k}),B.push({position:S.touches[s()?"currentX":"currentY"],time:(new window.Date).getTime()})),S.updateProgress(A),S.setWrapperTranslate(A)}}}}}},S.onTouchEnd=function(t){if(t.originalEvent&&(t=t.originalEvent),C&&S.emit("onTouchEnd",S,t),C=!1,$){S.params.grabCursor&&T&&$&&(S.container[0].style.cursor="move",S.container[0].style.cursor="-webkit-grab",S.container[0].style.cursor="-moz-grab",S.container[0].style.cursor="grab");var n=Date.now(),r=n-k;if(S.allowClick&&(S.updateClickedSlide(t),S.emit("onTap",S,t),300>r&&n-O>300&&(P&&clearTimeout(P),P=setTimeout(function(){S&&(S.params.paginationHide&&S.paginationContainer.length>0&&!e(t.target).hasClass(S.params.bulletClass)&&S.paginationContainer.toggleClass(S.params.paginationHiddenClass),S.emit("onClick",S,t))},300)),300>r&&300>n-O&&(P&&clearTimeout(P),S.emit("onDoubleTap",S,t))),O=Date.now(),setTimeout(function(){S&&(S.allowClick=!0)},0),!$||!T||!S.swipeDirection||0===S.touches.diff||A===D)return void($=T=!1);$=T=!1;var i;if(i=S.params.followFinger?S.rtl?S.translate:-S.translate:-A,S.params.freeMode){if(i<-S.minTranslate())return void S.slideTo(S.activeIndex);if(i>-S.maxTranslate())return void(S.slides.length<S.snapGrid.length?S.slideTo(S.snapGrid.length-1):S.slideTo(S.slides.length-1));if(S.params.freeModeMomentum){if(B.length>1){var o=B.pop(),a=B.pop(),s=o.position-a.position,l=o.time-a.time;S.velocity=s/l,S.velocity=S.velocity/2,Math.abs(S.velocity)<S.params.freeModeMinimumVelocity&&(S.velocity=0),(l>150||(new window.Date).getTime()-o.time>300)&&(S.velocity=0)}else S.velocity=0;B.length=0;var u=1e3*S.params.freeModeMomentumRatio,c=S.velocity*u,h=S.translate+c;S.rtl&&(h=-h);var d,f=!1,p=20*Math.abs(S.velocity)*S.params.freeModeMomentumBounceRatio;if(h<S.maxTranslate())S.params.freeModeMomentumBounce?(h+S.maxTranslate()<-p&&(h=S.maxTranslate()-p),d=S.maxTranslate(),f=!0,L=!0):h=S.maxTranslate();else if(h>S.minTranslate())S.params.freeModeMomentumBounce?(h-S.minTranslate()>p&&(h=S.minTranslate()+p),d=S.minTranslate(),f=!0,L=!0):h=S.minTranslate();else if(S.params.freeModeSticky){var m,g=0;for(g=0;g<S.snapGrid.length;g+=1)if(S.snapGrid[g]>-h){m=g;break}h=Math.abs(S.snapGrid[m]-h)<Math.abs(S.snapGrid[m-1]-h)||"next"===S.swipeDirection?S.snapGrid[m]:S.snapGrid[m-1],S.rtl||(h=-h)}if(0!==S.velocity)u=S.rtl?Math.abs((-h-S.translate)/S.velocity):Math.abs((h-S.translate)/S.velocity);else if(S.params.freeModeSticky)return void S.slideReset();S.params.freeModeMomentumBounce&&f?(S.updateProgress(d),S.setWrapperTransition(u),S.setWrapperTranslate(h),S.onTransitionStart(),S.animating=!0,S.wrapper.transitionEnd(function(){S&&L&&(S.emit("onMomentumBounce",S),S.setWrapperTransition(S.params.speed),S.setWrapperTranslate(d),S.wrapper.transitionEnd(function(){S&&S.onTransitionEnd()}))})):S.velocity?(S.updateProgress(h),S.setWrapperTransition(u),S.setWrapperTranslate(h),S.onTransitionStart(),S.animating||(S.animating=!0,S.wrapper.transitionEnd(function(){S&&S.onTransitionEnd()}))):S.updateProgress(h),S.updateActiveIndex()}return void((!S.params.freeModeMomentum||r>=S.params.longSwipesMs)&&(S.updateProgress(),S.updateActiveIndex()))}var v,_=0,y=S.slidesSizesGrid[0];for(v=0;v<S.slidesGrid.length;v+=S.params.slidesPerGroup)"undefined"!=typeof S.slidesGrid[v+S.params.slidesPerGroup]?i>=S.slidesGrid[v]&&i<S.slidesGrid[v+S.params.slidesPerGroup]&&(_=v,y=S.slidesGrid[v+S.params.slidesPerGroup]-S.slidesGrid[v]):i>=S.slidesGrid[v]&&(_=v,y=S.slidesGrid[S.slidesGrid.length-1]-S.slidesGrid[S.slidesGrid.length-2]);var w=(i-S.slidesGrid[_])/y;if(r>S.params.longSwipesMs){if(!S.params.longSwipes)return void S.slideTo(S.activeIndex);"next"===S.swipeDirection&&(w>=S.params.longSwipesRatio?S.slideTo(_+S.params.slidesPerGroup):S.slideTo(_)),"prev"===S.swipeDirection&&(w>1-S.params.longSwipesRatio?S.slideTo(_+S.params.slidesPerGroup):S.slideTo(_))}else{if(!S.params.shortSwipes)return void S.slideTo(S.activeIndex);"next"===S.swipeDirection&&S.slideTo(_+S.params.slidesPerGroup),"prev"===S.swipeDirection&&S.slideTo(_)}}},S._slideTo=function(t,e){return S.slideTo(t,e,!0,!0)},S.slideTo=function(t,e,n,r){"undefined"==typeof n&&(n=!0),"undefined"==typeof t&&(t=0),0>t&&(t=0),S.snapIndex=Math.floor(t/S.params.slidesPerGroup),S.snapIndex>=S.snapGrid.length&&(S.snapIndex=S.snapGrid.length-1);var i=-S.snapGrid[S.snapIndex];S.params.autoplay&&S.autoplaying&&(r||!S.params.autoplayDisableOnInteraction?S.pauseAutoplay(e):S.stopAutoplay()),S.updateProgress(i);for(var o=0;o<S.slidesGrid.length;o++)-Math.floor(100*i)>=Math.floor(100*S.slidesGrid[o])&&(t=o);return!S.params.allowSwipeToNext&&i<S.translate&&i<S.minTranslate()?!1:!S.params.allowSwipeToPrev&&i>S.translate&&i>S.maxTranslate()&&(S.activeIndex||0)!==t?!1:("undefined"==typeof e&&(e=S.params.speed),S.previousIndex=S.activeIndex||0,S.activeIndex=t,S.rtl&&-i===S.translate||!S.rtl&&i===S.translate?(S.params.autoHeight&&S.updateAutoHeight(),S.updateClasses(),"slide"!==S.params.effect&&S.setWrapperTranslate(i),!1):(S.updateClasses(),S.onTransitionStart(n),0===e?(S.setWrapperTranslate(i),S.setWrapperTransition(0),S.onTransitionEnd(n)):(S.setWrapperTranslate(i),S.setWrapperTransition(e),S.animating||(S.animating=!0,S.wrapper.transitionEnd(function(){S&&S.onTransitionEnd(n)}))),!0))},S.onTransitionStart=function(t){"undefined"==typeof t&&(t=!0),S.params.autoHeight&&S.updateAutoHeight(),S.lazy&&S.lazy.onTransitionStart(),t&&(S.emit("onTransitionStart",S),S.activeIndex!==S.previousIndex&&(S.emit("onSlideChangeStart",S),S.activeIndex>S.previousIndex?S.emit("onSlideNextStart",S):S.emit("onSlidePrevStart",S)))},S.onTransitionEnd=function(t){S.animating=!1,S.setWrapperTransition(0),"undefined"==typeof t&&(t=!0),S.lazy&&S.lazy.onTransitionEnd(),t&&(S.emit("onTransitionEnd",S),S.activeIndex!==S.previousIndex&&(S.emit("onSlideChangeEnd",S),S.activeIndex>S.previousIndex?S.emit("onSlideNextEnd",S):S.emit("onSlidePrevEnd",S))),S.params.hashnav&&S.hashnav&&S.hashnav.setHash()},S.slideNext=function(t,e,n){if(S.params.loop){if(S.animating)return!1;S.fixLoop();S.container[0].clientLeft;return S.slideTo(S.activeIndex+S.params.slidesPerGroup,e,t,n)}return S.slideTo(S.activeIndex+S.params.slidesPerGroup,e,t,n)},S._slideNext=function(t){return S.slideNext(!0,t,!0)},S.slidePrev=function(t,e,n){if(S.params.loop){if(S.animating)return!1;S.fixLoop();S.container[0].clientLeft;return S.slideTo(S.activeIndex-1,e,t,n)}return S.slideTo(S.activeIndex-1,e,t,n)},S._slidePrev=function(t){return S.slidePrev(!0,t,!0)},S.slideReset=function(t,e,n){return S.slideTo(S.activeIndex,e,t)},S.setWrapperTransition=function(t,e){S.wrapper.transition(t),"slide"!==S.params.effect&&S.effects[S.params.effect]&&S.effects[S.params.effect].setTransition(t),S.params.parallax&&S.parallax&&S.parallax.setTransition(t),S.params.scrollbar&&S.scrollbar&&S.scrollbar.setTransition(t),S.params.control&&S.controller&&S.controller.setTransition(t,e),S.emit("onSetTransition",S,t)},S.setWrapperTranslate=function(t,e,n){var r=0,i=0,o=0;s()?r=S.rtl?-t:t:i=t,S.params.roundLengths&&(r=l(r),i=l(i)),S.params.virtualTranslate||(S.support.transforms3d?S.wrapper.transform("translate3d("+r+"px, "+i+"px, "+o+"px)"):S.wrapper.transform("translate("+r+"px, "+i+"px)")),S.translate=s()?r:i;var a,u=S.maxTranslate()-S.minTranslate();a=0===u?0:(t-S.minTranslate())/u,a!==S.progress&&S.updateProgress(t),
e&&S.updateActiveIndex(),"slide"!==S.params.effect&&S.effects[S.params.effect]&&S.effects[S.params.effect].setTranslate(S.translate),S.params.parallax&&S.parallax&&S.parallax.setTranslate(S.translate),S.params.scrollbar&&S.scrollbar&&S.scrollbar.setTranslate(S.translate),S.params.control&&S.controller&&S.controller.setTranslate(S.translate,n),S.emit("onSetTranslate",S,S.translate)},S.getTranslate=function(t,e){var n,r,i,o;return"undefined"==typeof e&&(e="x"),S.params.virtualTranslate?S.rtl?-S.translate:S.translate:(i=window.getComputedStyle(t,null),window.WebKitCSSMatrix?(r=i.transform||i.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),o=new window.WebKitCSSMatrix("none"===r?"":r)):(o=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=o.toString().split(",")),"x"===e&&(r=window.WebKitCSSMatrix?o.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(r=window.WebKitCSSMatrix?o.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),S.rtl&&r&&(r=-r),r||0)},S.getWrapperTranslate=function(t){return"undefined"==typeof t&&(t=s()?"x":"y"),S.getTranslate(S.wrapper[0],t)},S.observers=[],S.initObservers=function(){if(S.params.observeParents)for(var t=S.container.parents(),e=0;e<t.length;e++)h(t[e]);h(S.container[0],{childList:!1}),h(S.wrapper[0],{attributes:!1})},S.disconnectObservers=function(){for(var t=0;t<S.observers.length;t++)S.observers[t].disconnect();S.observers=[]},S.createLoop=function(){var t=S.wrapper.children("."+S.params.slideClass+"."+S.params.slideDuplicateClass);angular.element(t).remove();var n=S.wrapper.children("."+S.params.slideClass);"auto"!==S.params.slidesPerView||S.params.loopedSlides||(S.params.loopedSlides=n.length),S.loopedSlides=parseInt(S.params.loopedSlides||S.params.slidesPerView,10),S.loopedSlides=S.loopedSlides+S.params.loopAdditionalSlides,S.loopedSlides>n.length&&(S.loopedSlides=n.length);var r,i,o,s=[],l=[];for(n.each(function(t,r){var i=e(this);t<S.loopedSlides&&l.push(r),t<n.length&&t>=n.length-S.loopedSlides&&s.push(r),i.attr("data-swiper-slide-index",t)}),r=0;r<l.length;r++)o=angular.element(l[r]).clone().addClass(S.params.slideDuplicateClass),o.removeAttr("ng-transclude"),o.removeAttr("ng-repeat"),i=angular.element(l[r]).scope(),o=a(o)(i),angular.element(S.wrapper).append(o);for(r=s.length-1;r>=0;r--)o=angular.element(s[r]).clone().addClass(S.params.slideDuplicateClass),o.removeAttr("ng-transclude"),o.removeAttr("ng-repeat"),i=angular.element(s[r]).scope(),o=a(o)(i),angular.element(S.wrapper).prepend(o)},S.destroyLoop=function(){S.wrapper.children("."+S.params.slideClass+"."+S.params.slideDuplicateClass).remove(),S.slides.removeAttr("data-swiper-slide-index")},S.fixLoop=function(){var t;S.activeIndex<S.loopedSlides?(t=S.slides.length-3*S.loopedSlides+S.activeIndex,t+=S.loopedSlides,S.slideTo(t,0,!1,!0)):("auto"===S.params.slidesPerView&&S.activeIndex>=2*S.loopedSlides||S.activeIndex>S.slides.length-2*S.params.slidesPerView)&&(t=-S.slides.length+S.activeIndex+S.loopedSlides,t+=S.loopedSlides,S.slideTo(t,0,!1,!0))},S.appendSlide=function(t){if(S.params.loop&&S.destroyLoop(),"object"==typeof t&&t.length)for(var e=0;e<t.length;e++)t[e]&&S.wrapper.append(t[e]);else S.wrapper.append(t);S.params.loop&&S.createLoop(),S.params.observer&&S.support.observer||S.update(!0)},S.prependSlide=function(t){S.params.loop&&S.destroyLoop();var e=S.activeIndex+1;if("object"==typeof t&&t.length){for(var n=0;n<t.length;n++)t[n]&&S.wrapper.prepend(t[n]);e=S.activeIndex+t.length}else S.wrapper.prepend(t);S.params.loop&&S.createLoop(),S.params.observer&&S.support.observer||S.update(!0),S.slideTo(e,0,!1)},S.removeSlide=function(t){S.params.loop&&(S.destroyLoop(),S.slides=S.wrapper.children("."+S.params.slideClass));var e,n=S.activeIndex;if("object"==typeof t&&t.length){for(var r=0;r<t.length;r++)e=t[r],S.slides[e]&&S.slides.eq(e).remove(),n>e&&n--;n=Math.max(n,0)}else e=t,S.slides[e]&&S.slides.eq(e).remove(),n>e&&n--,n=Math.max(n,0);S.params.loop&&S.createLoop(),S.params.observer&&S.support.observer||S.update(!0),S.params.loop?S.slideTo(n+S.loopedSlides,0,!1):S.slideTo(n,0,!1)},S.removeAllSlides=function(){for(var t=[],e=0;e<S.slides.length;e++)t.push(e);S.removeSlide(t)},S.effects={fade:{setTranslate:function(){for(var t=0;t<S.slides.length;t++){var e=S.slides.eq(t),n=e[0].swiperSlideOffset,r=-n;S.params.virtualTranslate||(r-=S.translate);var i=0;s()||(i=r,r=0);var o=S.params.fade.crossFade?Math.max(1-Math.abs(e[0].progress),0):1+Math.min(Math.max(e[0].progress,-1),0);e.css({opacity:o}).transform("translate3d("+r+"px, "+i+"px, 0px)")}},setTransition:function(t){if(S.slides.transition(t),S.params.virtualTranslate&&0!==t){var e=!1;S.slides.transitionEnd(function(){if(!e&&S){e=!0,S.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<t.length;n++)S.wrapper.trigger(t[n])}})}}},cube:{setTranslate:function(){var t,n=0;S.params.cube.shadow&&(s()?(t=S.wrapper.find(".swiper-cube-shadow"),0===t.length&&(t=e('<div class="swiper-cube-shadow"></div>'),S.wrapper.append(t)),t.css({height:S.width+"px"})):(t=S.container.find(".swiper-cube-shadow"),0===t.length&&(t=e('<div class="swiper-cube-shadow"></div>'),S.container.append(t))));for(var r=0;r<S.slides.length;r++){var i=S.slides.eq(r),o=90*r,a=Math.floor(o/360);S.rtl&&(o=-o,a=Math.floor(-o/360));var l=Math.max(Math.min(i[0].progress,1),-1),u=0,c=0,h=0;r%4===0?(u=4*-a*S.size,h=0):(r-1)%4===0?(u=0,h=4*-a*S.size):(r-2)%4===0?(u=S.size+4*a*S.size,h=S.size):(r-3)%4===0&&(u=-S.size,h=3*S.size+4*S.size*a),S.rtl&&(u=-u),s()||(c=u,u=0);var d="rotateX("+(s()?0:-o)+"deg) rotateY("+(s()?o:0)+"deg) translate3d("+u+"px, "+c+"px, "+h+"px)";if(1>=l&&l>-1&&(n=90*r+90*l,S.rtl&&(n=90*-r-90*l)),i.transform(d),S.params.cube.slideShadows){var f=s()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),p=s()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===f.length&&(f=e('<div class="swiper-slide-shadow-'+(s()?"left":"top")+'"></div>'),i.append(f)),0===p.length&&(p=e('<div class="swiper-slide-shadow-'+(s()?"right":"bottom")+'"></div>'),i.append(p));i[0].progress;f.length&&(f[0].style.opacity=-i[0].progress),p.length&&(p[0].style.opacity=i[0].progress)}}if(S.wrapper.css({"-webkit-transform-origin":"50% 50% -"+S.size/2+"px","-moz-transform-origin":"50% 50% -"+S.size/2+"px","-ms-transform-origin":"50% 50% -"+S.size/2+"px","transform-origin":"50% 50% -"+S.size/2+"px"}),S.params.cube.shadow)if(s())t.transform("translate3d(0px, "+(S.width/2+S.params.cube.shadowOffset)+"px, "+-S.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+S.params.cube.shadowScale+")");else{var m=Math.abs(n)-90*Math.floor(Math.abs(n)/90),g=1.5-(Math.sin(2*m*Math.PI/360)/2+Math.cos(2*m*Math.PI/360)/2),v=S.params.cube.shadowScale,_=S.params.cube.shadowScale/g,y=S.params.cube.shadowOffset;t.transform("scale3d("+v+", 1, "+_+") translate3d(0px, "+(S.height/2+y)+"px, "+-S.height/2/_+"px) rotateX(-90deg)")}var w=S.isSafari||S.isUiWebView?-S.size/2:0;S.wrapper.transform("translate3d(0px,0,"+w+"px) rotateX("+(s()?0:n)+"deg) rotateY("+(s()?-n:0)+"deg)")},setTransition:function(t){S.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),S.params.cube.shadow&&!s()&&S.container.find(".swiper-cube-shadow").transition(t)}},coverflow:{setTranslate:function(){for(var t=S.translate,n=s()?-t+S.width/2:-t+S.height/2,r=s()?S.params.coverflow.rotate:-S.params.coverflow.rotate,i=S.params.coverflow.depth,o=0,a=S.slides.length;a>o;o++){var l=S.slides.eq(o),u=S.slidesSizesGrid[o],c=l[0].swiperSlideOffset,h=(n-c-u/2)/u*S.params.coverflow.modifier,d=s()?r*h:0,f=s()?0:r*h,p=-i*Math.abs(h),m=s()?0:S.params.coverflow.stretch*h,g=s()?S.params.coverflow.stretch*h:0;Math.abs(g)<.001&&(g=0),Math.abs(m)<.001&&(m=0),Math.abs(p)<.001&&(p=0),Math.abs(d)<.001&&(d=0),Math.abs(f)<.001&&(f=0);var v="translate3d("+g+"px,"+m+"px,"+p+"px)  rotateX("+f+"deg) rotateY("+d+"deg)";if(l.transform(v),l[0].style.zIndex=-Math.abs(Math.round(h))+1,S.params.coverflow.slideShadows){var _=s()?l.find(".swiper-slide-shadow-left"):l.find(".swiper-slide-shadow-top"),y=s()?l.find(".swiper-slide-shadow-right"):l.find(".swiper-slide-shadow-bottom");0===_.length&&(_=e('<div class="swiper-slide-shadow-'+(s()?"left":"top")+'"></div>'),l.append(_)),0===y.length&&(y=e('<div class="swiper-slide-shadow-'+(s()?"right":"bottom")+'"></div>'),l.append(y)),_.length&&(_[0].style.opacity=h>0?h:0),y.length&&(y[0].style.opacity=-h>0?-h:0)}}if(S.browser.ie){var w=S.wrapper[0].style;w.perspectiveOrigin=n+"px 50%"}},setTransition:function(t){S.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}}},S.lazy={initialImageLoaded:!1,loadImageInSlide:function(t,n){if("undefined"!=typeof t&&("undefined"==typeof n&&(n=!0),0!==S.slides.length)){var r=S.slides.eq(t),i=r.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!r.hasClass("swiper-lazy")||r.hasClass("swiper-lazy-loaded")||r.hasClass("swiper-lazy-loading")||(i=i.add(r[0])),0!==i.length&&i.each(function(){var t=e(this);t.addClass("swiper-lazy-loading");var i=t.attr("data-background"),o=t.attr("data-src"),a=t.attr("data-srcset");S.loadImage(t[0],o||i,a,!1,function(){if(i?(t.css("background-image","url("+i+")"),t.removeAttr("data-background")):(a&&(t.attr("srcset",a),t.removeAttr("data-srcset")),o&&(t.attr("src",o),t.removeAttr("data-src"))),t.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),r.find(".swiper-lazy-preloader, .preloader").remove(),S.params.loop&&n){var e=r.attr("data-swiper-slide-index");if(r.hasClass(S.params.slideDuplicateClass)){var s=S.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+S.params.slideDuplicateClass+")");S.lazy.loadImageInSlide(s.index(),!1)}else{var l=S.wrapper.children("."+S.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');S.lazy.loadImageInSlide(l.index(),!1)}}S.emit("onLazyImageReady",S,r[0],t[0])}),S.emit("onLazyImageLoad",S,r[0],t[0])})}},load:function(){var t;if(S.params.watchSlidesVisibility)S.wrapper.children("."+S.params.slideVisibleClass).each(function(){S.lazy.loadImageInSlide(e(this).index())});else if(S.params.slidesPerView>1)for(t=S.activeIndex;t<S.activeIndex+S.params.slidesPerView;t++)S.slides[t]&&S.lazy.loadImageInSlide(t);else S.lazy.loadImageInSlide(S.activeIndex);if(S.params.lazyLoadingInPrevNext)if(S.params.slidesPerView>1){for(t=S.activeIndex+S.params.slidesPerView;t<S.activeIndex+S.params.slidesPerView+S.params.slidesPerView;t++)S.slides[t]&&S.lazy.loadImageInSlide(t);for(t=S.activeIndex-S.params.slidesPerView;t<S.activeIndex;t++)S.slides[t]&&S.lazy.loadImageInSlide(t)}else{var n=S.wrapper.children("."+S.params.slideNextClass);n.length>0&&S.lazy.loadImageInSlide(n.index());var r=S.wrapper.children("."+S.params.slidePrevClass);r.length>0&&S.lazy.loadImageInSlide(r.index())}},onTransitionStart:function(){S.params.lazyLoading&&(S.params.lazyLoadingOnTransitionStart||!S.params.lazyLoadingOnTransitionStart&&!S.lazy.initialImageLoaded)&&S.lazy.load()},onTransitionEnd:function(){S.params.lazyLoading&&!S.params.lazyLoadingOnTransitionStart&&S.lazy.load()}},S.scrollbar={isTouched:!1,setDragPosition:function(t){var e=S.scrollbar,n=s()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageX:t.pageX||t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageY:t.pageY||t.clientY,r=n-e.track.offset()[s()?"left":"top"]-e.dragSize/2,i=-S.minTranslate()*e.moveDivider,o=-S.maxTranslate()*e.moveDivider;i>r?r=i:r>o&&(r=o),r=-r/e.moveDivider,S.updateProgress(r),S.setWrapperTranslate(r,!0)},dragStart:function(t){var e=S.scrollbar;e.isTouched=!0,t.preventDefault(),t.stopPropagation(),e.setDragPosition(t),clearTimeout(e.dragTimeout),e.track.transition(0),S.params.scrollbarHide&&e.track.css("opacity",1),S.wrapper.transition(100),e.drag.transition(100),S.emit("onScrollbarDragStart",S)},dragMove:function(t){var e=S.scrollbar;e.isTouched&&(t.preventDefault?t.preventDefault():t.returnValue=!1,e.setDragPosition(t),S.wrapper.transition(0),e.track.transition(0),e.drag.transition(0),S.emit("onScrollbarDragMove",S))},dragEnd:function(t){var e=S.scrollbar;e.isTouched&&(e.isTouched=!1,S.params.scrollbarHide&&(clearTimeout(e.dragTimeout),e.dragTimeout=setTimeout(function(){e.track.css("opacity",0),e.track.transition(400)},1e3)),S.emit("onScrollbarDragEnd",S),S.params.scrollbarSnapOnRelease&&S.slideReset())},enableDraggable:function(){var t=S.scrollbar,n=S.support.touch?t.track:document;e(t.track).on(S.touchEvents.start,t.dragStart),e(n).on(S.touchEvents.move,t.dragMove),e(n).on(S.touchEvents.end,t.dragEnd)},disableDraggable:function(){var t=S.scrollbar,n=S.support.touch?t.track:document;e(t.track).off(S.touchEvents.start,t.dragStart),e(n).off(S.touchEvents.move,t.dragMove),e(n).off(S.touchEvents.end,t.dragEnd)},set:function(){if(S.params.scrollbar){var t=S.scrollbar;t.track=e(S.params.scrollbar),t.drag=t.track.find(".swiper-scrollbar-drag"),0===t.drag.length&&(t.drag=e('<div class="swiper-scrollbar-drag"></div>'),t.track.append(t.drag)),t.drag[0].style.width="",t.drag[0].style.height="",t.trackSize=s()?t.track[0].offsetWidth:t.track[0].offsetHeight,t.divider=S.size/S.virtualSize,t.moveDivider=t.divider*(t.trackSize/S.size),t.dragSize=t.trackSize*t.divider,s()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px",t.divider>=1?t.track[0].style.display="none":t.track[0].style.display="",S.params.scrollbarHide&&(t.track[0].style.opacity=0)}},setTranslate:function(){if(S.params.scrollbar){var t,e=S.scrollbar,n=(S.translate||0,e.dragSize);t=(e.trackSize-e.dragSize)*S.progress,S.rtl&&s()?(t=-t,t>0?(n=e.dragSize-t,t=0):-t+e.dragSize>e.trackSize&&(n=e.trackSize+t)):0>t?(n=e.dragSize+t,t=0):t+e.dragSize>e.trackSize&&(n=e.trackSize-t),s()?(S.support.transforms3d?e.drag.transform("translate3d("+t+"px, 0, 0)"):e.drag.transform("translateX("+t+"px)"),e.drag[0].style.width=n+"px"):(S.support.transforms3d?e.drag.transform("translate3d(0px, "+t+"px, 0)"):e.drag.transform("translateY("+t+"px)"),e.drag[0].style.height=n+"px"),S.params.scrollbarHide&&(clearTimeout(e.timeout),e.track[0].style.opacity=1,e.timeout=setTimeout(function(){e.track[0].style.opacity=0,e.track.transition(400)},1e3))}},setTransition:function(t){S.params.scrollbar&&S.scrollbar.drag.transition(t)}},S.controller={LinearSpline:function(t,e){this.x=t,this.y=e,this.lastIndex=t.length-1;var n,r;this.x.length;this.interpolate=function(t){return t?(r=i(this.x,t),n=r-1,(t-this.x[n])*(this.y[r]-this.y[n])/(this.x[r]-this.x[n])+this.y[n]):0};var i=function(){var t,e,n;return function(r,i){for(e=-1,t=r.length;t-e>1;)r[n=t+e>>1]<=i?e=n:t=n;return t}}()},getInterpolateFunction:function(t){S.controller.spline||(S.controller.spline=S.params.loop?new S.controller.LinearSpline(S.slidesGrid,t.slidesGrid):new S.controller.LinearSpline(S.snapGrid,t.snapGrid))},setTranslate:function(t,e){function r(e){t=e.rtl&&"horizontal"===e.params.direction?-S.translate:S.translate,"slide"===S.params.controlBy&&(S.controller.getInterpolateFunction(e),o=-S.controller.spline.interpolate(-t)),o&&"container"!==S.params.controlBy||(i=(e.maxTranslate()-e.minTranslate())/(S.maxTranslate()-S.minTranslate()),o=(t-S.minTranslate())*i+e.minTranslate()),S.params.controlInverse&&(o=e.maxTranslate()-o),e.updateProgress(o),e.setWrapperTranslate(o,!1,S),e.updateActiveIndex()}var i,o,a=S.params.control;if(S.isArray(a))for(var s=0;s<a.length;s++)a[s]!==e&&a[s]instanceof n&&r(a[s]);else a instanceof n&&e!==a&&r(a)},setTransition:function(t,e){function r(e){e.setWrapperTransition(t,S),0!==t&&(e.onTransitionStart(),e.wrapper.transitionEnd(function(){o&&(e.params.loop&&"slide"===S.params.controlBy&&e.fixLoop(),e.onTransitionEnd())}))}var i,o=S.params.control;if(S.isArray(o))for(i=0;i<o.length;i++)o[i]!==e&&o[i]instanceof n&&r(o[i]);else o instanceof n&&e!==o&&r(o)}},S.hashnav={init:function(){if(S.params.hashnav){S.hashnav.initialized=!0;var t=document.location.hash.replace("#","");if(t)for(var e=0,n=0,r=S.slides.length;r>n;n++){var i=S.slides.eq(n),o=i.attr("data-hash");if(o===t&&!i.hasClass(S.params.slideDuplicateClass)){var a=i.index();S.slideTo(a,e,S.params.runCallbacksOnInit,!0)}}}},setHash:function(){S.hashnav.initialized&&S.params.hashnav&&(document.location.hash=S.slides.eq(S.activeIndex).attr("data-hash")||"")}},S.disableKeyboardControl=function(){S.params.keyboardControl=!1,e(document).off("keydown",d)},S.enableKeyboardControl=function(){S.params.keyboardControl=!0,e(document).on("keydown",d)},S.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},S.params.mousewheelControl){try{new window.WheelEvent("wheel"),S.mousewheel.event="wheel"}catch(U){}S.mousewheel.event||void 0===document.onmousewheel||(S.mousewheel.event="mousewheel"),S.mousewheel.event||(S.mousewheel.event="DOMMouseScroll")}S.disableMousewheelControl=function(){return S.mousewheel.event?(S.container.off(S.mousewheel.event,f),!0):!1},S.enableMousewheelControl=function(){return S.mousewheel.event?(S.container.on(S.mousewheel.event,f),!0):!1},S.parallax={setTranslate:function(){S.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){p(this,S.progress)}),S.slides.each(function(){var t=e(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var e=Math.min(Math.max(t[0].progress,-1),1);p(this,e)})})},setTransition:function(t){"undefined"==typeof t&&(t=S.params.speed),S.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var n=e(this),r=parseInt(n.attr("data-swiper-parallax-duration"),10)||t;0===t&&(r=0),n.transition(r)})}},S._plugins=[];for(var F in S.plugins){var z=S.plugins[F](S,S.params[F]);z&&S._plugins.push(z)}return S.callPlugins=function(t){for(var e=0;e<S._plugins.length;e++)t in S._plugins[e]&&S._plugins[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},S.emitterEventListeners={},S.emit=function(t){S.params[t]&&S.params[t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var e;if(S.emitterEventListeners[t])for(e=0;e<S.emitterEventListeners[t].length;e++)S.emitterEventListeners[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);S.callPlugins&&S.callPlugins(t,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},S.on=function(t,e){return t=m(t),S.emitterEventListeners[t]||(S.emitterEventListeners[t]=[]),S.emitterEventListeners[t].push(e),S},S.off=function(t,e){var n;if(t=m(t),"undefined"==typeof e)return S.emitterEventListeners[t]=[],S;if(S.emitterEventListeners[t]&&0!==S.emitterEventListeners[t].length){for(n=0;n<S.emitterEventListeners[t].length;n++)S.emitterEventListeners[t][n]===e&&S.emitterEventListeners[t].splice(n,1);return S}},S.once=function(t,e){t=m(t);var n=function(){e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),S.off(t,n)};return S.on(t,n),S},S.a11y={makeFocusable:function(t){return t.attr("tabIndex","0"),t},addRole:function(t,e){return t.attr("role",e),t},addLabel:function(t,e){return t.attr("aria-label",e),t},disable:function(t){return t.attr("aria-disabled",!0),t},enable:function(t){return t.attr("aria-disabled",!1),t},onEnterKey:function(t){13===t.keyCode&&(e(t.target).is(S.params.nextButton)?(S.onClickNext(t),S.isEnd?S.a11y.notify(S.params.lastSlideMessage):S.a11y.notify(S.params.nextSlideMessage)):e(t.target).is(S.params.prevButton)&&(S.onClickPrev(t),S.isBeginning?S.a11y.notify(S.params.firstSlideMessage):S.a11y.notify(S.params.prevSlideMessage)),e(t.target).is("."+S.params.bulletClass)&&e(t.target)[0].click())},liveRegion:e('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(t){var e=S.a11y.liveRegion;0!==e.length&&(e.html(""),e.html(t))},init:function(){if(S.params.nextButton){var t=e(S.params.nextButton);S.a11y.makeFocusable(t),S.a11y.addRole(t,"button"),S.a11y.addLabel(t,S.params.nextSlideMessage)}if(S.params.prevButton){var n=e(S.params.prevButton);S.a11y.makeFocusable(n),S.a11y.addRole(n,"button"),S.a11y.addLabel(n,S.params.prevSlideMessage)}e(S.container).append(S.a11y.liveRegion)},initPagination:function(){S.params.pagination&&S.params.paginationClickable&&S.bullets&&S.bullets.length&&S.bullets.each(function(){var t=e(this);S.a11y.makeFocusable(t),S.a11y.addRole(t,"button"),S.a11y.addLabel(t,S.params.paginationBulletMessage.replace(/{{index}}/,t.index()+1))})},destroy:function(){S.a11y.liveRegion&&S.a11y.liveRegion.length>0&&S.a11y.liveRegion.remove()}},S.init=function(){S.params.loop&&S.createLoop(),S.updateContainerSize(),S.updateSlidesSize(),S.updatePagination(),S.params.scrollbar&&S.scrollbar&&(S.scrollbar.set(),S.params.scrollbarDraggable&&S.scrollbar.enableDraggable()),"slide"!==S.params.effect&&S.effects[S.params.effect]&&(S.params.loop||S.updateProgress(),S.effects[S.params.effect].setTranslate()),S.params.loop?S.slideTo(S.params.initialSlide+S.loopedSlides,0,S.params.runCallbacksOnInit):(S.slideTo(S.params.initialSlide,0,S.params.runCallbacksOnInit),0===S.params.initialSlide&&(S.parallax&&S.params.parallax&&S.parallax.setTranslate(),S.lazy&&S.params.lazyLoading&&(S.lazy.load(),S.lazy.initialImageLoaded=!0))),S.attachEvents(),S.params.observer&&S.support.observer&&S.initObservers(),S.params.preloadImages&&!S.params.lazyLoading&&S.preloadImages(),S.params.autoplay&&S.startAutoplay(),S.params.keyboardControl&&S.enableKeyboardControl&&S.enableKeyboardControl(),S.params.mousewheelControl&&S.enableMousewheelControl&&S.enableMousewheelControl(),S.params.hashnav&&S.hashnav&&S.hashnav.init(),S.params.a11y&&S.a11y&&S.a11y.init(),S.emit("onInit",S)},S.cleanupStyles=function(){S.container.removeClass(S.classNames.join(" ")).removeAttr("style"),S.wrapper.removeAttr("style"),S.slides&&S.slides.length&&S.slides.removeClass([S.params.slideVisibleClass,S.params.slideActiveClass,S.params.slideNextClass,S.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),S.paginationContainer&&S.paginationContainer.length&&S.paginationContainer.removeClass(S.params.paginationHiddenClass),S.bullets&&S.bullets.length&&S.bullets.removeClass(S.params.bulletActiveClass),S.params.prevButton&&e(S.params.prevButton).removeClass(S.params.buttonDisabledClass),S.params.nextButton&&e(S.params.nextButton).removeClass(S.params.buttonDisabledClass),S.params.scrollbar&&S.scrollbar&&(S.scrollbar.track&&S.scrollbar.track.length&&S.scrollbar.track.removeAttr("style"),S.scrollbar.drag&&S.scrollbar.drag.length&&S.scrollbar.drag.removeAttr("style"))},S.destroy=function(t,e){S.detachEvents(),S.stopAutoplay(),S.params.scrollbar&&S.scrollbar&&S.params.scrollbarDraggable&&S.scrollbar.disableDraggable(),S.params.loop&&S.destroyLoop(),e&&S.cleanupStyles(),S.disconnectObservers(),S.params.keyboardControl&&S.disableKeyboardControl&&S.disableKeyboardControl(),S.params.mousewheelControl&&S.disableMousewheelControl&&S.disableMousewheelControl(),S.params.a11y&&S.a11y&&S.a11y.destroy(),S.emit("onDestroy"),t!==!1&&(S=null)},S.init(),S}};n.prototype={isSafari:function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var t=navigator.userAgent,e=t.match(/(Android);?[\s\/]+([\d.]+)?/),n=t.match(/(iPad).*OS\s([\d_]+)/),r=t.match(/(iPod)(.*OS\s([\d_]+))?/),i=!n&&t.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:n||i||r,android:e}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var t=document.createElement("div").style;return"webkitPerspective"in t||"MozPerspective"in t||"OPerspective"in t||"MsPerspective"in t||"perspective"in t}(),flexbox:function(){for(var t=document.createElement("div").style,e="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<e.length;n++)if(e[n]in t)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var r=(function(){var t=function(t){var e=this,n=0;for(n=0;n<t.length;n++)e[n]=t[n];return e.length=t.length,this},e=function(e,n){var r=[],i=0;if(e&&!n&&e instanceof t)return e;if(e)if("string"==typeof e){var o,a,s=e.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";for(0===s.indexOf("<li")&&(l="ul"),0===s.indexOf("<tr")&&(l="tbody"),(0===s.indexOf("<td")||0===s.indexOf("<th"))&&(l="tr"),0===s.indexOf("<tbody")&&(l="table"),0===s.indexOf("<option")&&(l="select"),a=document.createElement(l),a.innerHTML=e,i=0;i<a.childNodes.length;i++)r.push(a.childNodes[i])}else for(o=n||"#"!==e[0]||e.match(/[ .<>:~]/)?(n||document).querySelectorAll(e):[document.getElementById(e.split("#")[1])],i=0;i<o.length;i++)o[i]&&r.push(o[i])}else if(e.nodeType||e===window||e===document)r.push(e);else if(e.length>0&&e[0].nodeType)for(i=0;i<e.length;i++)r.push(e[i]);return new t(r)};return t.prototype={addClass:function(t){if("undefined"==typeof t)return this;for(var e=t.split(" "),n=0;n<e.length;n++)for(var r=0;r<this.length;r++)this[r].classList.add(e[n]);return this},removeClass:function(t){for(var e=t.split(" "),n=0;n<e.length;n++)for(var r=0;r<this.length;r++)this[r].classList.remove(e[n]);return this},hasClass:function(t){return this[0]?this[0].classList.contains(t):!1},toggleClass:function(t){for(var e=t.split(" "),n=0;n<e.length;n++)for(var r=0;r<this.length;r++)this[r].classList.toggle(e[n]);return this},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(t,e);else for(var r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this},removeAttr:function(t){for(var e=0;e<this.length;e++)this[e].removeAttribute(t);return this},data:function(t,e){if("undefined"!=typeof e){for(var n=0;n<this.length;n++){var r=this[n];r.dom7ElementDataStorage||(r.dom7ElementDataStorage={}),r.dom7ElementDataStorage[t]=e}return this}if(this[0]){var i=this[0].getAttribute("data-"+t);return i?i:this[0].dom7ElementDataStorage&&t in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[t]:void 0}},transform:function(t){for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=t}return this},transition:function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=t}return this},on:function(t,n,r,i){function o(t){var i=t.target;if(e(i).is(n))r.call(i,t);else for(var o=e(i).parents(),a=0;a<o.length;a++)e(o[a]).is(n)&&r.call(o[a],t)}var a,s,l=t.split(" ");for(a=0;a<this.length;a++)if("function"==typeof n||n===!1)for("function"==typeof n&&(r=arguments[1],i=arguments[2]||!1),s=0;s<l.length;s++)this[a].addEventListener(l[s],r,i);else for(s=0;s<l.length;s++)this[a].dom7LiveListeners||(this[a].dom7LiveListeners=[]),this[a].dom7LiveListeners.push({listener:r,liveListener:o}),this[a].addEventListener(l[s],o,i);return this},off:function(t,e,n,r){for(var i=t.split(" "),o=0;o<i.length;o++)for(var a=0;a<this.length;a++)if("function"==typeof e||e===!1)"function"==typeof e&&(n=arguments[1],r=arguments[2]||!1),this[a].removeEventListener(i[o],n,r);else if(this[a].dom7LiveListeners)for(var s=0;s<this[a].dom7LiveListeners.length;s++)this[a].dom7LiveListeners[s].listener===n&&this[a].removeEventListener(i[o],this[a].dom7LiveListeners[s].liveListener,r);return this},once:function(t,e,n,r){function i(a){n(a),o.off(t,e,i,r)}var o=this;"function"==typeof e&&(e=!1,n=arguments[1],r=arguments[2]),o.on(t,e,i,r)},trigger:function(t,e){for(var n=0;n<this.length;n++){var r;try{r=new window.CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0})}catch(i){r=document.createEvent("Event"),r.initEvent(t,!0,!0),r.detail=e}this[n].dispatchEvent(r)}return this},transitionEnd:function(t){function e(o){if(o.target===this)for(t.call(this,o),n=0;n<r.length;n++)i.off(r[n],e)}var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(t)for(n=0;n<r.length;n++)i.on(r[n],e);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(t){return this.length>0?t?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(t){return this.length>0?t?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var t=this[0],e=t.getBoundingClientRect(),n=document.body,r=t.clientTop||n.clientTop||0,i=t.clientLeft||n.clientLeft||0,o=window.pageYOffset||t.scrollTop,a=window.pageXOffset||t.scrollLeft;return{top:e.top+o-r,left:e.left+a-i}}return null},css:function(t,e){var n;if(1===arguments.length){if("string"!=typeof t){for(n=0;n<this.length;n++)for(var r in t)this[n].style[r]=t[r];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(n=0;n<this.length;n++)this[n].style[t]=e;return this}return this},each:function(t){for(var e=0;e<this.length;e++)t.call(this[e],e,this[e]);return this},html:function(t){if("undefined"==typeof t)return this[0]?this[0].innerHTML:void 0;for(var e=0;e<this.length;e++)this[e].innerHTML=t;return this},is:function(n){if(!this[0])return!1;var r,i;if("string"==typeof n){var o=this[0];if(o===document)return n===document;if(o===window)return n===window;if(o.matches)return o.matches(n);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(n);if(o.mozMatchesSelector)return o.mozMatchesSelector(n);if(o.msMatchesSelector)return o.msMatchesSelector(n);for(r=e(n),i=0;i<r.length;i++)if(r[i]===this[0])return!0;return!1}if(n===document)return this[0]===document;if(n===window)return this[0]===window;if(n.nodeType||n instanceof t){for(r=n.nodeType?[n]:n,i=0;i<r.length;i++)if(r[i]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var t=this[0],e=0;null!==(t=t.previousSibling);)1===t.nodeType&&e++;return e}},eq:function(e){if("undefined"==typeof e)return this;var n,r=this.length;return e>r-1?new t([]):0>e?(n=r+e,new t(0>n?[]:[this[n]])):new t([this[e]])},append:function(e){var n,r;for(n=0;n<this.length;n++)if("string"==typeof e){var i=document.createElement("div");for(i.innerHTML=e;i.firstChild;)this[n].appendChild(i.firstChild)}else if(e instanceof t)for(r=0;r<e.length;r++)this[n].appendChild(e[r]);else this[n].appendChild(e);return this},prepend:function(e){var n,r;for(n=0;n<this.length;n++)if("string"==typeof e){var i=document.createElement("div");for(i.innerHTML=e,r=i.childNodes.length-1;r>=0;r--)this[n].insertBefore(i.childNodes[r],this[n].childNodes[0])}else if(e instanceof t)for(r=0;r<e.length;r++)this[n].insertBefore(e[r],this[n].childNodes[0]);else this[n].insertBefore(e,this[n].childNodes[0]);
return this},insertBefore:function(t){for(var n=e(t),r=0;r<this.length;r++)if(1===n.length)n[0].parentNode.insertBefore(this[r],n[0]);else if(n.length>1)for(var i=0;i<n.length;i++)n[i].parentNode.insertBefore(this[r].cloneNode(!0),n[i])},insertAfter:function(t){for(var n=e(t),r=0;r<this.length;r++)if(1===n.length)n[0].parentNode.insertBefore(this[r],n[0].nextSibling);else if(n.length>1)for(var i=0;i<n.length;i++)n[i].parentNode.insertBefore(this[r].cloneNode(!0),n[i].nextSibling)},next:function(n){return new t(this.length>0?n?this[0].nextElementSibling&&e(this[0].nextElementSibling).is(n)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(n){var r=[],i=this[0];if(!i)return new t([]);for(;i.nextElementSibling;){var o=i.nextElementSibling;n?e(o).is(n)&&r.push(o):r.push(o),i=o}return new t(r)},prev:function(n){return new t(this.length>0?n?this[0].previousElementSibling&&e(this[0].previousElementSibling).is(n)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(n){var r=[],i=this[0];if(!i)return new t([]);for(;i.previousElementSibling;){var o=i.previousElementSibling;n?e(o).is(n)&&r.push(o):r.push(o),i=o}return new t(r)},parent:function(t){for(var n=[],r=0;r<this.length;r++)t?e(this[r].parentNode).is(t)&&n.push(this[r].parentNode):n.push(this[r].parentNode);return e(e.unique(n))},parents:function(t){for(var n=[],r=0;r<this.length;r++)for(var i=this[r].parentNode;i;)t?e(i).is(t)&&n.push(i):n.push(i),i=i.parentNode;return e(e.unique(n))},find:function(e){for(var n=[],r=0;r<this.length;r++)for(var i=this[r].querySelectorAll(e),o=0;o<i.length;o++)n.push(i[o]);return new t(n)},children:function(n){for(var r=[],i=0;i<this.length;i++)for(var o=this[i].childNodes,a=0;a<o.length;a++)n?1===o[a].nodeType&&e(o[a]).is(n)&&r.push(o[a]):1===o[a].nodeType&&r.push(o[a]);return new t(e.unique(r))},remove:function(){for(var t=0;t<this.length;t++)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this},add:function(){var t,n,r=this;for(t=0;t<arguments.length;t++){var i=e(arguments[t]);for(n=0;n<i.length;n++)r[r.length]=i[n],r.length++}return r}},e.fn=t.prototype,e.unique=function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e},e}()),i=["jQuery","Zepto","Dom7"],o=0;o<i.length;o++)window[i[o]]&&t(window[i[o]]);var a;a="undefined"==typeof r?window.Dom7||window.Zepto||window.jQuery:r,a&&("transitionEnd"in a.fn||(a.fn.transitionEnd=function(t){function e(o){if(o.target===this)for(t.call(this,o),n=0;n<r.length;n++)i.off(r[n],e)}var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(t)for(n=0;n<r.length;n++)i.on(r[n],e);return this}),"transform"in a.fn||(a.fn.transform=function(t){for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=t}return this}),"transition"in a.fn||(a.fn.transition=function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=t}return this})),ionic.views.Swiper=n}(),function(t){"use strict";t.views.Toggle=t.views.View.inherit({initialize:function(e){var n=this;this.el=e.el,this.checkbox=e.checkbox,this.track=e.track,this.handle=e.handle,this.openPercent=-1,this.onChange=e.onChange||function(){},this.triggerThreshold=e.triggerThreshold||20,this.dragStartHandler=function(t){n.dragStart(t)},this.dragHandler=function(t){n.drag(t)},this.holdHandler=function(t){n.hold(t)},this.releaseHandler=function(t){n.release(t)},this.dragStartGesture=t.onGesture("dragstart",this.dragStartHandler,this.el),this.dragGesture=t.onGesture("drag",this.dragHandler,this.el),this.dragHoldGesture=t.onGesture("hold",this.holdHandler,this.el),this.dragReleaseGesture=t.onGesture("release",this.releaseHandler,this.el)},destroy:function(){t.offGesture(this.dragStartGesture,"dragstart",this.dragStartGesture),t.offGesture(this.dragGesture,"drag",this.dragGesture),t.offGesture(this.dragHoldGesture,"hold",this.holdHandler),t.offGesture(this.dragReleaseGesture,"release",this.releaseHandler)},tap:function(){"disabled"!==this.el.getAttribute("disabled")&&this.val(!this.checkbox.checked)},dragStart:function(t){this.checkbox.disabled||(this._dragInfo={width:this.el.offsetWidth,left:this.el.offsetLeft,right:this.el.offsetLeft+this.el.offsetWidth,triggerX:this.el.offsetWidth/2,initialState:this.checkbox.checked},t.gesture.srcEvent.preventDefault(),this.hold(t))},drag:function(e){var n=this;this._dragInfo&&(e.gesture.srcEvent.preventDefault(),t.requestAnimationFrame(function(){if(n._dragInfo){var t=e.gesture.touches[0].pageX-n._dragInfo.left,r=n._dragInfo.width-n.triggerThreshold;n._dragInfo.initialState?t<n.triggerThreshold?n.setOpenPercent(0):t>n._dragInfo.triggerX&&n.setOpenPercent(100):t<n._dragInfo.triggerX?n.setOpenPercent(0):t>r&&n.setOpenPercent(100)}}))},endDrag:function(){this._dragInfo=null},hold:function(){this.el.classList.add("dragging")},release:function(t){this.el.classList.remove("dragging"),this.endDrag(t)},setOpenPercent:function(e){if(this.openPercent<0||e<this.openPercent-3||e>this.openPercent+3)if(this.openPercent=e,0===e)this.val(!1);else if(100===e)this.val(!0);else{var n=Math.round(e/100*this.track.offsetWidth-this.handle.offsetWidth);n=1>n?0:n,this.handle.style[t.CSS.TRANSFORM]="translate3d("+n+"px,0,0)"}},val:function(e){return(e===!0||e===!1)&&(""!==this.handle.style[t.CSS.TRANSFORM]&&(this.handle.style[t.CSS.TRANSFORM]=""),this.checkbox.checked=e,this.openPercent=e?100:0,this.onChange&&this.onChange()),this.checkbox.checked}})}(ionic)}(),function(t,e,n){"use strict";function r(t,e){return e=e||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(t?t+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+i;return n<o.length?yt(o[n]):t}),s+="\nhttp://errors.angularjs.org/1.4.3/"+(t?t+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(yt(o[r]));return new e(s)}}function i(t){if(null==t||k(t))return!1;var e="length"in Object(t)&&t.length;return t.nodeType===Wr&&e?!0:S(t)||Rr(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){var r,a;if(t)if(T(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r,t);else if(Rr(t)||i(t)){var s="object"!=typeof t;for(r=0,a=t.length;a>r;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(x(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)br.call(t,r)&&e.call(n,t[r],r,t);return t}function a(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function s(t){return function(e,n){t(n,e)}}function l(){return++Or}function u(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function c(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;o>i;++i){var a=e[i];if(b(a)||T(a))for(var s=Object.keys(a),l=0,h=s.length;h>l;l++){var d=s[l],f=a[d];n&&b(f)?$(f)?t[d]=new Date(f.valueOf()):(b(t[d])||(t[d]=Rr(f)?[]:{}),c(t[d],[f],!0)):t[d]=f}}return u(t,r),t}function h(t){return c(t,Mr.call(arguments,1),!1)}function d(t){return c(t,Mr.call(arguments,1),!0)}function f(t){return parseInt(t,10)}function p(t,e){return h(Object.create(t),e)}function m(){}function g(t){return t}function v(t){return function(){return t}}function _(t){return T(t.toString)&&t.toString!==Object.prototype.toString}function y(t){return"undefined"==typeof t}function w(t){return"undefined"!=typeof t}function b(t){return null!==t&&"object"==typeof t}function x(t){return null!==t&&"object"==typeof t&&!Pr(t)}function S(t){return"string"==typeof t}function E(t){return"number"==typeof t}function $(t){return"[object Date]"===Ir.call(t)}function T(t){return"function"==typeof t}function C(t){return"[object RegExp]"===Ir.call(t)}function k(t){return t&&t.window===t}function M(t){return t&&t.$evalAsync&&t.$watch}function A(t){return"[object File]"===Ir.call(t)}function D(t){return"[object FormData]"===Ir.call(t)}function I(t){return"[object Blob]"===Ir.call(t)}function P(t){return"boolean"==typeof t}function L(t){return t&&T(t.then)}function N(t){return Vr.test(Ir.call(t))}function O(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function B(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function R(t){return wr(t.nodeName||t[0]&&t[0].nodeName)}function V(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function U(t,e,n,r){if(k(t)||M(t))throw Lr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(N(e))throw Lr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e){if(t===e)throw Lr("cpi","Can't copy! Source and destination are identical.");n=n||[],r=r||[],b(t)&&(n.push(t),r.push(e));var i;if(Rr(t)){e.length=0;for(var a=0;a<t.length;a++)e.push(U(t[a],null,n,r))}else{var s=e.$$hashKey;if(Rr(e)?e.length=0:o(e,function(t,n){delete e[n]}),x(t))for(i in t)e[i]=U(t[i],null,n,r);else if(t&&"function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&(e[i]=U(t[i],null,n,r));else for(i in t)br.call(t,i)&&(e[i]=U(t[i],null,n,r));u(e,s)}}else if(e=t,b(t)){var l;if(n&&-1!==(l=n.indexOf(t)))return r[l];if(Rr(t))return U(t,[],n,r);if(N(t))e=new t.constructor(t);else if($(t))e=new Date(t.getTime());else{if(!C(t)){var c=Object.create(Pr(t));return U(t,c,n,r)}e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex}r&&(n.push(t),r.push(e))}return e}function F(t,e){if(Rr(t)){e=e||[];for(var n=0,r=t.length;r>n;n++)e[n]=t[n]}else if(b(t)){e=e||{};for(var i in t)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(e[i]=t[i])}return e||t}function z(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var r,i,o,a=typeof t,s=typeof e;if(a==s&&"object"==a){if(!Rr(t)){if($(t))return $(e)?z(t.getTime(),e.getTime()):!1;if(C(t))return C(e)?t.toString()==e.toString():!1;if(M(t)||M(e)||k(t)||k(e)||Rr(e)||$(e)||C(e))return!1;o=gt();for(i in t)if("$"!==i.charAt(0)&&!T(t[i])){if(!z(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!(i in o||"$"===i.charAt(0)||e[i]===n||T(e[i])))return!1;return!0}if(!Rr(e))return!1;if((r=t.length)==e.length){for(i=0;r>i;i++)if(!z(t[i],e[i]))return!1;return!0}}return!1}function H(t,e,n){return t.concat(Mr.call(e,n))}function j(t,e){return Mr.call(t,e||0)}function q(t,e){var n=arguments.length>2?j(arguments,2):[];return!T(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,H(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function Y(t,r){var i=r;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=n:k(r)?i="$WINDOW":r&&e===r?i="$DOCUMENT":M(r)&&(i="$SCOPE"),i}function W(t,e){return"undefined"==typeof t?n:(E(e)||(e=e?2:null),JSON.stringify(t,Y,e))}function G(t){return S(t)?JSON.parse(t):t}function K(t,e){var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function X(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Z(t,e,n){n=n?-1:1;var r=K(e,t.getTimezoneOffset());return X(t,n*(r-t.getTimezoneOffset()))}function Q(t){t=Tr(t).clone();try{t.empty()}catch(e){}var n=Tr("<div>").append(t).html();try{return t[0].nodeType===Kr?wr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+wr(e)})}catch(e){return wr(n)}}function J(t){try{return decodeURIComponent(t)}catch(e){}}function tt(t){var e,n,r={};return o((t||"").split("&"),function(t){if(t&&(e=t.replace(/\+/g,"%20").split("="),n=J(e[0]),w(n))){var i=w(e[1])?J(e[1]):!0;br.call(r,n)?Rr(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function et(t){var e=[];return o(t,function(t,n){Rr(t)?o(t,function(t){e.push(rt(n,!0)+(t===!0?"":"="+rt(t,!0)))}):e.push(rt(n,!0)+(t===!0?"":"="+rt(t,!0)))}),e.length?e.join("&"):""}function nt(t){return rt(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function rt(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function it(t,e){var n,r,i=jr.length;for(r=0;i>r;++r)if(n=jr[r]+e,S(n=t.getAttribute(n)))return n;return null}function ot(t,e){var n,r,i={};o(jr,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),o(jr,function(e){var i,o=e+"app";!n&&(i=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==it(n,"strict-di"),e(n,r?[r]:[],i))}function at(n,r,i){b(i)||(i={});var a={strictDi:!1};i=h(a,i);var s=function(){if(n=Tr(n),n.injector()){var t=n[0]===e?"document":Q(n);throw Lr("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),r.unshift("ng");var o=Qt(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},l=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return t&&l.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(l,"")),t&&!u.test(t.name)?s():(t.name=t.name.replace(u,""),Nr.resumeBootstrap=function(t){return o(t,function(t){r.push(t)}),s()},void(T(Nr.resumeDeferredBootstrap)&&Nr.resumeDeferredBootstrap()))}function st(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function lt(t){var e=Nr.element(t).injector();if(!e)throw Lr("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ut(t,e){return e=e||"_",t.replace(qr,function(t,n){return(n?e:"")+t.toLowerCase()})}function ct(){var e;if(!Yr){var r=Hr();Cr=t.jQuery,w(r)&&(Cr=null===r?n:t[r]),Cr&&Cr.fn.on?(Tr=Cr,h(Cr.fn,{scope:fi.scope,isolateScope:fi.isolateScope,controller:fi.controller,injector:fi.injector,inheritedData:fi.inheritedData}),e=Cr.cleanData,Cr.cleanData=function(t){var n;if(Br)Br=!1;else for(var r,i=0;null!=(r=t[i]);i++)n=Cr._data(r,"events"),n&&n.$destroy&&Cr(r).triggerHandler("$destroy");e(t)}):Tr=kt,Nr.element=Tr,Yr=!0}}function ht(t,e,n){if(!t)throw Lr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function dt(t,e,n){return n&&Rr(t)&&(t=t[t.length-1]),ht(T(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function ft(t,e){if("hasOwnProperty"===t)throw Lr("badname","hasOwnProperty is not a valid {0} name",e)}function pt(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;a>s;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&T(t)?q(o,t):t}function mt(t){var e=t[0],n=t[t.length-1],r=[e];do{if(e=e.nextSibling,!e)break;r.push(e)}while(e!==n);return Tr(r)}function gt(){return Object.create(null)}function vt(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||r,e(o,"module",function(){var t={};return function(r,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)};return s(r,"module"),o&&t.hasOwnProperty(r)&&(t[r]=null),e(t,r,function(){function t(t,e,n,r){return r||(r=i),function(){return r[n||"push"]([t,e,arguments]),c}}function e(t,e){return function(n,o){return o&&T(o)&&(o.$$moduleName=r),i.push([t,e,arguments]),c}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var i=[],s=[],l=[],u=t("$injector","invoke","push",s),c={_invokeQueue:i,_configBlocks:s,_runBlocks:l,requires:o,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:u,run:function(t){return l.push(t),this}};return a&&u(a),c})}})}function _t(t){var e=[];return JSON.stringify(t,function(t,n){if(n=Y(t,n),b(n)){if(e.indexOf(n)>=0)return"<<already seen>>";e.push(n)}return n})}function yt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?_t(t):t}function wt(e){h(e,{bootstrap:at,copy:U,extend:h,merge:d,equals:z,element:Tr,forEach:o,injector:Qt,noop:m,bind:q,toJson:W,fromJson:G,identity:g,isUndefined:y,isDefined:w,isString:S,isFunction:T,isObject:b,isNumber:E,isElement:O,isArray:Rr,version:Jr,isDate:$,lowercase:wr,uppercase:xr,callbacks:{counter:0},getTestability:lt,$$minErr:r,$$csp:zr,reloadWithDebugInfo:st}),kr=vt(t);try{kr("ngLocale")}catch(n){kr("ngLocale",[]).provider("$locale",De)}kr("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:vn}),t.provider("$compile",le).directive({a:uo,input:Co,textarea:Co,form:mo,script:ya,select:xa,style:Ea,option:Sa,ngBind:Ao,ngBindHtml:Io,ngBindTemplate:Do,ngClass:Lo,ngClassEven:Oo,ngClassOdd:No,ngCloak:Bo,ngController:Ro,ngForm:go,ngHide:fa,ngIf:Fo,ngInclude:zo,ngInit:jo,ngNonBindable:ia,ngPluralize:la,ngRepeat:ua,ngShow:da,ngStyle:pa,ngSwitch:ma,ngSwitchWhen:ga,ngSwitchDefault:va,ngOptions:sa,ngTransclude:_a,ngModel:ea,ngList:qo,ngChange:Po,pattern:Ta,ngPattern:Ta,required:$a,ngRequired:$a,minlength:ka,ngMinlength:ka,maxlength:Ca,ngMaxlength:Ca,ngValue:Mo,ngModelOptions:ra}).directive({ngInclude:Ho}).directive(co).directive(Vo),t.provider({$anchorScroll:Jt,$animate:ki,$$animateQueue:Ci,$$AnimateRunner:Ti,$browser:oe,$cacheFactory:ae,$controller:fe,$document:pe,$exceptionHandler:me,$filter:Dn,$interpolate:Me,$interval:Ae,$http:$e,$httpParamSerializer:ve,$httpParamSerializerJQLike:_e,$httpBackend:Ce,$location:qe,$log:Ye,$parse:hn,$rootScope:gn,$q:dn,$$q:fn,$sce:bn,$sceDelegate:wn,$sniffer:xn,$templateCache:se,$templateRequest:Sn,$$testability:En,$timeout:$n,$window:kn,$$rAF:mn,$$jqLite:Wt,$$HashMap:vi,$$cookieReader:An})}])}function bt(){return++ei}function xt(t){return t.replace(ii,function(t,e,n,r){return r?n.toUpperCase():n}).replace(oi,"Moz$1")}function St(t){return!ui.test(t)}function Et(t){var e=t.nodeType;return e===Wr||!e||e===Zr}function $t(t){for(var e in ti[t.ng339])return!0;return!1}function Tt(t,e){var n,r,i,a,s=e.createDocumentFragment(),l=[];if(St(t))l.push(e.createTextNode(t));else{for(n=n||s.appendChild(e.createElement("div")),r=(ci.exec(t)||["",""])[1].toLowerCase(),i=di[r]||di._default,n.innerHTML=i[1]+t.replace(hi,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;l=H(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(l,function(t){s.appendChild(t)}),s}function Ct(t,n){n=n||e;var r;return(r=li.exec(t))?[n.createElement(r[1])]:(r=Tt(t,n))?r.childNodes:[]}function kt(t){if(t instanceof kt)return t;var e;if(S(t)&&(t=Ur(t),e=!0),!(this instanceof kt)){if(e&&"<"!=t.charAt(0))throw si("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new kt(t)}e?Rt(this,Ct(t)):Rt(this,t)}function Mt(t){return t.cloneNode(!0)}function At(t,e){if(e||It(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;i>r;r++)It(n[r])}function Dt(t,e,n,r){if(w(r))throw si("offargs","jqLite#off() does not support the `selector` argument");var i=Pt(t),a=i&&i.events,s=i&&i.handle;if(s)if(e)o(e.split(" "),function(e){if(w(n)){var r=a[e];if(V(r||[],n),r&&r.length>0)return}ri(t,e,s),delete a[e]});else for(e in a)"$destroy"!==e&&ri(t,e,s),delete a[e]}function It(t,e){var r=t.ng339,i=r&&ti[r];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Dt(t)),delete ti[r],t.ng339=n}}function Pt(t,e){var r=t.ng339,i=r&&ti[r];return e&&!i&&(t.ng339=r=bt(),i=ti[r]={events:{},data:{},handle:n}),i}function Lt(t,e,n){if(Et(t)){var r=w(n),i=!r&&e&&!b(e),o=!e,a=Pt(t,!i),s=a&&a.data;if(r)s[e]=n;else{if(o)return s;if(i)return s&&s[e];h(s,e)}}}function Nt(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Ot(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",Ur((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ur(e)+" "," ")))})}function Bt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=Ur(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",Ur(n))}}function Rt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;n>r;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Vt(t,e){return Ut(t,"$"+(e||"ngController")+"Controller")}function Ut(t,e,r){t.nodeType==Zr&&(t=t.documentElement);for(var i=Rr(e)?e:[e];t;){for(var o=0,a=i.length;a>o;o++)if((r=Tr.data(t,i[o]))!==n)return r;t=t.parentNode||t.nodeType===Qr&&t.host}}function Ft(t){for(At(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function zt(t,e){e||At(t);var n=t.parentNode;n&&n.removeChild(t)}function Ht(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Tr(n).on("load",e)}function jt(t,e){var n=pi[e.toLowerCase()];return n&&mi[R(t)]&&n}function qt(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&gi[e]}function Yt(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(y(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(i=F(i));for(var s=0;o>s;s++)n.isImmediatePropagationStopped()||i[s].call(t,n)}};return n.elem=t,n}function Wt(){this.$get=function(){return h(kt,{hasClass:function(t,e){return t.attr&&(t=t[0]),Nt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Bt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Ot(t,e)}})}}function Gt(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"==r||"object"==r&&null!==t?t.$$hashKey=r+":"+(e||l)():r+":"+t}function Kt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function Xt(t){var e=t.toString().replace(bi,""),n=e.match(_i);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Zt(t,e,n){var r,i,a,s;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw S(n)&&n||(n=t.name||Xt(t)),xi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=t.toString().replace(bi,""),a=i.match(_i),o(a[1].split(yi),function(t){t.replace(wi,function(t,e,n){r.push(n)})})}t.$inject=r}}else Rr(t)?(s=t.length-1,dt(t[s],"fn"),r=t.slice(0,s)):dt(t,"fn",!0);return r}function Qt(t,e){function r(t){return function(e,n){return b(e)?void o(e,s(t)):t(e,n)}}function i(t,e){if(ft(t,"service"),(T(e)||Rr(e))&&(e=E.instantiate(e)),!e.$get)throw xi("pget","Provider '{0}' must define $get factory method.",t);return x[t+g]=e}function a(t,e){return function(){var n=C.invoke(e,this);if(y(n))throw xi("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function l(t,e,n){return i(t,{$get:n!==!1?a(t,e):e})}function u(t,e){return l(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return l(t,v(e),!1)}function h(t,e){ft(t,"constant"),x[t]=e,$[t]=e}function d(t,e){var n=E.get(t+g),r=n.$get;n.$get=function(){var t=C.invoke(r,n);return C.invoke(e,null,{$delegate:t})}}function f(t){var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;n>e;e++){var r=t[e],i=E.get(r[0]);i[r[1]].apply(i,r[2])}}if(!w.get(t)){w.put(t,!0);try{S(t)?(e=kr(t),n=n.concat(f(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):T(t)?n.push(E.invoke(t)):Rr(t)?n.push(E.invoke(t)):dt(t,"module")}catch(i){throw Rr(t)&&(t=t[t.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),xi("modulerr","Failed to instantiate module {0} due to:\n{1}",t,i.stack||i.message||i)}}}),n}function p(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===m)throw xi("cdep","Circular dependency found: {0}",e+" <- "+_.join(" <- "));return t[e]}try{return _.unshift(e),t[e]=m,t[e]=n(e,r)}catch(i){throw t[e]===m&&delete t[e],i}finally{_.shift()}}function i(t,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,l,u=[],c=Qt.$$annotate(t,e,o);for(s=0,a=c.length;a>s;s++){if(l=c[s],"string"!=typeof l)throw xi("itkn","Incorrect injection token! Expected service name as string, got {0}",l);u.push(i&&i.hasOwnProperty(l)?i[l]:r(l,o))}return Rr(t)&&(t=t[a]),t.apply(n,u)}function o(t,e,n){var r=Object.create((Rr(t)?t[t.length-1]:t).prototype||null),o=i(t,r,e,n);return b(o)||T(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:Qt.$$annotate,has:function(e){return x.hasOwnProperty(e+g)||t.hasOwnProperty(e)}}}e=e===!0;var m={},g="Provider",_=[],w=new Kt([],!0),x={$provide:{provider:r(i),factory:r(l),service:r(u),value:r(c),constant:r(h),decorator:d}},E=x.$injector=p(x,function(t,e){throw Nr.isString(e)&&_.push(e),xi("unpr","Unknown provider: {0}",_.join(" <- "))}),$={},C=$.$injector=p($,function(t,e){var r=E.get(t+g,e);return C.invoke(r.$get,r,n,t)});return o(f(t),function(t){t&&C.invoke(t)}),C}function Jt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===R(t)?(e=t,!0):void 0}),e}function o(){var t=s.yOffset;if(T(t))t=t();else if(O(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else E(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(t){t=S(t)?t:n.hash();var e;t?(e=l.getElementById(t))?a(e):(e=i(l.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var l=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&Ht(function(){r.$evalAsync(s)})}),s}]}function te(t,e){return t||e?t?e?(Rr(t)&&(t=t.join(" ")),Rr(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function ee(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Ei)return n}}function ne(t){S(t)&&(t=t.split(" "));var e=gt();return o(t,function(t){t.length&&(e[t]=!0)}),e}function re(t){return b(t)?t:{}}function ie(t,e,n,r){function i(t){try{t.apply(null,j(arguments,1))}finally{if(_--,0===_)for(;w.length;)try{w.pop()()}catch(e){n.error(e)}}}function a(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function s(){u(),c()}function l(){try{return f.state}catch(t){}}function u(){b=l(),b=y(b)?null:b,z(b,k)&&(b=k),k=b}function c(){(S!==h.url()||x!==b)&&(S=h.url(),x=b,o(T,function(t){t(h.url(),b)}))}var h=this,d=(e[0],t.location),f=t.history,p=t.setTimeout,g=t.clearTimeout,v={};h.isMock=!1;var _=0,w=[];h.$$completeOutstandingRequest=i,h.$$incOutstandingRequestCount=function(){_++},h.notifyWhenNoOutstandingRequests=function(t){0===_?t():w.push(t)};var b,x,S=d.href,E=e.find("base"),$=null;u(),x=b,h.url=function(e,n,i){if(y(i)&&(i=null),d!==t.location&&(d=t.location),f!==t.history&&(f=t.history),e){var o=x===i;if(S===e&&(!r.history||o))return h;var s=S&&Oe(S)===Oe(e);return S=e,x=i,!r.history||s&&o?((!s||$)&&($=e),n?d.replace(e):s?d.hash=a(e):d.href=e):(f[n?"replaceState":"pushState"](i,"",e),u(),x=b),h}return $||d.href.replace(/%27/g,"'")},h.state=function(){return b};var T=[],C=!1,k=null;h.onUrlChange=function(e){return C||(r.history&&Tr(t).on("popstate",s),Tr(t).on("hashchange",s),C=!0),T.push(e),e},h.$$applicationDestroyed=function(){Tr(t).off("hashchange popstate",s)},h.$$checkUrlChange=c,h.baseHref=function(){var t=E.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},h.defer=function(t,e){var n;return _++,n=p(function(){delete v[n],i(t)},e||0),v[n]=!0,n},h.defer.cancel=function(t){return v[t]?(delete v[t],g(t),i(m),!0):!1}}function oe(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new ie(t,r,e,n)}]}function ae(){this.$get=function(){function t(t,n){function i(t){t!=d&&(f?f==t&&(f=t.n):f=t,o(t.n,t.p),o(t,d),d=t,d.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=h({},n,{id:t}),l={},u=n&&n.capacity||Number.MAX_VALUE,c={},d=null,f=null;return e[t]={put:function(t,e){if(!y(e)){if(u<Number.MAX_VALUE){var n=c[t]||(c[t]={key:t});i(n)}return t in l||a++,l[t]=e,a>u&&this.remove(f.key),e}},get:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;i(e)}return l[t]},remove:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;e==d&&(d=e.p),e==f&&(f=e.n),o(e.n,e.p),delete c[t]}delete l[t],a--},removeAll:function(){l={},a=0,c={},d=f=null},destroy:function(){l=null,s=null,c=null,delete e[t]},info:function(){return h({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function se(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function le(t,r){function i(t,e,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(t,function(t,o){var a=t.match(r);if(!a)throw Mi("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o}}),i}function a(t,e){var n={isolateScope:null,bindToController:null};if(b(t.scope)&&(t.bindToController===!0?(n.bindToController=i(t.scope,e,!0),n.isolateScope={}):n.isolateScope=i(t.scope,e,!1)),b(t.bindToController)&&(n.bindToController=i(t.bindToController,e,!0)),b(n.bindToController)){var r=t.controller,o=t.controllerAs;if(!r)throw Mi("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!de(r,o))throw Mi("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}function l(t){var e=t.charAt(0);if(!e||e!==wr(e))throw Mi("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw Mi("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}var u={},c="Directive",d=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,_=B("ngSrc,ngSrcset,src,srcset"),y=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,x=/^(on[a-z]+|formaction)$/;this.directive=function $(e,n){return ft(e,"directive"),S(e)?(l(e),ht(n,"directiveFactory"),u.hasOwnProperty(e)||(u[e]=[],t.factory(e+c,["$injector","$exceptionHandler",function(t,n){var r=[];return o(u[e],function(i,o){try{var s=t.invoke(i);T(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var l=s.$$bindings=a(s,s.name);b(l.isolateScope)&&(s.$$isolateBindings=l.isolateScope),s.$$moduleName=i.$$moduleName,r.push(s)}catch(u){n(u)}}),r}])),u[e].push(n)):o(e,s($)),this},this.aHrefSanitizationWhitelist=function(t){return w(t)?(r.aHrefSanitizationWhitelist(t),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return w(t)?(r.imgSrcSanitizationWhitelist(t),this):r.imgSrcSanitizationWhitelist()};var E=!0;this.debugInfoEnabled=function(t){return w(t)?(E=t,this):E},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,r,i,a,s,l,v,w,$,C,k){
function A(t,e){try{t.addClass(e)}catch(n){}}function D(t,e,n,r,i){t instanceof Tr||(t=Tr(t)),o(t,function(e,n){e.nodeType==Kr&&e.nodeValue.match(/\S+/)&&(t[n]=Tr(e).wrap("<span></span>").parent()[0])});var a=P(t,e,t,n,r,i);D.$$addScopeClass(t);var s=null;return function(e,n,r){ht(e,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers,l=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=I(l));var u;if(u="html"!==s?Tr(Z(s,Tr("<div>").append(t).html())):n?fi.clone.call(t):t,o)for(var c in o)u.data("$"+c+"Controller",o[c].instance);return D.$$addScopeInfo(u,e),n&&n(u,e),a&&a(e,u,u,i),u}}function I(t){var e=t&&t[0];return e&&"foreignobject"!==R(e)&&e.toString().match(/SVG/)?"svg":"html"}function P(t,e,r,i,o,a){function s(t,r,i,o){var a,s,l,u,c,h,d,f,g;if(p){var v=r.length;for(g=new Array(v),c=0;c<m.length;c+=3)d=m[c],g[d]=r[d]}else g=r;for(c=0,h=m.length;h>c;)if(l=g[m[c++]],a=m[c++],s=m[c++],a){if(a.scope){u=t.$new(),D.$$addScopeInfo(Tr(l),u);var _=a.$$destroyBindings;_&&(a.$$destroyBindings=null,u.$on("$destroyed",_))}else u=t;f=a.transcludeOnThisElement?L(t,a.transclude,o):!a.templateOnThisElement&&o?o:!o&&e?L(t,e):null,a(s,u,l,i,f,a)}else s&&s(t,l.childNodes,n,o)}for(var l,u,c,h,d,f,p,m=[],g=0;g<t.length;g++)l=new ot,u=N(t[g],[],l,0===g?i:n,o),c=u.length?U(u,t[g],l,e,r,null,[],[],a):null,c&&c.scope&&D.$$addScopeClass(l.$$element),d=c&&c.terminal||!(h=t[g].childNodes)||!h.length?null:P(h,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||d)&&(m.push(g,c,d),f=!0,p=p||c),a=null;return f?s:null}function L(t,e,n){var r=function(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return r}function N(t,e,n,r,i){var o,a,s=t.nodeType,l=n.$attr;switch(s){case Wr:H(e,ue(R(t)),"E",r,i);for(var u,c,h,p,m,g,v=t.attributes,_=0,y=v&&v.length;y>_;_++){var w=!1,x=!1;u=v[_],c=u.name,m=Ur(u.value),p=ue(c),(g=ct.test(p))&&(c=c.replace(Ai,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var E=p.replace(/(Start|End)$/,"");q(E)&&p===E+"Start"&&(w=c,x=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),h=ue(c.toLowerCase()),l[h]=c,(g||!n.hasOwnProperty(h))&&(n[h]=m,jt(t,h)&&(n[h]=!0)),tt(t,e,m,h,g),H(e,h,"A",r,i,w,x)}if(a=t.className,b(a)&&(a=a.animVal),S(a)&&""!==a)for(;o=f.exec(a);)h=ue(o[2]),H(e,h,"C",r,i)&&(n[h]=Ur(o[3])),a=a.substr(o.index+o[0].length);break;case Kr:if(11===$r)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===Kr;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);X(e,t.nodeValue);break;case Xr:try{o=d.exec(t.nodeValue),o&&(h=ue(o[1]),H(e,h,"M",r,i)&&(n[h]=Ur(o[2])))}catch($){}}return e.sort(G),e}function O(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Mi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==Wr&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return Tr(r)}function B(t,e,n){return function(r,i,o,a,s){return i=O(i[0],e,n),t(r,i,o,a,s)}}function U(t,r,o,a,s,u,c,h,d){function f(t,e,n,r){t&&(n&&(t=B(t,n,r)),t.require=v.require,t.directiveName=_,(A===v||v.$$isolateScope)&&(t=nt(t,{isolateScope:!0})),c.push(t)),e&&(n&&(e=B(e,n,r)),e.require=v.require,e.directiveName=_,(A===v||v.$$isolateScope)&&(e=nt(e,{isolateScope:!0})),h.push(e))}function p(t,e,n,r){var i;if(S(e)){var o=e.match(y),a=e.substring(o[0].length),s=o[1]||o[3],l="?"===o[2];if("^^"===s?n=n.parent():(i=r&&r[a],i=i&&i.instance),!i){var u="$"+a+"Controller";i=s?n.inheritedData(u):n.data(u)}if(!i&&!l)throw Mi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,t)}else if(Rr(e)){i=[];for(var c=0,h=e.length;h>c;c++)i[c]=p(t,e[c],n,r)}return i||null}function m(t,e,n,r,i,o){var a=gt();for(var s in r){var u=r[s],c={$scope:u===A||u.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},h=u.controller;"@"==h&&(h=e[u.name]);var d=l(h,c,!0,u.controllerAs);a[u.name]=d,V||t.data("$"+u.name+"Controller",d.instance)}return a}function g(t,e,i,a,s,l){function u(t,e,r){var i;return M(t)||(r=e,e=t,t=n),V&&(i=y),r||(r=V?b.parent():b),s(t,e,i,r,P)}var d,f,g,v,_,y,w,b,x;if(r===i?(x=o,b=o.$$element):(b=Tr(i),x=new ot(b,o)),A&&(_=e.$new(!0)),s&&(w=u,w.$$boundTransclude=s),k&&(y=m(b,x,w,k,_,e)),A&&(D.$$addScopeInfo(b,_,!0,!(I&&(I===A||I===A.$$originalDirective))),D.$$addScopeClass(b,!0),_.$$isolateBindings=A.$$isolateBindings,it(e,x,_,_.$$isolateBindings,A,_)),y){var S,E,$=A||C;$&&y[$.name]&&(S=$.$$bindings.bindToController,v=y[$.name],v&&v.identifier&&S&&(E=v,l.$$destroyBindings=it(e,x,v.instance,S,$)));for(d in y){v=y[d];var T=v();T!==v.instance&&(v.instance=T,b.data("$"+d+"Controller",T),v===E&&(l.$$destroyBindings(),l.$$destroyBindings=it(e,x,T,S,$)))}}for(d=0,f=c.length;f>d;d++)g=c[d],rt(g,g.isolateScope?_:e,b,x,g.require&&p(g.directiveName,g.require,b,y),w);var P=e;for(A&&(A.template||null===A.templateUrl)&&(P=_),t&&t(P,i.childNodes,n,s),d=h.length-1;d>=0;d--)g=h[d],rt(g,g.isolateScope?_:e,b,x,g.require&&p(g.directiveName,g.require,b,y),w)}d=d||{};for(var v,_,w,x,E,$=-Number.MAX_VALUE,C=d.newScopeDirective,k=d.controllerDirectives,A=d.newIsolateScopeDirective,I=d.templateDirective,P=d.nonTlbTranscludeDirective,L=!1,R=!1,V=d.hasElementTranscludeDirective,U=o.$$element=Tr(r),z=u,H=a,q=0,G=t.length;G>q;q++){v=t[q];var X=v.$$start,J=v.$$end;if(X&&(U=O(r,X,J)),w=n,$>v.priority)break;if((E=v.scope)&&(v.templateUrl||(b(E)?(K("new/isolated scope",A||C,v,U),A=v):K("new/isolated scope",A,v,U)),C=C||v),_=v.name,!v.templateUrl&&v.controller&&(E=v.controller,k=k||gt(),K("'"+_+"' controller",k[_],v,U),k[_]=v),(E=v.transclude)&&(L=!0,v.$$tlb||(K("transclusion",P,v,U),P=v),"element"==E?(V=!0,$=v.priority,w=U,U=o.$$element=Tr(e.createComment(" "+_+": "+o[_]+" ")),r=U[0],et(s,j(w),r),H=D(w,a,$,z&&z.name,{nonTlbTranscludeDirective:P})):(w=Tr(Mt(r)).contents(),U.empty(),H=D(w,a))),v.template)if(R=!0,K("template",I,v,U),I=v,E=T(v.template)?v.template(U,o):v.template,E=lt(E),v.replace){if(z=v,w=St(E)?[]:he(Z(v.templateNamespace,Ur(E))),r=w[0],1!=w.length||r.nodeType!==Wr)throw Mi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",_,"");et(s,U,r);var tt={$attr:{}},at=N(r,[],tt),st=t.splice(q+1,t.length-(q+1));A&&F(at),t=t.concat(at).concat(st),Y(o,tt),G=t.length}else U.html(E);if(v.templateUrl)R=!0,K("template",I,v,U),I=v,v.replace&&(z=v),g=W(t.splice(q,t.length-q),U,o,s,L&&H,c,h,{controllerDirectives:k,newScopeDirective:C!==v&&C,newIsolateScopeDirective:A,templateDirective:I,nonTlbTranscludeDirective:P}),G=t.length;else if(v.compile)try{x=v.compile(U,o,H),T(x)?f(null,x,X,J):x&&f(x.pre,x.post,X,J)}catch(ut){i(ut,Q(U))}v.terminal&&(g.terminal=!0,$=Math.max($,v.priority))}return g.scope=C&&C.scope===!0,g.transcludeOnThisElement=L,g.templateOnThisElement=R,g.transclude=H,d.hasElementTranscludeDirective=V,g}function F(t){for(var e=0,n=t.length;n>e;e++)t[e]=p(t[e],{$$isolateScope:!0})}function H(e,r,o,a,s,l,h){if(r===s)return null;var d=null;if(u.hasOwnProperty(r))for(var f,m=t.get(r+c),g=0,v=m.length;v>g;g++)try{f=m[g],(a===n||a>f.priority)&&-1!=f.restrict.indexOf(o)&&(l&&(f=p(f,{$$start:l,$$end:h})),e.push(f),d=f)}catch(_){i(_)}return d}function q(e){if(u.hasOwnProperty(e))for(var n,r=t.get(e+c),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function Y(t,e){var n=e.$attr,r=t.$attr,i=t.$$element;o(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&e[i]!==r&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,o){"class"==o?(A(i,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(i.attr("style",i.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,r[o]=n[o])})}function W(t,e,n,r,i,s,l,u){var c,h,d=[],f=e[0],m=t.shift(),g=p(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=T(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,_=m.templateNamespace;return e.empty(),a(v).then(function(a){var p,y,w,x;if(a=lt(a),m.replace){if(w=St(a)?[]:he(Z(_,Ur(a))),p=w[0],1!=w.length||p.nodeType!==Wr)throw Mi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);y={$attr:{}},et(r,e,p);var S=N(p,[],y);b(m.scope)&&F(S),t=S.concat(t),Y(n,y)}else p=f,e.html(a);for(t.unshift(g),c=U(t,p,n,i,e,m,s,l,u),o(r,function(t,n){t==p&&(r[n]=e[0])}),h=P(e[0].childNodes,i);d.length;){var E=d.shift(),$=d.shift(),T=d.shift(),C=d.shift(),k=e[0];if(!E.$$destroyed){if($!==f){var M=$.className;u.hasElementTranscludeDirective&&m.replace||(k=Mt(p)),et(T,Tr($),k),A(Tr(k),M)}x=c.transcludeOnThisElement?L(E,c.transclude,C):C,c(h,E,k,r,x,c)}}d=null}),function(t,e,n,r,i){var o=i;e.$$destroyed||(d?d.push(e,n,r,o):(c.transcludeOnThisElement&&(o=L(e,c.transclude,i)),c(h,e,n,r,o,c)))}}function G(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function K(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw Mi("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,Q(r))}function X(t,e){var n=r(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),r=!!e.length;return r&&D.$$addBindingClass(e),function(t,e){var i=e.parent();r||D.$$addBindingClass(i),D.$$addBindingInfo(i,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function Z(t,n){switch(t=wr(t||"html")){case"svg":case"math":var r=e.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function J(t,e){if("srcdoc"==e)return $.HTML;var n=R(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?$.RESOURCE_URL:void 0}function tt(t,e,n,i,o){var a=J(t,i);o=_[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===R(t))throw Mi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Q(t));e.push({priority:100,compile:function(){return{pre:function(t,e,l){var u=l.$$observers||(l.$$observers={});if(x.test(i))throw Mi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[i];c!==n&&(s=c&&r(c,!0,a,o),n=c),s&&(l[i]=s(t),(u[i]||(u[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||t).$watch(s,function(t,e){"class"===i&&t!=e?l.$updateClass(t,e):l.$set(i,t)}))}}}})}}function et(t,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]==a){t[i++]=r;for(var u=i,c=u+s-1,h=t.length;h>u;u++,c++)h>c?t[u]=t[c]:delete t[u];t.length-=s-1,t.context===a&&(t.context=r);break}l&&l.replaceChild(r,a);var d=e.createDocumentFragment();d.appendChild(a),Tr.hasData(a)&&(Tr(r).data(Tr(a).data()),Cr?(Br=!0,Cr.cleanData([a])):delete Tr.cache[a[Tr.expando]]);for(var f=1,p=n.length;p>f;f++){var m=n[f];Tr(m).remove(),d.appendChild(m),delete n[f]}n[0]=r,n.length=1}function nt(t,e){return h(function(){return t.apply(null,arguments)},t,e)}function rt(t,e,n,r,o,a){try{t(e,n,r,o,a)}catch(s){i(s,Q(n))}}function it(t,e,i,a,l,u){var c;o(a,function(o,a){var u,h,d,f,p=o.attrName,g=o.optional,v=o.mode;switch(br.call(e,p)||(e[p]=n),v){case"@":e[p]||g||(i[a]=n),e.$observe(p,function(t){i[a]=t}),e.$$observers[p].$$scope=t,e[p]&&(i[a]=r(e[p])(t));break;case"=":if(g&&!e[p])return;h=s(e[p]),f=h.literal?z:function(t,e){return t===e||t!==t&&e!==e},d=h.assign||function(){throw u=i[a]=h(t),Mi("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",e[p],l.name)},u=i[a]=h(t);var _=function(e){return f(e,i[a])||(f(e,u)?d(t,e=i[a]):i[a]=e),u=e};_.$stateful=!0;var y;y=o.collection?t.$watchCollection(e[p],_):t.$watch(s(e[p],_),null,h.literal),c=c||[],c.push(y);break;case"&":if(h=s(e[p]),h===m&&g)break;i[a]=function(e){return h(t,e)}}});var h=c?function(){for(var t=0,e=c.length;e>t;++t)c[t]()}:m;return u&&h!==m?(u.$on("$destroy",h),m):h}var ot=function(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t};ot.prototype={$normalize:ue,$addClass:function(t){t&&t.length>0&&C.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&C.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=ce(t,e);n&&n.length&&C.addClass(this.$$element,n);var r=ce(e,t);r&&r.length&&C.removeClass(this.$$element,r)},$set:function(t,e,r,a){var s,l=this.$$element[0],u=jt(l,t),c=qt(l,t),h=t;if(u?(this.$$element.prop(t,e),a=u):c&&(this[c]=e,h=c),this[t]=e,a?this.$attr[t]=a:(a=this.$attr[t],a||(this.$attr[t]=a=ut(t,"-"))),s=R(this.$$element),"a"===s&&"href"===t||"img"===s&&"src"===t)this[t]=e=k(e,"src"===t);else if("img"===s&&"srcset"===t){for(var d="",f=Ur(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,m=/\s/.test(f)?p:/(,)/,g=f.split(m),v=Math.floor(g.length/2),_=0;v>_;_++){var y=2*_;d+=k(Ur(g[y]),!0),d+=" "+Ur(g[y+1])}var w=Ur(g[2*_]).split(/\s/);d+=k(Ur(w[0]),!0),2===w.length&&(d+=" "+Ur(w[1])),this[t]=e=d}r!==!1&&(null===e||e===n?this.$$element.removeAttr(a):this.$$element.attr(a,e));var b=this.$$observers;b&&o(b[h],function(t){try{t(e)}catch(n){i(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=gt()),i=r[t]||(r[t]=[]);return i.push(e),v.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){V(i,e)}}};var at=r.startSymbol(),st=r.endSymbol(),lt="{{"==at||"}}"==st?g:function(t){return t.replace(/\{\{/g,at).replace(/}}/g,st)},ct=/^ngAttr[A-Z]/;return D.$$addBindingInfo=E?function(t,e){var n=t.data("$binding")||[];Rr(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:m,D.$$addBindingClass=E?function(t){A(t,"ng-binding")}:m,D.$$addScopeInfo=E?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:m,D.$$addScopeClass=E?function(t,e){A(t,e?"ng-isolate-scope":"ng-scope")}:m,D}]}function ue(t){return xt(t.replace(Ai,""))}function ce(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function he(t){t=Tr(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===Xr&&Ar.call(t,e,1)}return t}function de(t,e){if(e&&S(e))return e;if(S(t)){var n=Ii.exec(t);if(n)return n[3]}}function fe(){var t={},e=!1;this.register=function(e,n){ft(e,"controller"),b(e)?h(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(i,o){function a(t,e,n,i){if(!t||!b(t.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}return function(r,s,l,u){var c,d,f,p;if(l=l===!0,u&&S(u)&&(p=u),S(r)){if(d=r.match(Ii),!d)throw Di("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);f=d[1],p=p||d[3],r=t.hasOwnProperty(f)?t[f]:pt(s.$scope,f,!0)||(e?pt(o,f,!0):n),dt(r,f,!0)}if(l){var m=(Rr(r)?r[r.length-1]:r).prototype;c=Object.create(m||null),p&&a(s,p,c,f||r.name);var g;return g=h(function(){var t=i.invoke(r,c,s,f);return t!==c&&(b(t)||T(t))&&(c=t,p&&a(s,p,c,f||r.name)),c},{instance:c,identifier:p})}return c=i.instantiate(r,s,f),p&&a(s,p,c,f||r.name),c}}]}function pe(){this.$get=["$window",function(t){return Tr(t.document)}]}function me(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function ge(t){return b(t)?$(t)?t.toISOString():W(t):t}function ve(){this.$get=function(){return function(t){if(!t)return"";var e=[];return a(t,function(t,n){null===t||y(t)||(Rr(t)?o(t,function(t,r){e.push(rt(n)+"="+rt(ge(t)))}):e.push(rt(n)+"="+rt(ge(t))))}),e.join("&")}}}function _e(){this.$get=function(){return function(t){function e(t,r,i){null===t||y(t)||(Rr(t)?o(t,function(t){e(t,r+"[]")}):b(t)&&!$(t)?a(t,function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))}):n.push(rt(r)+"="+rt(ge(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function ye(t,e){if(S(t)){var n=t.replace(Bi,"").trim();if(n){var r=e("Content-Type");(r&&0===r.indexOf(Pi)||we(n))&&(t=G(n))}}return t}function we(t){var e=t.match(Ni);return e&&Oi[e[0]].test(t)}function be(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=gt();return S(t)?o(t.split("\n"),function(t){n=t.indexOf(":"),e(wr(Ur(t.substr(0,n))),Ur(t.substr(n+1)))}):b(t)&&o(t,function(t,n){e(wr(n),Ur(t))}),r}function xe(t){var e;return function(n){if(e||(e=be(t)),n){var r=e[wr(n)];return void 0===r&&(r=null),r}return e}}function Se(t,e,n,r){return T(r)?r(t,e,n):(o(r,function(r){t=r(t,e,n)}),t)}function Ee(t){return t>=200&&300>t}function $e(){var t=this.defaults={transformResponse:[ye],transformRequest:[function(t){return!b(t)||A(t)||I(t)||D(t)?t:W(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:F(Li),put:F(Li),patch:F(Li)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(t){return w(t)?(e=!!t,this):e};var i=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,l,u,c,d){function f(e){function i(t){var e=h({},t);return t.data?e.data=Se(t.data,t.headers,t.status,l.transformResponse):e.data=t.data,Ee(t.status)?e:c.reject(e)}function a(t,e){var n,r={};return o(t,function(t,i){T(t)?(n=t(e),null!=n&&(r[i]=n)):r[i]=t}),r}function s(e){var n,r,i,o=t.headers,s=h({},e.headers);o=h({},o.common,o[wr(e.method)]);t:for(n in o){r=wr(n);for(i in s)if(wr(i)===r)continue t;s[n]=o[n]}return a(s,F(e))}if(!Nr.isObject(e))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var l=h({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},e);l.headers=s(e),l.method=xr(l.method),l.paramSerializer=S(l.paramSerializer)?d.get(l.paramSerializer):l.paramSerializer;var u=function(e){var r=e.headers,a=Se(e.data,xe(r),n,e.transformRequest);return y(a)&&o(r,function(t,e){"content-type"===wr(e)&&delete r[e]}),y(e.withCredentials)&&!y(t.withCredentials)&&(e.withCredentials=t.withCredentials),g(e,a).then(i,i)},f=[u,n],p=c.when(l);for(o(x,function(t){(t.request||t.requestError)&&f.unshift(t.request,t.requestError),(t.response||t.responseError)&&f.push(t.response,t.responseError)});f.length;){var m=f.shift(),v=f.shift();p=p.then(m,v)}return p.success=function(t){return dt(t,"fn"),p.then(function(e){t(e.data,e.status,e.headers,l)}),p},p.error=function(t){return dt(t,"fn"),p.then(null,function(e){t(e.data,e.status,e.headers,l)}),p},p}function p(t){o(arguments,function(t){f[t]=function(e,n){return f(h({},n||{},{method:t,url:e}))}})}function m(t){o(arguments,function(t){f[t]=function(e,n,r){return f(h({},r||{},{method:t,url:e,data:n}))}})}function g(r,i){function o(t,n,r,i){function o(){l(n,t,r,i)}p&&(Ee(t)?p.put(E,[t,n,be(r),i]):p.remove(E)),e?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function l(t,e,n,i){e=Math.max(e,0),(Ee(e)?g.resolve:g.reject)({data:t,status:e,headers:xe(n),config:r,statusText:i})}function h(t){l(t.data,t.status,F(t.headers()),t.statusText)}function d(){var t=f.pendingRequests.indexOf(r);-1!==t&&f.pendingRequests.splice(t,1)}var p,m,g=c.defer(),x=g.promise,S=r.headers,E=v(r.url,r.paramSerializer(r.params));if(f.pendingRequests.push(r),x.then(d,d),!r.cache&&!t.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(p=b(r.cache)?r.cache:b(t.cache)?t.cache:_),p&&(m=p.get(E),w(m)?L(m)?m.then(h,h):Rr(m)?l(m[1],m[0],F(m[2]),m[3]):l(m,200,{},"OK"):p.put(E,x)),y(m)){var $=Cn(r.url)?s()[r.xsrfCookieName||t.xsrfCookieName]:n;$&&(S[r.xsrfHeaderName||t.xsrfHeaderName]=$),a(r.method,E,i,o,S,r.timeout,r.withCredentials,r.responseType)}return x}function v(t,e){return e.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+e),t}var _=l("$http");t.paramSerializer=S(t.paramSerializer)?d.get(t.paramSerializer):t.paramSerializer;var x=[];return o(i,function(t){x.unshift(S(t)?d.get(t):d.invoke(t))}),f.pendingRequests=[],p("get","delete","head","jsonp"),m("post","put","patch"),f.defaults=t,f}]}function Te(){return new t.XMLHttpRequest}function Ce(){this.$get=["$browser","$window","$document",function(t,e,n){return ke(t,Te,t.defer,e.angular.callbacks,n[0])}]}function ke(t,e,r,i,a){function s(t,e,n){var r=a.createElement("script"),o=null;return r.type="text/javascript",r.src=t,r.async=!0,o=function(t){ri(r,"load",o),ri(r,"error",o),a.body.removeChild(r),r=null;var s=-1,l="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),l=t.type,s="error"===t.type?404:200),n&&n(s,l)},ni(r,"load",o),ni(r,"error",o),a.body.appendChild(r),o}return function(a,l,u,c,h,d,f,p){function g(){y&&y(),b&&b.abort()}function v(e,i,o,a,s){E!==n&&r.cancel(E),y=b=null,e(i,o,a,s),t.$$completeOutstandingRequest(m)}if(t.$$incOutstandingRequestCount(),l=l||t.url(),"jsonp"==wr(a)){var _="_"+(i.counter++).toString(36);i[_]=function(t){i[_].data=t,i[_].called=!0};var y=s(l.replace("JSON_CALLBACK","angular.callbacks."+_),_,function(t,e){v(c,t,i[_].data,"",e),i[_]=m})}else{var b=e();b.open(a,l,!0),o(h,function(t,e){w(t)&&b.setRequestHeader(e,t)}),b.onload=function(){var t=b.statusText||"",e="response"in b?b.response:b.responseText,n=1223===b.status?204:b.status;0===n&&(n=e?200:"file"==Tn(l).protocol?404:0),v(c,n,e,b.getAllResponseHeaders(),t)};var x=function(){v(c,-1,null,null,"")};if(b.onerror=x,b.onabort=x,f&&(b.withCredentials=!0),p)try{b.responseType=p}catch(S){if("json"!==p)throw S}b.send(u)}if(d>0)var E=r(g,d);else L(d)&&d.then(g)}}function Me(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(n){return n.replace(d,t).replace(f,e)}function s(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=W(t)}return t}function l(o,l,d,f){function p(t){try{return t=k(t),f&&!w(t)?t:s(t)}catch(e){r(Ri.interr(o,e))}}f=!!f;for(var m,g,v,_=0,b=[],x=[],S=o.length,E=[],$=[];S>_;){if(-1==(m=o.indexOf(t,_))||-1==(g=o.indexOf(e,m+u))){_!==S&&E.push(a(o.substring(_)));break}_!==m&&E.push(a(o.substring(_,m))),v=o.substring(m+u,g),b.push(v),x.push(n(v,p)),_=g+c,$.push(E.length),E.push("")}if(d&&E.length>1&&Ri.throwNoconcat(o),!l||b.length){var C=function(t){for(var e=0,n=b.length;n>e;e++){if(f&&y(t[e]))return;E[$[e]]=t[e]}return E.join("")},k=function(t){return d?i.getTrusted(d,t):i.valueOf(t)};return h(function(t){var e=0,n=b.length,i=new Array(n);try{for(;n>e;e++)i[e]=x[e](t);return C(i)}catch(a){r(Ri.interr(o,a))}},{exp:o,expressions:b,$$watchDelegate:function(t,e){var n;return t.$watchGroup(x,function(r,i){var o=C(r);T(e)&&e.call(this,o,r!==i?n:o,t),n=o})}})}}var u=t.length,c=e.length,d=new RegExp(t.replace(/./g,o),"g"),f=new RegExp(e.replace(/./g,o),"g");return l.startSymbol=function(){return t},l.endSymbol=function(){return e},l}]}function Ae(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,r){function i(i,a,s,l){var u=arguments.length>4,c=u?j(arguments,4):[],h=e.setInterval,d=e.clearInterval,f=0,p=w(l)&&!l,m=(p?r:n).defer(),g=m.promise;return s=w(s)?s:0,g.then(null,null,u?function(){i.apply(null,c)}:i),g.$$intervalId=h(function(){m.notify(f++),s>0&&f>=s&&(m.resolve(f),d(g.$$intervalId),delete o[g.$$intervalId]),p||t.$apply()},a),o[g.$$intervalId]=m,g}var o={};return i.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},i}]}function De(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(t){return 1===t?"one":"other"}}}}function Ie(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=nt(e[n]);return e.join("/")}function Pe(t,e){var n=Tn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=f(n.port)||Ui[n.protocol]||null}function Le(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var r=Tn(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=tt(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Ne(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function Oe(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Be(t){return t.replace(/(#.+)|#$/,"$1")}function Re(t){return t.substr(0,Oe(t).lastIndexOf("/")+1)}function Ve(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Ue(t,e){this.$$html5=!0,e=e||"";var r=Re(t);Pe(t,this),this.$$parse=function(t){var e=Ne(r,t);if(!S(e))throw Fi("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,r);Le(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=et(this.$$search),e=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Ie(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,l;return(a=Ne(t,i))!==n?(s=a,l=(a=Ne(e,a))!==n?r+(Ne("/",a)||a):t+s):(a=Ne(r,i))!==n?l=r+a:r==i+"/"&&(l=r),l&&this.$$parse(l),!!l}}function Fe(t,e){var n=Re(t);Pe(t,this),this.$$parse=function(r){function i(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}var o,a=Ne(t,r)||Ne(n,r);y(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",y(a)&&(t=r,this.replace())):(o=Ne(e,a),y(o)&&(o=a)),Le(o,this),this.$$path=i(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var n=et(this.$$search),r=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Ie(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Oe(t)==Oe(e)?(this.$$parse(e),!0):!1}}function ze(t,e){this.$$html5=!0,Fe.apply(this,arguments);var n=Re(t);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t==Oe(r)?o=r:(a=Ne(n,r))?o=t+e+a:n===r+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=et(this.$$search),r=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Ie(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+e+this.$$url}}function He(t){return function(){return this[t]}}function je(t,e){return function(n){return y(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function qe(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return w(e)?(t=e,this):t},this.html5Mode=function(t){return P(t)?(e.enabled=t,this):b(t)?(P(t.enabled)&&(e.enabled=t.enabled),P(t.requireBase)&&(e.requireBase=t.requireBase),P(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=u.url(),o=u.$$state;try{r.url(t,e,n),u.$$state=r.state()}catch(a){throw u.url(i),u.$$state=o,a}}function l(t,e){n.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,c,h,d=r.baseHref(),f=r.url();if(e.enabled){if(!d&&e.requireBase)throw Fi("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=Ve(f)+(d||"/"),c=i.history?Ue:ze}else h=Oe(f),c=Fe;u=new c(h,"#"+t),u.$$parseLinkUrl(f,f),u.$$state=r.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var i=Tr(t.target);"a"!==R(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");b(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Tn(s.animVal).href),p.test(s)||!s||i.attr("target")||t.isDefaultPrevented()||u.$$parseLinkUrl(s,l)&&(t.preventDefault(),u.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Be(u.absUrl())!=Be(f)&&r.url(u.absUrl(),!0);var m=!0;return r.onUrlChange(function(t,e){n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;u.$$parse(t),u.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,u.absUrl()===t&&(r?(u.$$parse(i),u.$$state=o,s(i,!1,o)):(m=!1,l(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var t=Be(r.url()),e=Be(u.absUrl()),o=r.state(),a=u.$$replace,c=t!==e||u.$$html5&&i.history&&o!==u.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var e=u.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,u.$$state,o).defaultPrevented;u.absUrl()===e&&(r?(u.$$parse(t),u.$$state=o):(c&&s(e,a,o===u.$$state?null:u.$$state),l(t,o)))})),u.$$replace=!1}),u}]}function Ye(){var t=!0,e=this;this.debugEnabled=function(e){return w(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||m,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var t=[];return o(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function We(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw Hi("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Ge(t,e){if(t){if(t.constructor===t)throw Hi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw Hi("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw Hi("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw Hi("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Ke(t,e){if(t){if(t.constructor===t)throw Hi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===ji||t===qi||t===Yi)throw Hi("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Xe(t,e){return"undefined"!=typeof t?t:e}function Ze(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function Qe(t,e){var n=t(e);return!n.$stateful}function Je(t,e){var n,r;switch(t.type){case Xi.Program:n=!0,o(t.body,function(t){Je(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case Xi.Literal:t.constant=!0,t.toWatch=[];break;case Xi.UnaryExpression:Je(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Xi.BinaryExpression:Je(t.left,e),Je(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Xi.LogicalExpression:Je(t.left,e),Je(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Xi.ConditionalExpression:Je(t.test,e),Je(t.alternate,e),Je(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Xi.Identifier:t.constant=!1,t.toWatch=[t];break;case Xi.MemberExpression:Je(t.object,e),t.computed&&Je(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),
t.toWatch=[t];break;case Xi.CallExpression:n=t.filter?Qe(e,t.callee.name):!1,r=[],o(t.arguments,function(t){Je(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&Qe(e,t.callee.name)?r:[t];break;case Xi.AssignmentExpression:Je(t.left,e),Je(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Xi.ArrayExpression:n=!0,r=[],o(t.elements,function(t){Je(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=r;break;case Xi.ObjectExpression:n=!0,r=[],o(t.properties,function(t){Je(t.value,e),n=n&&t.value.constant,t.value.constant||r.push.apply(r,t.value.toWatch)}),t.constant=n,t.toWatch=r;break;case Xi.ThisExpression:t.constant=!1,t.toWatch=[]}}function tn(t){if(1==t.length){var e=t[0].expression,r=e.toWatch;return 1!==r.length?r:r[0]!==e?r:n}}function en(t){return t.type===Xi.Identifier||t.type===Xi.MemberExpression}function nn(t){return 1===t.body.length&&en(t.body[0].expression)?{type:Xi.AssignmentExpression,left:t.body[0].expression,right:{type:Xi.NGValueParameter},operator:"="}:void 0}function rn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Xi.Literal||t.body[0].expression.type===Xi.ArrayExpression||t.body[0].expression.type===Xi.ObjectExpression)}function on(t){return t.constant}function an(t,e){this.astBuilder=t,this.$filter=e}function sn(t,e){this.astBuilder=t,this.$filter=e}function ln(t,e,n,r){Ge(t,r);for(var i,o=e.split("."),a=0;o.length>1;a++){i=We(o.shift(),r);var s=Ge(t[i],r);s||(s={},t[i]=s),t=s}return i=We(o.shift(),r),Ge(t[i],r),t[i]=n,n}function un(t){return"constructor"==t}function cn(t){return T(t.valueOf)?t.valueOf():Qi.call(t)}function hn(){var t=gt(),e=gt();this.$get=["$filter","$sniffer",function(r,i){function a(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=cn(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function s(t,e,r,i,o){var s,l=i.inputs;if(1===l.length){var u=a;return l=l[0],t.$watch(function(t){var e=l(t);return a(e,u)||(s=i(t,n,n,[e]),u=e&&cn(e)),s},e,r,o)}for(var c=[],h=[],d=0,f=l.length;f>d;d++)c[d]=a,h[d]=null;return t.$watch(function(t){for(var e=!1,r=0,o=l.length;o>r;r++){var u=l[r](t);(e||(e=!a(u,c[r])))&&(h[r]=u,c[r]=u&&cn(u))}return e&&(s=i(t,n,n,h)),s},e,r,o)}function l(t,e,n,r){var i,o;return i=t.$watch(function(t){return r(t)},function(t,n,r){o=t,T(e)&&e.apply(this,arguments),w(t)&&r.$$postDigest(function(){w(o)&&i()})},n)}function u(t,e,n,r){function i(t){var e=!0;return o(t,function(t){w(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return r(t)},function(t,n,r){s=t,T(e)&&e.call(this,t,n,r),i(t)&&r.$$postDigest(function(){i(s)&&a()})},n)}function c(t,e,n,r){var i;return i=t.$watch(function(t){return r(t)},function(t,n,r){T(e)&&e.apply(this,arguments),i()},n)}function h(t,e){if(!e)return t;var n=t.$$watchDelegate,r=n!==u&&n!==l,i=r?function(n,r,i,o){var a=t(n,r,i,o);return e(a,n,r)}:function(n,r,i,o){var a=t(n,r,i,o),s=e(a,n,r);return w(a)?s:a};return t.$$watchDelegate&&t.$$watchDelegate!==s?i.$$watchDelegate=t.$$watchDelegate:e.$stateful||(i.$$watchDelegate=s,i.inputs=t.inputs?t.inputs:[t]),i}var d={csp:i.csp,expensiveChecks:!1},f={csp:i.csp,expensiveChecks:!0};return function(n,i,o){var a,p,g;switch(typeof n){case"string":n=n.trim(),g=n;var v=o?e:t;if(a=v[g],!a){":"===n.charAt(0)&&":"===n.charAt(1)&&(p=!0,n=n.substring(2));var _=o?f:d,y=new Ki(_),w=new Zi(y,r,_);a=w.parse(n),a.constant?a.$$watchDelegate=c:p?a.$$watchDelegate=a.literal?u:l:a.inputs&&(a.$$watchDelegate=s),v[g]=a}return h(a,i);case"function":return h(n,i);default:return m}}}]}function dn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return pn(function(e){t.$evalAsync(e)},e)}]}function fn(){this.$get=["$browser","$exceptionHandler",function(t,e){return pn(function(e){t.defer(e)},e)}]}function pn(t,e){function i(t,e,n){function r(e){return function(n){i||(i=!0,e.call(t,n))}}var i=!1;return[r(e),r(n)]}function a(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function l(t){var r,i,o;o=t.pending,t.processScheduled=!1,t.pending=n;for(var a=0,s=o.length;s>a;++a){i=o[a][0],r=o[a][t.status];try{T(r)?i.resolve(r(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(l){i.reject(l),e(l)}}}function u(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){l(e)}))}function c(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function h(t){var e=new c,n=0,r=Rr(t)?[]:{};return o(t,function(t,i){n++,v(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}var d=r("$q",TypeError),f=function(){return new c};a.prototype={then:function(t,e,n){var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&u(this.$$state),r.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return g(e,!0,t)},function(e){return g(e,!1,t)},e)}},c.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(b(t)||T(t))&&(n=t&&t.then),T(n)?(this.promise.$$state.status=-1,n.call(t,r[0],r[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,u(this.promise.$$state))}catch(o){r[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,u(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&t(function(){for(var t,i,o=0,a=r.length;a>o;o++){i=r[o][0],t=r[o][3];try{i.notify(T(t)?t(n):n)}catch(s){e(s)}}})}};var p=function(t){var e=new c;return e.reject(t),e.promise},m=function(t,e){var n=new c;return e?n.resolve(t):n.reject(t),n.promise},g=function(t,e,n){var r=null;try{T(n)&&(r=n())}catch(i){return m(i,!1)}return L(r)?r.then(function(){return m(t,e)},function(t){return m(t,!1)}):m(t,e)},v=function(t,e,n,r){var i=new c;return i.resolve(t),i.promise.then(e,n,r)},_=v,y=function w(t){function e(t){r.resolve(t)}function n(t){r.reject(t)}if(!T(t))throw d("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof w))return new w(t);var r=new c;return t(e,n),r.promise};return y.defer=f,y.reject=p,y.when=v,y.resolve=_,y.all=h,y}function mn(){this.$get=["$window","$timeout",function(t,e){function n(){for(var t=0;t<c.length;t++){var e=c[t];e&&(c[t]=null,e())}u=c.length=0}function r(t){var e=c.length;return u++,c.push(t),0===e&&(l=s(n)),function(){e>=0&&(c[e]=null,e=null,0===--u&&l&&(l(),l=null,c.length=0))}}var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame,o=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,a=!!i,s=a?function(t){var e=i(t);return function(){o(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};r.supported=a;var l,u=0,c=[];return r}]}function gn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,u,c,h){function d(t){t.currentScope.$$destroyed=!0}function f(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(t){if(E.$$phase)throw n("inprog","{0} already in progress",E.$$phase);E.$$phase=t}function g(){E.$$phase=null}function v(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function _(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function w(){}function x(){for(;k.length;)try{k.shift()()}catch(t){u(t)}s=null}function S(){null===s&&(s=h.defer(function(){E.$apply(x)}))}f.prototype={constructor:f,$new:function(e,n){var r;return n=n||this,e?(r=new f,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!=this)&&r.$on("$destroy",d),r},$watch:function(t,e,n,r){var i=c(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i,t);var o=this,s=o.$$watchers,l={fn:e,last:w,get:i,exp:r||t,eq:!!n};return a=null,T(e)||(l.fn=m),s||(s=o.$$watchers=[]),s.unshift(l),v(this,1),function(){V(s,l)>=0&&v(o,-1),a=null}},$watchGroup:function(t,e){function n(){l=!1,u?(u=!1,e(i,i,s)):e(i,r,s)}var r=new Array(t.length),i=new Array(t.length),a=[],s=this,l=!1,u=!0;if(!t.length){var c=!0;return s.$evalAsync(function(){c&&e(i,i,s)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){i[e]=t,r[e]=o,l||(l=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,s,l;if(!y(o)){if(b(o))if(i(o)){a!==f&&(a=f,g=a.length=0,h++),e=o.length,g!==e&&(h++,a.length=g=e);for(var u=0;e>u;u++)l=a[u],s=o[u],r=l!==l&&s!==s,r||l===s||(h++,a[u]=s)}else{a!==p&&(a=p={},g=0,h++),e=0;for(n in o)o.hasOwnProperty(n)&&(e++,s=o[n],l=a[n],n in a?(r=l!==l&&s!==s,r||l===s||(h++,a[n]=s)):(g++,a[n]=s,h++));if(g>e){h++;for(n in a)o.hasOwnProperty(n)||(g--,delete a[n])}}else a!==o&&(a=o,h++);return h}}function r(){if(m?(m=!1,e(o,o,l)):e(o,s,l),u)if(b(o))if(i(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)br.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,l=this,u=e.length>1,h=0,d=c(t,n),f=[],p={},m=!0,g=0;return this.$watch(d,r)},$digest:function(){var t,r,i,o,l,c,d,f,m,v,_=e,y=this,b=[];p("$digest"),h.$$checkUrlChange(),this===E&&null!==s&&(h.defer.cancel(s),x()),a=null;do{for(c=!1,f=y;$.length;){try{v=$.shift(),v.scope.$eval(v.expression,v.locals)}catch(S){u(S)}a=null}t:do{if(o=f.$$watchers)for(l=o.length;l--;)try{if(t=o[l])if((r=t.get(f))===(i=t.last)||(t.eq?z(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(t===a){c=!1;break t}}else c=!0,a=t,t.last=t.eq?U(r,null):r,t.fn(r,i===w?r:i,f),5>_&&(m=4-_,b[m]||(b[m]=[]),b[m].push({msg:T(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:r,oldVal:i}))}catch(S){u(S)}if(!(d=f.$$watchersCount&&f.$$childHead||f!==y&&f.$$nextSibling))for(;f!==y&&!(d=f.$$nextSibling);)f=f.$parent}while(f=d);if((c||$.length)&&!_--)throw g(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,b)}while(c||$.length);for(g();C.length;)try{C.shift()()}catch(S){u(S)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===E&&h.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var e in this.$$listenerCount)_(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=m,this.$on=this.$watch=this.$watchGroup=function(){return m},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){E.$$phase||$.length||h.defer(function(){$.length&&E.$digest()}),$.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){C.push(t)},$apply:function(t){try{return p("$apply"),this.$eval(t)}catch(e){u(e)}finally{g();try{E.$digest()}catch(e){throw u(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&k.push(e),S()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(n[r]=null,_(i,1,t))}},$emit:function(t,e){var n,r,i,o=[],a=this,s=!1,l={name:t,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=H([l],arguments,1);do{for(n=a.$$listeners[t]||o,l.currentScope=a,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,c)}catch(h){u(h)}else n.splice(r,1),r--,i--;if(s)return l.currentScope=null,l;a=a.$parent}while(a);return l.currentScope=null,l},$broadcast:function(t,e){var n=this,r=n,i=n,o={name:t,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return o;for(var a,s,l,c=H([o],arguments,1);r=i;){for(o.currentScope=r,a=r.$$listeners[t]||[],s=0,l=a.length;l>s;s++)if(a[s])try{a[s].apply(null,c)}catch(h){u(h)}else a.splice(s,1),s--,l--;if(!(i=r.$$listenerCount[t]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var E=new f,$=E.$$asyncQueue=[],C=E.$$postDigestQueue=[],k=E.$$applyAsyncQueue=[];return E}]}function vn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=Tn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function _n(t){if("self"===t)return t;if(S(t)){if(t.indexOf("***")>-1)throw Ji("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=Fr(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(C(t))return new RegExp("^"+t.source+"$");throw Ji("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function yn(t){var e=[];return w(t)&&o(t,function(t){e.push(_n(t))}),e}function wn(){this.SCE_CONTEXTS=to;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=yn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=yn(t)),e},this.$get=["$injector",function(r){function i(t,e){return"self"===t?Cn(e):!!t.exec(e.href)}function o(n){var r,o,a=Tn(n.toString()),s=!1;for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!1;break}return s}function a(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function s(t,e){var r=d.hasOwnProperty(t)?d[t]:null;if(!r)throw Ji("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw Ji("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new r(e)}function l(t){return t instanceof h?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||e===n||""===e)return e;var r=d.hasOwnProperty(t)?d[t]:null;if(r&&e instanceof r)return e.$$unwrapTrustedValue();if(t===to.RESOURCE_URL){if(o(e))return e;throw Ji("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===to.HTML)return c(e);throw Ji("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(t){throw Ji("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(c=r.get("$sanitize"));var h=a(),d={};return d[to.HTML]=a(h),d[to.CSS]=a(h),d[to.URL]=a(h),d[to.JS]=a(h),d[to.RESOURCE_URL]=a(d[to.URL]),{trustAs:s,getTrusted:u,valueOf:l}}]}function bn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>$r)throw Ji("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=F(to);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=g),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(to,function(t,e){var n=wr(e);r[xt("parse_as_"+n)]=function(e){return i(t,e)},r[xt("get_trusted_"+n)]=function(e){return a(t,e)},r[xt("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function xn(){this.$get=["$window","$document",function(t,e){var n,r,i={},o=f((/android (\d+)/.exec(wr((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,u=s.body&&s.body.style,c=!1,h=!1;if(u){for(var d in u)if(r=l.exec(d)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),c=!!("transition"in u||n+"Transition"in u),h=!!("animation"in u||n+"Animation"in u),!o||c&&h||(c=S(u.webkitTransition),h=S(u.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>o||a),hasEvent:function(t){if("input"===t&&11>=$r)return!1;if(y(i[t])){var e=s.createElement("div");i[t]="on"+t in e}return i[t]},csp:zr(),vendorPrefix:n,transitions:c,animations:h,android:o}}]}function Sn(){this.$get=["$templateCache","$http","$q","$sce",function(t,e,n,r){function i(o,a){function s(t){if(!a)throw Mi("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,t.status,t.statusText);return n.reject(t)}i.totalPendingRequests++,S(o)&&t.get(o)||(o=r.getTrustedResourceUrl(o));var l=e.defaults&&e.defaults.transformResponse;Rr(l)?l=l.filter(function(t){return t!==ye}):l===ye&&(l=null);var u={cache:t,transformResponse:l};return e.get(o,u)["finally"](function(){i.totalPendingRequests--}).then(function(e){return t.put(o,e.data),e.data},s)}return i.totalPendingRequests=0,i}]}function En(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return o(r,function(t){var r=Nr.element(t).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+Fr(e)+"(\\s|\\||$)");o.test(r)&&i.push(t)}else-1!=r.indexOf(e)&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function $n(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,l){T(o)||(l=s,s=o,o=m);var u,c=j(arguments,3),h=w(l)&&!l,d=(h?r:n).defer(),f=d.promise;return u=e.defer(function(){try{d.resolve(o.apply(null,c))}catch(e){d.reject(e),i(e)}finally{delete a[f.$$timeoutId]}h||t.$apply()},s),f.$$timeoutId=u,a[u]=d,f}var a={};return o.cancel=function(t){return t&&t.$$timeoutId in a?(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function Tn(t){var e=t;return $r&&(eo.setAttribute("href",e),e=eo.href),eo.setAttribute("href",e),{href:eo.href,protocol:eo.protocol?eo.protocol.replace(/:$/,""):"",host:eo.host,search:eo.search?eo.search.replace(/^\?/,""):"",hash:eo.hash?eo.hash.replace(/^#/,""):"",hostname:eo.hostname,port:eo.port,pathname:"/"===eo.pathname.charAt(0)?eo.pathname:"/"+eo.pathname}}function Cn(t){var e=S(t)?Tn(t):t;return e.protocol===no.protocol&&e.host===no.host}function kn(){this.$get=v(t)}function Mn(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var r=t[0]||{},i={},o="";return function(){var t,a,s,l,u,c=r.cookie||"";if(c!==o)for(o=c,t=o.split("; "),i={},s=0;s<t.length;s++)a=t[s],l=a.indexOf("="),l>0&&(u=e(a.substring(0,l)),i[u]===n&&(i[u]=e(a.substring(l+1))));return i}}function An(){this.$get=Mn}function Dn(t){function e(r,i){if(b(r)){var a={};return o(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",On),e("date",Kn),e("filter",In),e("json",Xn),e("limitTo",Zn),e("lowercase",so),e("number",Bn),e("orderBy",Qn),e("uppercase",lo)}function In(){return function(t,e,n){if(!i(t)){if(null==t)return t;throw r("filter")("notarray","Expected array but received: {0}",t)}var o,a,s=Nn(e);switch(s){case"function":o=e;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=Pn(e,n,a);break;default:return t}return Array.prototype.filter.call(t,o)}}function Pn(t,e,n){var r,i=b(t)&&"$"in t;return e===!0?e=z:T(e)||(e=function(t,e){return y(t)?!1:null===t||null===e?t===e:b(e)||b(t)&&!_(t)?!1:(t=wr(""+t),e=wr(""+e),-1!==t.indexOf(e))}),r=function(r){return i&&!b(r)?Ln(r,t.$,e,!1):Ln(r,t,e,n)}}function Ln(t,e,n,r,i){var o=Nn(t),a=Nn(e);if("string"===a&&"!"===e.charAt(0))return!Ln(t,e.substring(1),n,r);if(Rr(t))return t.some(function(t){return Ln(t,e,n,r)});switch(o){case"object":var s;if(r){for(s in t)if("$"!==s.charAt(0)&&Ln(t[s],e,n,!0))return!0;return i?!1:Ln(t,e,n,!1)}if("object"===a){for(s in e){var l=e[s];if(!T(l)&&!y(l)){var u="$"===s,c=u?t:t[s];if(!Ln(c,l,n,u,u))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Nn(t){return null===t?"null":typeof t}function On(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return y(n)&&(n=e.CURRENCY_SYM),y(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:Rn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Bn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Rn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Rn(t,e,n,r,i){if(b(t))return"";var o=0>t;t=Math.abs(t);var a=t===1/0;if(!a&&!isFinite(t))return"";var s=t+"",l="",u=!1,c=[];if(a&&(l=""),!a&&-1!==s.indexOf("e")){var h=s.match(/([\d\.]+)e(-?)(\d+)/);h&&"-"==h[2]&&h[3]>i+1?t=0:(l=s,u=!0)}if(a||u)i>0&&1>t&&(l=t.toFixed(i),t=parseFloat(l));else{var d=(s.split(ro)[1]||"").length;y(i)&&(i=Math.min(Math.max(e.minFrac,d),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+i)).toString()+"e"+-i);var f=(""+t).split(ro),p=f[0];f=f[1]||"";var m,g=0,v=e.lgSize,_=e.gSize;if(p.length>=v+_)for(g=p.length-v,m=0;g>m;m++)(g-m)%_===0&&0!==m&&(l+=n),l+=p.charAt(m);for(m=g;m<p.length;m++)(p.length-m)%v===0&&0!==m&&(l+=n),l+=p.charAt(m);for(;f.length<i;)f+="0";i&&"0"!==i&&(l+=r+f.substr(0,i))}return 0===t&&(o=!1),c.push(o?e.negPre:e.posPre,l,o?e.negSuf:e.posSuf),c.join("")}function Vn(t,e,n){var r="";for(0>t&&(r="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),r+t}function Un(t,e,n,r){return n=n||0,function(i){var o=i["get"+t]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),Vn(o,e,r)}}function Fn(t,e){return function(n,r){var i=n["get"+t](),o=xr(e?"SHORT"+t:t);return r[o][i]}}function zn(t,e,n){var r=-1*n,i=r>=0?"+":"";return i+=Vn(Math[r>0?"floor":"ceil"](r/60),2)+Vn(Math.abs(r%60),2)}function Hn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function jn(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function qn(t){return function(e){var n=Hn(e.getFullYear()),r=jn(e),i=+r-+n,o=1+Math.round(i/6048e5);return Vn(o,t)}}function Yn(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function Wn(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Gn(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function Kn(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=f(e[9]+e[10]),o=f(e[9]+e[11])),a.call(r,f(e[1]),f(e[2])-1,f(e[3]));var l=f(e[4]||0)-i,u=f(e[5]||0)-o,c=f(e[6]||0),h=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,l,u,c,h),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,l="",u=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,S(n)&&(n=ao.test(n)?f(n):e(n)),E(n)&&(n=new Date(n)),!$(n)||!isFinite(n.getTime()))return n;for(;r;)s=oo.exec(r),s?(u=H(u,s,1),r=u.pop()):(u.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=K(i,n.getTimezoneOffset()),n=Z(n,i,!0)),o(u,function(e){a=io[e],l+=a?a(n,t.DATETIME_FORMATS,c):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Xn(){return function(t,e){return y(e)&&(e=2),W(t,e)}}function Zn(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):f(e),isNaN(e)?t:(E(t)&&(t=t.toString()),Rr(t)||S(t)?(n=!n||isNaN(n)?0:f(n),n=0>n&&n>=-t.length?t.length+n:n,e>=0?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function Qn(t){function e(e,n){return n=n?-1:1,e.map(function(e){var r=1,i=g;if(T(e))i=e;else if(S(e)&&(("+"==e.charAt(0)||"-"==e.charAt(0))&&(r="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e),i.constant))){var o=i();i=function(t){return t[o]}}return{get:i,descending:r*n}})}function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function r(t,e){return"function"==typeof t.valueOf&&(t=t.valueOf(),n(t))?t:_(t)&&(t=t.toString(),n(t))?t:e}function o(t,e){var n=typeof t;return null===t?(n="string",t="null"):"string"===n?t=t.toLowerCase():"object"===n&&(t=r(t,e)),{value:t,type:n}}function a(t,e){var n=0;return t.type===e.type?t.value!==e.value&&(n=t.value<e.value?-1:1):n=t.type<e.type?-1:1,n}return function(t,n,r){function s(t,e){return{value:t,predicateValues:u.map(function(n){return o(n.get(t),e)})}}function l(t,e){for(var n=0,r=0,i=u.length;i>r&&!(n=a(t.predicateValues[r],e.predicateValues[r])*u[r].descending);++r);return n}if(!i(t))return t;Rr(n)||(n=[n]),0===n.length&&(n=["+"]);var u=e(n,r),c=Array.prototype.map.call(t,s);return c.sort(l),t=c.map(function(t){return t.value})}}function Jn(t){return T(t)&&(t={link:t}),t.restrict=t.restrict||"AC",v(t)}function tr(t,e){t.$name=e}function er(t,e,r,i,a){var s=this,l=[],u=s.$$parentForm=t.parent().controller("form")||ho;s.$error={},s.$$success={},s.$pending=n,s.$name=a(e.name||e.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,u.$addControl(s),s.$rollbackViewValue=function(){o(l,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){o(l,function(t){t.$commitViewValue()})},s.$addControl=function(t){ft(t.$name,"input"),l.push(t),t.$name&&(s[t.$name]=t)},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],o(s.$pending,function(e,n){s.$setValidity(n,null,t)}),o(s.$error,function(e,n){s.$setValidity(n,null,t)}),o(s.$$success,function(e,n){s.$setValidity(n,null,t)}),V(l,t)},gr({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(V(r,n),0===r.length&&delete t[e])},parentForm:u,$animate:i}),s.$setDirty=function(){i.removeClass(t,Go),i.addClass(t,Ko),s.$dirty=!0,s.$pristine=!1,u.$setDirty()},s.$setPristine=function(){i.setClass(t,Go,Ko+" "+fo),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(l,function(t){t.$setPristine()})},s.$setUntouched=function(){o(l,function(t){t.$setUntouched()})},s.$setSubmitted=function(){i.addClass(t,fo),s.$submitted=!0,u.$setSubmitted()}}function nr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function rr(t,e,n,r,i,o){ir(t,e,n,r,i,o),nr(r)}function ir(t,e,n,r,i,o){var a=wr(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(t){s=!0}),e.on("compositionend",function(){s=!1,l()})}var l=function(t){if(u&&(o.defer.cancel(u),u=null),!s){var i=e.val(),l=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Ur(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,l)}};if(i.hasEvent("input"))e.on("input",l);else{var u,c=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||l(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||c(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",l),r.$render=function(){e.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function or(t,e){if($(t))return t;if(S(t)){So.lastIndex=0;var n=So.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,l=0,u=Hn(r),c=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),l=e.getMilliseconds()),new Date(r,0,u.getDate()+c,o,a,s,l)}}return NaN}function ar(t,e){return function(n,r){var i,a;if($(n))return n;if(S(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),vo.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function sr(t,e,r,i){return function(o,a,s,l,u,c,h){function d(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function f(t){return w(t)?$(t)?t:r(t):n}lr(o,a,s,l),ir(o,a,s,l,u,c);var p,m=l&&l.$options&&l.$options.timezone;if(l.$$parserName=t,l.$parsers.push(function(t){if(l.$isEmpty(t))return null;if(e.test(t)){var i=r(t,p);return m&&(i=Z(i,m)),i}return n}),l.$formatters.push(function(t){if(t&&!$(t))throw Jo("datefmt","Expected `{0}` to be a date",t);return d(t)?(p=t,p&&m&&(p=Z(p,m,!0)),h("date")(t,i,m)):(p=null,"")}),w(s.min)||s.ngMin){var g;l.$validators.min=function(t){return!d(t)||y(g)||r(t)>=g},s.$observe("min",function(t){g=f(t),l.$validate()})}if(w(s.max)||s.ngMax){var v;l.$validators.max=function(t){return!d(t)||y(v)||r(t)<=v},s.$observe("max",function(t){v=f(t),l.$validate()})}}}function lr(t,e,r,i){var o=e[0],a=i.$$hasNativeValidators=b(o.validity);a&&i.$parsers.push(function(t){var r=e.prop(yr)||{};return r.badInput&&!r.typeMismatch?n:t})}function ur(t,e,r,i,o,a){if(lr(t,e,r,i),ir(t,e,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:wo.test(t)?parseFloat(t):n}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!E(t))throw Jo("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),w(r.min)||r.ngMin){var s;i.$validators.min=function(t){return i.$isEmpty(t)||y(s)||t>=s},r.$observe("min",function(t){w(t)&&!E(t)&&(t=parseFloat(t,10)),s=E(t)&&!isNaN(t)?t:n,i.$validate()})}if(w(r.max)||r.ngMax){var l;i.$validators.max=function(t){return i.$isEmpty(t)||y(l)||l>=t},r.$observe("max",function(t){w(t)&&!E(t)&&(t=parseFloat(t,10)),l=E(t)&&!isNaN(t)?t:n,i.$validate()})}}function cr(t,e,n,r,i,o){ir(t,e,n,r,i,o),nr(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||_o.test(n)}}function hr(t,e,n,r,i,o){ir(t,e,n,r,i,o),nr(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||yo.test(n)}}function dr(t,e,n,r){y(n.name)&&e.attr("name",l());var i=function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)};e.on("click",i),r.$render=function(){var t=n.value;e[0].checked=t==r.$viewValue},n.$observe("value",r.$render)}function fr(t,e,n,i,o){var a;if(w(i)){if(a=t(i),!a.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return a(e)}return o}function pr(t,e,n,r,i,o,a,s){var l=fr(s,t,"ngTrueValue",n.ngTrueValue,!0),u=fr(s,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){
r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t===!1},r.$formatters.push(function(t){return z(t,l)}),r.$parsers.push(function(t){return t?l:u})}function mr(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i==e[o])continue t;n.push(i)}return n}function i(t){var e=[];return Rr(t)?(o(t,function(t){e=e.concat(i(t))}),e):S(t)?t.split(" "):b(t)?(o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(a,s,l){function u(t){var e=h(t,1);l.$addClass(e)}function c(t){var e=h(t,-1);l.$removeClass(e)}function h(t,e){var n=s.data("$classCounts")||gt(),r=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),s.data("$classCounts",n),r.join(" ")}function d(t,e){var i=r(e,t),o=r(t,e);i=h(i,1),o=h(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function f(t){if(e===!0||a.$index%2===e){var n=i(t||[]);if(p){if(!z(t,p)){var r=i(p);d(r,n)}}else u(n)}p=F(t)}var p;a.$watch(l[t],f,!0),l.$observe("class",function(e){f(a.$eval(l[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(l[t]));o===e?u(s):c(s)}})}}}]}function gr(t){function e(t,e,l){e===n?r("$pending",t,l):i("$pending",t,l),P(e)?e?(h(s.$error,t,l),c(s.$$success,t,l)):(c(s.$error,t,l),h(s.$$success,t,l)):(h(s.$error,t,l),h(s.$$success,t,l)),s.$pending?(o(Qo,!0),s.$valid=s.$invalid=n,a("",null)):(o(Qo,!1),s.$valid=vr(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var u;u=s.$pending&&s.$pending[t]?n:s.$error[t]?!1:s.$$success[t]?!0:null,a(t,u),d.$setValidity(t,u,s)}function r(t,e,n){s[t]||(s[t]={}),c(s[t],e,n)}function i(t,e,r){s[t]&&h(s[t],e,r),vr(s[t])&&(s[t]=n)}function o(t,e){e&&!u[t]?(f.addClass(l,t),u[t]=!0):!e&&u[t]&&(f.removeClass(l,t),u[t]=!1)}function a(t,e){t=t?"-"+ut(t,"-"):"",o(Yo+t,e===!0),o(Wo+t,e===!1)}var s=t.ctrl,l=t.$element,u={},c=t.set,h=t.unset,d=t.parentForm,f=t.$animate;u[Wo]=!(u[Yo]=l.hasClass(Yo)),s.$setValidity=e}function vr(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var _r=/^\/(.+)\/([a-z]*)$/,yr="validity",wr=function(t){return S(t)?t.toLowerCase():t},br=Object.prototype.hasOwnProperty,xr=function(t){return S(t)?t.toUpperCase():t},Sr=function(t){return S(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Er=function(t){return S(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(wr=Sr,xr=Er);var $r,Tr,Cr,kr,Mr=[].slice,Ar=[].splice,Dr=[].push,Ir=Object.prototype.toString,Pr=Object.getPrototypeOf,Lr=r("ng"),Nr=t.angular||(t.angular={}),Or=0;$r=e.documentMode,m.$inject=[],g.$inject=[];var Br,Rr=Array.isArray,Vr=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,Ur=function(t){return S(t)?t.trim():t},Fr=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},zr=function(){if(w(zr.isActive_))return zr.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(n){t=!0}return zr.isActive_=t},Hr=function(){if(w(Hr.name_))return Hr.name_;var t,n,r,i,o=jr.length;for(n=0;o>n;++n)if(r=jr[n],t=e.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return Hr.name_=i},jr=["ng-","data-ng-","ng:","x-ng-"],qr=/[A-Z]/g,Yr=!1,Wr=1,Gr=2,Kr=3,Xr=8,Zr=9,Qr=11,Jr={full:"1.4.3",major:1,minor:4,dot:3,codeName:"foam-acceleration"};kt.expando="ng339";var ti=kt.cache={},ei=1,ni=function(t,e,n){t.addEventListener(e,n,!1)},ri=function(t,e,n){t.removeEventListener(e,n,!1)};kt._data=function(t){return this.cache[t[this.expando]]||{}};var ii=/([\:\-\_]+(.))/g,oi=/^moz([A-Z])/,ai={mouseleave:"mouseout",mouseenter:"mouseover"},si=r("jqLite"),li=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ui=/<|&#?\w+;/,ci=/<([\w:]+)/,hi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,di={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};di.optgroup=di.option,di.tbody=di.tfoot=di.colgroup=di.caption=di.thead,di.th=di.td;var fi=kt.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===e.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),kt(t).on("load",r))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Tr(t>=0?this[t]:this[this.length+t])},length:0,push:Dr,sort:[].sort,splice:[].splice},pi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){pi[wr(t)]=t});var mi={};o("input,select,option,textarea,button,form,details".split(","),function(t){mi[t]=!0});var gi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Lt,removeData:It,hasData:$t},function(t,e){kt[e]=t}),o({data:Lt,inheritedData:Ut,scope:function(t){return Tr.data(t,"$scope")||Ut(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Tr.data(t,"$isolateScope")||Tr.data(t,"$isolateScopeNoTemplate")},controller:Vt,injector:function(t){return Ut(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Nt,css:function(t,e,n){return e=xt(e),w(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,r){var i=t.nodeType;if(i!==Kr&&i!==Gr&&i!==Xr){var o=wr(e);if(pi[o]){if(!w(r))return t[e]||(t.attributes.getNamedItem(e)||m).specified?o:n;r?(t[e]=!0,t.setAttribute(e,o)):(t[e]=!1,t.removeAttribute(o))}else if(w(r))t.setAttribute(e,r);else if(t.getAttribute){var a=t.getAttribute(e,2);return null===a?n:a}}},prop:function(t,e,n){return w(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(y(e)){var n=t.nodeType;return n===Wr||n===Kr?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(y(e)){if(t.multiple&&"select"===R(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return y(e)?t.innerHTML:(At(t,!0),void(t.innerHTML=e))},empty:Ft},function(t,e){kt.prototype[e]=function(e,r){var i,o,a=this.length;if(t!==Ft&&(2==t.length&&t!==Nt&&t!==Vt?e:r)===n){if(b(e)){for(i=0;a>i;i++)if(t===Lt)t(this[i],e);else for(o in e)t(this[i],o,e[o]);return this}for(var s=t.$dv,l=s===n?Math.min(a,1):a,u=0;l>u;u++){var c=t(this[u],e,r);s=s?s+c:c}return s}for(i=0;a>i;i++)t(this[i],e,r);return this}}),o({removeData:It,on:function Ma(t,e,n,r){if(w(r))throw si("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Et(t)){var i=Pt(t,!0),o=i.events,a=i.handle;a||(a=i.handle=Yt(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],l=s.length;l--;){e=s[l];var u=o[e];u||(o[e]=[],"mouseenter"===e||"mouseleave"===e?Ma(t,ai[e],function(t){var n=this,r=t.relatedTarget;(!r||r!==n&&!n.contains(r))&&a(t,e)}):"$destroy"!==e&&ni(t,e,a),u=o[e]),u.push(n)}}},off:Dt,one:function(t,e,n){t=Tr(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;At(t),o(new kt(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===Wr&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Wr||n===Qr){e=new kt(e);for(var r=0,i=e.length;i>r;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===Wr){var n=t.firstChild;o(new kt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=Tr(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:zt,detach:function(t){zt(t,!0)},after:function(t,e){var n=t,r=t.parentNode;e=new kt(e);for(var i=0,o=e.length;o>i;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Bt,removeClass:Ot,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;y(r)&&(r=!Nt(t,e)),(r?Bt:Ot)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Qr?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Mt,triggerHandler:function(t,e,n){var r,i,a,s=e.type||e,l=Pt(t),u=l&&l.events,c=u&&u[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:m,type:s,target:t},e.type&&(r=h(r,e)),i=F(c),a=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){kt.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;a>o;o++)y(i)?(i=t(this[o],e,n,r),w(i)&&(i=Tr(i))):Rt(i,t(this[o],e,n,r));return w(i)?i:this},kt.prototype.bind=kt.prototype.on,kt.prototype.unbind=kt.prototype.off}),Kt.prototype={put:function(t,e){this[Gt(t,this.nextUid)]=e},get:function(t){return this[Gt(t,this.nextUid)]},remove:function(t){var e=this[t=Gt(t,this.nextUid)];return delete this[t],e}};var vi=[function(){this.$get=[function(){return Kt}]}],_i=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,yi=/,/,wi=/^\s*(_?)(\S+?)\1\s*$/,bi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,xi=r("$injector");Qt.$$annotate=Zt;var Si=r("$animate"),Ei=1,$i="ng-animate",Ti=function(){this.$get=["$q","$$rAF",function(t,e){function n(){}return n.all=m,n.chain=m,n.prototype={end:m,cancel:m,resume:m,pause:m,complete:m,then:function(n,r){return t(function(t){e(function(){t()})}).then(n,r)}},n}]},Ci=function(){var t=new Kt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(n,i,a){var s=t.get(n);s||(t.put(n,s={}),e.push(n)),i&&o(i.split(" "),function(t){t&&(s[t]=!0)}),a&&o(a.split(" "),function(t){t&&(s[t]=!1)}),e.length>1||r.$$postDigest(function(){o(e,function(e){var n=t.get(e);if(n){var r=ne(e.attr("class")),i="",a="";o(n,function(t,e){var n=!!r[e];t!==n&&(t?i+=(i.length?" ":"")+e:a+=(a.length?" ":"")+e)}),o(e,function(t){i&&Bt(t,i),a&&Ot(t,a)}),t.remove(e)}}),e.length=0})}return{enabled:m,on:m,off:m,pin:m,push:function(t,e,r,o){return o&&o(),r=r||{},r.from&&t.css(r.from),r.to&&t.css(r.to),(r.addClass||r.removeClass)&&i(t,r.addClass,r.removeClass),new n}}}]},ki=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Si("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+$i+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw Si("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',$i)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r=ee(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,r,i,o){return r=r&&Tr(r),i=i&&Tr(i),r=r||i.parent(),e(n,r,i),t.push(n,"enter",re(o))},move:function(n,r,i,o){return r=r&&Tr(r),i=i&&Tr(i),r=r||i.parent(),e(n,r,i),t.push(n,"move",re(o))},leave:function(e,n){return t.push(e,"leave",re(n),function(){e.remove()})},addClass:function(e,n,r){return r=re(r),r.addClass=te(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return r=re(r),r.removeClass=te(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return i=re(i),i.addClass=te(i.addClass,n),i.removeClass=te(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return o=re(o),o.from=o.from?h(o.from,n):n,o.to=o.to?h(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=te(o.tempClasses,i),t.push(e,"animate",o)}}}]}],Mi=r("$compile");le.$inject=["$provide","$$sanitizeUriProvider"];var Ai=/^((?:x|data)[\:\-_])/i,Di=r("$controller"),Ii=/^(\S+)(\s+as\s+(\w+))?$/,Pi="application/json",Li={"Content-Type":Pi+";charset=utf-8"},Ni=/^\[|^\{(?!\{)/,Oi={"[":/]$/,"{":/}$/},Bi=/^\)\]\}',?\n/,Ri=Nr.$interpolateMinErr=r("$interpolate");Ri.throwNoconcat=function(t){throw Ri("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Ri.interr=function(t,e){return Ri("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Vi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Ui={http:80,https:443,ftp:21},Fi=r("$location"),zi={$$html5:!1,$$replace:!1,absUrl:He("$$absUrl"),url:function(t){if(y(t))return this.$$url;var e=Vi.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:He("$$protocol"),host:He("$$host"),port:He("$$port"),path:je("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(S(t)||E(t))t=t.toString(),this.$$search=tt(t);else{if(!b(t))throw Fi("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=U(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:y(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:je("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([ze,Fe,Ue],function(t){t.prototype=Object.create(zi),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Ue||!this.$$html5)throw Fi("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=y(e)?null:e,this}});var Hi=r("$parse"),ji=Function.prototype.call,qi=Function.prototype.apply,Yi=Function.prototype.bind,Wi=gt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Wi[t]=!0});var Gi={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},Ki=function(t){this.options=t};Ki.prototype={constructor:Ki,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=Wi[e],o=Wi[n],a=Wi[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||"\x0B"===t||""===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=w(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw Hi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=wr(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=Gi[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Xi=function(t,e){this.lexer=t,this.options=e};Xi.Program="Program",Xi.ExpressionStatement="ExpressionStatement",Xi.AssignmentExpression="AssignmentExpression",Xi.ConditionalExpression="ConditionalExpression",Xi.LogicalExpression="LogicalExpression",Xi.BinaryExpression="BinaryExpression",Xi.UnaryExpression="UnaryExpression",Xi.CallExpression="CallExpression",Xi.MemberExpression="MemberExpression",Xi.Identifier="Identifier",Xi.Literal="Literal",Xi.ArrayExpression="ArrayExpression",Xi.Property="Property",Xi.ObjectExpression="ObjectExpression",Xi.ThisExpression="ThisExpression",Xi.NGValueParameter="NGValueParameter",Xi.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Xi.Program,body:t}},expressionStatement:function(){return{type:Xi.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:Xi.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Xi.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Xi.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Xi.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Xi.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Xi.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Xi.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Xi.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Xi.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=U(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Xi.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Xi.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Xi.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Xi.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.expression());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Xi.Identifier,name:t.text}},constant:function(){return{type:Xi.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Xi.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Xi.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Xi.ObjectExpression,properties:e}},throwError:function(t,e){throw Hi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Hi("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Hi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return i?(this.tokens.shift(),i):!1},constants:{"true":{type:Xi.Literal,value:!0},"false":{type:Xi.Literal,value:!1},"null":{type:Xi.Literal,value:null},undefined:{type:Xi.Literal,value:n},"this":{type:Xi.ThisExpression}}},an.prototype={compile:function(t,e){var r=this,i=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Je(i,r.$filter);var a,s="";if(this.stage="assign",a=nn(i)){this.state.computing="assign";var l=this.nextId();this.recurse(a,l),s="fn.assign="+this.generateFunction("assign","s,v,l")}var u=tn(i.body);r.stage="inputs",o(u,function(t,e){var n="fn"+e;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(t,i),r.return_(i),r.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(i);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",h=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",c)(this.$filter,We,Ge,Ke,Xe,Ze,t);return this.state=this.stage=n,h.literal=rn(i),h.constant=on(i),h},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,r){t.push(n+"=$filter("+e.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,i,a,s){var l,u,c,h,d=this;if(i=i||m,!s&&w(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,r,i,a,!0));switch(t.type){case Xi.Program:o(t.body,function(e,r){d.recurse(e.expression,n,n,function(t){u=t}),r!==t.body.length-1?d.current().body.push(u,";"):d.return_(u)});break;case Xi.Literal:h=this.escape(t.value),this.assign(e,h),i(h);break;case Xi.UnaryExpression:this.recurse(t.argument,n,n,function(t){u=t}),h=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,h),i(h);break;case Xi.BinaryExpression:this.recurse(t.left,n,n,function(t){l=t}),this.recurse(t.right,n,n,function(t){u=t}),h="+"===t.operator?this.plus(l,u):"-"===t.operator?this.ifDefined(l,0)+t.operator+this.ifDefined(u,0):"("+l+")"+t.operator+"("+u+")",this.assign(e,h),i(h);break;case Xi.LogicalExpression:e=e||this.nextId(),d.recurse(t.left,e),d.if_("&&"===t.operator?e:d.not(e),d.lazyRecurse(t.right,e)),i(e);break;case Xi.ConditionalExpression:e=e||this.nextId(),d.recurse(t.test,e),d.if_(e,d.lazyRecurse(t.alternate,e),d.lazyRecurse(t.consequent,e)),i(e);break;case Xi.Identifier:e=e||this.nextId(),r&&(r.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),We(t.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",t.name)),function(){d.if_("inputs"===d.stage||"s",function(){a&&1!==a&&d.if_(d.not(d.nonComputedMember("s",t.name)),d.lazyAssign(d.nonComputedMember("s",t.name),"{}")),d.assign(e,d.nonComputedMember("s",t.name))})},e&&d.lazyAssign(e,d.nonComputedMember("l",t.name))),(d.state.expensiveChecks||un(t.name))&&d.addEnsureSafeObject(e),i(e);break;case Xi.MemberExpression:l=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),d.recurse(t.object,l,n,function(){d.if_(d.notNull(l),function(){t.computed?(u=d.nextId(),d.recurse(t.property,u),d.addEnsureSafeMemberName(u),a&&1!==a&&d.if_(d.not(d.computedMember(l,u)),d.lazyAssign(d.computedMember(l,u),"{}")),h=d.ensureSafeObject(d.computedMember(l,u)),d.assign(e,h),r&&(r.computed=!0,r.name=u)):(We(t.property.name),a&&1!==a&&d.if_(d.not(d.nonComputedMember(l,t.property.name)),d.lazyAssign(d.nonComputedMember(l,t.property.name),"{}")),h=d.nonComputedMember(l,t.property.name),(d.state.expensiveChecks||un(t.property.name))&&(h=d.ensureSafeObject(h)),d.assign(e,h),r&&(r.computed=!1,r.name=t.property.name))},function(){d.assign(e,"undefined")}),i(e)},!!a);break;case Xi.CallExpression:e=e||this.nextId(),t.filter?(u=d.filter(t.callee.name),c=[],o(t.arguments,function(t){var e=d.nextId();d.recurse(t,e),c.push(e)}),h=u+"("+c.join(",")+")",d.assign(e,h),i(e)):(u=d.nextId(),l={},c=[],d.recurse(t.callee,u,l,function(){d.if_(d.notNull(u),function(){d.addEnsureSafeFunction(u),o(t.arguments,function(t){d.recurse(t,d.nextId(),n,function(t){c.push(d.ensureSafeObject(t))})}),l.name?(d.state.expensiveChecks||d.addEnsureSafeObject(l.context),h=d.member(l.context,l.name,l.computed)+"("+c.join(",")+")"):h=u+"("+c.join(",")+")",h=d.ensureSafeObject(h),d.assign(e,h)},function(){d.assign(e,"undefined")}),i(e)}));break;case Xi.AssignmentExpression:if(u=this.nextId(),l={},!en(t.left))throw Hi("lval","Trying to assing a value to a non l-value");this.recurse(t.left,n,l,function(){d.if_(d.notNull(l.context),function(){d.recurse(t.right,u),d.addEnsureSafeObject(d.member(l.context,l.name,l.computed)),h=d.member(l.context,l.name,l.computed)+t.operator+u,d.assign(e,h),i(e||h)})},1);break;case Xi.ArrayExpression:c=[],o(t.elements,function(t){d.recurse(t,d.nextId(),n,function(t){c.push(t)})}),h="["+c.join(",")+"]",this.assign(e,h),i(h);break;case Xi.ObjectExpression:c=[],o(t.properties,function(t){d.recurse(t.value,d.nextId(),n,function(e){c.push(d.escape(t.key.type===Xi.Identifier?t.key.name:""+t.key.value)+":"+e)})}),h="{"+c.join(",")+"}",this.assign(e,h),i(h);break;case Xi.ThisExpression:this.assign(e,"s"),i("s");break;case Xi.NGValueParameter:this.assign(e,"v"),i("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){return t?(this.current().body.push(t,"=",e,";"),t):void 0},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},lazyRecurse:function(t,e,n,r,i,o){var a=this;return function(){a.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(S(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(E(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw Hi("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},sn.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,Je(r,n.$filter);var i,a;(i=nn(r))&&(a=this.recurse(i));var s,l=tn(r.body);l&&(s=[],o(l,function(t,e){var r=n.recurse(t);t.input=r,s.push(r),t.watchId=e}));var u=[];o(r.body,function(t){u.push(n.recurse(t.expression))});var c=0===r.body.length?function(){}:1===r.body.length?u[0]:function(t,e){var n;return o(u,function(r){n=r(t,e)}),n};return a&&(c.assign=function(t,e,n){return a(t,n,e)}),s&&(c.inputs=s),c.literal=rn(r),c.constant=on(r),c},recurse:function(t,e,r){var i,a,s,l=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Xi.Literal:return this.value(t.value,e);case Xi.UnaryExpression:return a=this.recurse(t.argument),this["unary"+t.operator](a,e);case Xi.BinaryExpression:return i=this.recurse(t.left),a=this.recurse(t.right),this["binary"+t.operator](i,a,e);case Xi.LogicalExpression:return i=this.recurse(t.left),a=this.recurse(t.right),this["binary"+t.operator](i,a,e);case Xi.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Xi.Identifier:return We(t.name,l.expression),l.identifier(t.name,l.expensiveChecks||un(t.name),e,r,l.expression);case Xi.MemberExpression:return i=this.recurse(t.object,!1,!!r),t.computed||(We(t.property.name,l.expression),a=t.property.name),t.computed&&(a=this.recurse(t.property)),t.computed?this.computedMember(i,a,e,r,l.expression):this.nonComputedMember(i,a,l.expensiveChecks,e,r,l.expression);
case Xi.CallExpression:return s=[],o(t.arguments,function(t){s.push(l.recurse(t))}),t.filter&&(a=this.$filter(t.callee.name)),t.filter||(a=this.recurse(t.callee,!0)),t.filter?function(t,r,i,o){for(var l=[],u=0;u<s.length;++u)l.push(s[u](t,r,i,o));var c=a.apply(n,l,o);return e?{context:n,name:n,value:c}:c}:function(t,n,r,i){var o,u=a(t,n,r,i);if(null!=u.value){Ge(u.context,l.expression),Ke(u.value,l.expression);for(var c=[],h=0;h<s.length;++h)c.push(Ge(s[h](t,n,r,i),l.expression));o=Ge(u.value.apply(u.context,c),l.expression)}return e?{value:o}:o};case Xi.AssignmentExpression:return i=this.recurse(t.left,!0,1),a=this.recurse(t.right),function(t,n,r,o){var s=i(t,n,r,o),u=a(t,n,r,o);return Ge(s.value,l.expression),s.context[s.name]=u,e?{value:u}:u};case Xi.ArrayExpression:return s=[],o(t.elements,function(t){s.push(l.recurse(t))}),function(t,n,r,i){for(var o=[],a=0;a<s.length;++a)o.push(s[a](t,n,r,i));return e?{value:o}:o};case Xi.ObjectExpression:return s=[],o(t.properties,function(t){s.push({key:t.key.type===Xi.Identifier?t.key.name:""+t.key.value,value:l.recurse(t.value)})}),function(t,n,r,i){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(t,n,r,i);return e?{value:o}:o};case Xi.ThisExpression:return function(t){return e?{value:t}:t};case Xi.NGValueParameter:return function(t,n,r,i){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=w(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=w(a)?-a:0,e?{value:a}:a}},"unary!":function(t,e){return function(n,r,i,o){var a=!t(n,r,i,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),l=e(r,i,o,a),u=Ze(s,l);return n?{value:u}:u}},"binary-":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),l=e(r,i,o,a),u=(w(s)?s:0)-(w(l)?l:0);return n?{value:u}:u}},"binary*":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)*e(r,i,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)/e(r,i,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)%e(r,i,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)===e(r,i,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!==e(r,i,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)==e(r,i,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!=e(r,i,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<e(r,i,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>e(r,i,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<=e(r,i,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>=e(r,i,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)&&e(r,i,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)||e(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,r){return function(i,o,a,s){var l=t(i,o,a,s)?e(i,o,a,s):n(i,o,a,s);return r?{value:l}:l}},value:function(t,e){return function(){return e?{context:n,name:n,value:t}:t}},identifier:function(t,e,r,i,o){return function(a,s,l,u){var c=s&&t in s?s:a;i&&1!==i&&c&&!c[t]&&(c[t]={});var h=c?c[t]:n;return e&&Ge(h,o),r?{context:c,name:t,value:h}:h}},computedMember:function(t,e,n,r,i){return function(o,a,s,l){var u,c,h=t(o,a,s,l);return null!=h&&(u=e(o,a,s,l),We(u,i),r&&1!==r&&h&&!h[u]&&(h[u]={}),c=h[u],Ge(c,i)),n?{context:h,name:u,value:c}:c}},nonComputedMember:function(t,e,r,i,o,a){return function(s,l,u,c){var h=t(s,l,u,c);o&&1!==o&&h&&!h[e]&&(h[e]={});var d=null!=h?h[e]:n;return(r||un(e))&&Ge(d,a),i?{context:h,name:e,value:d}:d}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}};var Zi=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new Xi(this.lexer),this.astCompiler=n.csp?new sn(this.ast,e):new an(this.ast,e)};Zi.prototype={constructor:Zi,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var Qi=(gt(),gt(),Object.prototype.valueOf),Ji=r("$sce"),to={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Mi=r("$compile"),eo=e.createElement("a"),no=Tn(t.location.href);Mn.$inject=["$document"],Dn.$inject=["$provide"],On.$inject=["$locale"],Bn.$inject=["$locale"];var ro=".",io={yyyy:Un("FullYear",4),yy:Un("FullYear",2,0,!0),y:Un("FullYear",1),MMMM:Fn("Month"),MMM:Fn("Month",!0),MM:Un("Month",2,1),M:Un("Month",1,1),dd:Un("Date",2),d:Un("Date",1),HH:Un("Hours",2),H:Un("Hours",1),hh:Un("Hours",2,-12),h:Un("Hours",1,-12),mm:Un("Minutes",2),m:Un("Minutes",1),ss:Un("Seconds",2),s:Un("Seconds",1),sss:Un("Milliseconds",3),EEEE:Fn("Day"),EEE:Fn("Day",!0),a:Yn,Z:zn,ww:qn(2),w:qn(1),G:Wn,GG:Wn,GGG:Wn,GGGG:Gn},oo=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ao=/^\-?\d+$/;Kn.$inject=["$locale"];var so=v(wr),lo=v(xr);Qn.$inject=["$parse"];var uo=v({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Ir.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),co={};o(pi,function(t,e){function n(t,n,i){t.$watch(i[r],function(t){i.$set(e,!!t)})}if("multiple"!=t){var r=ue("ng-"+e),i=n;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[r]&&n(t,e,i)}),co[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(gi,function(t,e){co[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(_r);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=ue("ng-"+t);co[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===Ir.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){return e?(i.$set(a,e),void($r&&o&&r.prop(o,i[a]))):void("href"===t&&i.$set(a,null))})}}}});var ho={$addControl:m,$$renameControl:tr,$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m,$setSubmitted:m},fo="ng-submitted";er.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var po=function(t){return["$timeout",function(e){var r={name:"form",restrict:t?"EAC":"E",controller:er,compile:function(r,i){r.addClass(Go).addClass(Yo);var o=i.name?"name":t&&i.ngForm?"ngForm":!1;return{pre:function(t,r,i,a){if(!("action"in i)){var s=function(e){t.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),e.preventDefault()};ni(r[0],"submit",s),r.on("$destroy",function(){e(function(){ri(r[0],"submit",s)},0,!1)})}var l=a.$$parentForm;o&&(ln(t,a.$name,a,a.$name),i.$observe(o,function(e){a.$name!==e&&(ln(t,a.$name,n,a.$name),l.$$renameControl(a,e),ln(t,a.$name,a,a.$name))})),r.on("$destroy",function(){l.$removeControl(a),o&&ln(t,i[o],n,a.$name),h(a,ho)})}}}};return r}]},mo=po(),go=po(!0),vo=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,_o=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,yo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,wo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,bo=/^(\d{4})-(\d{2})-(\d{2})$/,xo=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,So=/^(\d{4})-W(\d\d)$/,Eo=/^(\d{4})-(\d\d)$/,$o=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,To={text:rr,date:sr("date",bo,ar(bo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":sr("datetimelocal",xo,ar(xo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:sr("time",$o,ar($o,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:sr("week",So,or,"yyyy-Www"),month:sr("month",Eo,ar(Eo,["yyyy","MM"]),"yyyy-MM"),number:ur,url:cr,email:hr,radio:dr,checkbox:pr,hidden:m,button:m,submit:m,reset:m,file:m},Co=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(To[wr(a.type)]||To.text)(i,o,a,s[0],e,t,n,r)}}}}],ko=/^(true|false|\d+)$/,Mo=function(){return{restrict:"A",priority:100,compile:function(t,e){return ko.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Ao=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,r,i){t.$$addBindingInfo(r,i.ngBind),r=r[0],e.$watch(i.ngBind,function(t){r.textContent=t===n?"":t})}}}}],Do=["$interpolate","$compile",function(t,e){return{compile:function(r){return e.$$addBindingClass(r),function(r,i,o){var a=t(i.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(i,a.expressions),i=i[0],o.$observe("ngBindTemplate",function(t){i.textContent=t===n?"":t})}}}}],Io=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){r.html(t.getTrustedHtml(o(e))||"")})}}}}],Po=v({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Lo=mr("",!0),No=mr("Odd",0),Oo=mr("Even",1),Bo=Jn({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),Ro=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Vo={},Uo={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=ue("ng-"+t);Vo[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};Uo[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var Fo=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=e.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},t.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=mt(s.clone),t.leave(u).then(function(){u=null}),s=null))})}}}],zo=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Nr.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,l,u,c){var h,d,f,p=0,m=function(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),f&&(n.leave(f).then(function(){d=null}),d=f,f=null)};r.$watch(o,function(o){var l=function(){!w(s)||s&&!r.$eval(s)||e()},d=++p;o?(t(o,!0).then(function(t){if(d===p){var e=r.$new();u.template=t;var s=c(e,function(t){m(),n.enter(t,null,i).then(l)});h=e,f=s,h.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){d===p&&(m(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(m(),u.template=null)})}}}}],Ho=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return/SVG/.test(r[0].toString())?(r.empty(),void t(Tt(o.template,e).childNodes)(n,function(t){r.append(t)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],jo=Jn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),qo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,r,i){var a=e.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,l=s?Ur(a):a,u=function(t){if(!y(t)){var e=[];return t&&o(t.split(l),function(t){t&&e.push(s?Ur(t):t)}),e}};i.$parsers.push(u),i.$formatters.push(function(t){return Rr(t)?t.join(a):n}),i.$isEmpty=function(t){return!t||!t.length}}}},Yo="ng-valid",Wo="ng-invalid",Go="ng-pristine",Ko="ng-dirty",Xo="ng-untouched",Zo="ng-touched",Qo="ng-pending",Jo=new r("ngModel"),ta=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,r,i,a,s,l,u,c,h){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=h(r.name||"",!1)(t);var d,f=a(r.ngModel),p=f.assign,g=f,v=p,_=null,b=this;this.$$setOptions=function(t){if(b.$options=t,t&&t.getterSetter){var e=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");g=function(t){var n=f(t);return T(n)&&(n=e(t)),n},v=function(t,e){T(f(t))?n(t,{$$$p:b.$modelValue}):p(t,b.$modelValue)}}else if(!f.assign)throw Jo("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,Q(i))},this.$render=m,this.$isEmpty=function(t){return y(t)||""===t||null===t||t!==t};var x=i.inheritedData("$formController")||ho,S=0;gr({ctrl:this,$element:i,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:x,$animate:s}),this.$setPristine=function(){b.$dirty=!1,b.$pristine=!0,s.removeClass(i,Ko),s.addClass(i,Go)},this.$setDirty=function(){b.$dirty=!0,b.$pristine=!1,s.removeClass(i,Go),s.addClass(i,Ko),x.$setDirty()},this.$setUntouched=function(){b.$touched=!1,b.$untouched=!0,s.setClass(i,Xo,Zo)},this.$setTouched=function(){b.$touched=!0,b.$untouched=!1,s.setClass(i,Zo,Xo)},this.$rollbackViewValue=function(){l.cancel(_),b.$viewValue=b.$$lastCommittedViewValue,b.$render()},this.$validate=function(){if(!E(b.$modelValue)||!isNaN(b.$modelValue)){var t=b.$$lastCommittedViewValue,e=b.$$rawModelValue,r=b.$valid,i=b.$modelValue,o=b.$options&&b.$options.allowInvalid;b.$$runValidators(e,t,function(t){o||r===t||(b.$modelValue=t?e:n,b.$modelValue!==i&&b.$$writeModelToScope())})}},this.$$runValidators=function(t,e,r){function i(){var t=b.$$parserName||"parse";return d!==n?(d||(o(b.$validators,function(t,e){l(e,null)}),o(b.$asyncValidators,function(t,e){l(e,null)})),l(t,d),d):(l(t,null),!0)}function a(){var n=!0;return o(b.$validators,function(r,i){var o=r(t,e);n=n&&o,l(i,o)}),n?!0:(o(b.$asyncValidators,function(t,e){l(e,null)}),!1)}function s(){var r=[],i=!0;o(b.$asyncValidators,function(o,a){var s=o(t,e);if(!L(s))throw Jo("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);l(a,n),r.push(s.then(function(){l(a,!0)},function(t){i=!1,l(a,!1)}))}),r.length?c.all(r).then(function(){u(i)},m):u(!0)}function l(t,e){h===S&&b.$setValidity(t,e)}function u(t){h===S&&r(t)}S++;var h=S;return i()&&a()?void s():void u(!1)},this.$commitViewValue=function(){var t=b.$viewValue;l.cancel(_),(b.$$lastCommittedViewValue!==t||""===t&&b.$$hasNativeValidators)&&(b.$$lastCommittedViewValue=t,b.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){b.$modelValue!==a&&b.$$writeModelToScope()}var r=b.$$lastCommittedViewValue,i=r;if(d=y(i)?n:!0)for(var o=0;o<b.$parsers.length;o++)if(i=b.$parsers[o](i),y(i)){d=!1;break}E(b.$modelValue)&&isNaN(b.$modelValue)&&(b.$modelValue=g(t));var a=b.$modelValue,s=b.$options&&b.$options.allowInvalid;b.$$rawModelValue=i,s&&(b.$modelValue=i,e()),b.$$runValidators(i,b.$$lastCommittedViewValue,function(t){s||(b.$modelValue=t?i:n,e())})},this.$$writeModelToScope=function(){v(t,b.$modelValue),o(b.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){b.$viewValue=t,(!b.$options||b.$options.updateOnDefault)&&b.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,r=0,i=b.$options;i&&w(i.debounce)&&(n=i.debounce,E(n)?r=n:E(n[e])?r=n[e]:E(n["default"])&&(r=n["default"])),l.cancel(_),r?_=l(function(){b.$commitViewValue()},r):u.$$phase?b.$commitViewValue():t.$apply(function(){b.$commitViewValue()})},t.$watch(function(){var e=g(t);if(e!==b.$modelValue&&(b.$modelValue===b.$modelValue||e===e)){b.$modelValue=b.$$rawModelValue=e,d=n;for(var r=b.$formatters,i=r.length,o=e;i--;)o=r[i](o);b.$viewValue!==o&&(b.$viewValue=b.$$lastCommittedViewValue=o,b.$render(),b.$$runValidators(e,o,m))}return e})}],ea=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ta,priority:1,compile:function(e){return e.addClass(Go).addClass(Xo).addClass(Yo),{pre:function(t,e,n,r){var i=r[0],o=r[1]||ho;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&o.$$renameControl(i,t)}),t.$on("$destroy",function(){o.$removeControl(i)})},post:function(e,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(n){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],na=/(\s+|^)default(\s+|$)/,ra=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var r=this;this.$options=U(t.$eval(e.ngModelOptions)),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=Ur(this.$options.updateOn.replace(na,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ia=Jn({terminal:!0,priority:1e3}),oa=r("ngOptions"),aa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,sa=["$compile","$parse",function(t,n){function r(t,e,r){function o(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function a(t){var e;if(!u&&i(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var s=t.match(aa);if(!s)throw oa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,Q(e));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],h=s[9],d=n(s[2]?s[1]:l),f=c&&n(c),p=f||d,m=h&&n(h),g=h?function(t,e){return m(r,e)}:function(t){return Gt(t)},v=function(t,e){return g(t,S(t,e))},_=n(s[2]||s[1]),y=n(s[3]||""),w=n(s[4]||""),b=n(s[8]),x={},S=u?function(t,e){return x[u]=e,x[l]=t,x}:function(t){return x[l]=t,x};return{trackBy:h,getTrackByValue:v,getWatchables:n(b,function(t){var e=[];t=t||[];for(var n=a(t),i=n.length,o=0;i>o;o++){var l=t===n?o:n[o],u=(t[l],S(t[l],l)),c=g(t[l],u);if(e.push(c),s[2]||s[1]){var h=_(r,u);e.push(h)}if(s[4]){var d=w(r,u);e.push(d)}}return e}),getOptions:function(){for(var t=[],e={},n=b(r)||[],i=a(n),s=i.length,l=0;s>l;l++){var u=n===i?l:i[l],c=n[u],d=S(c,u),f=p(r,d),m=g(f,d),x=_(r,d),E=y(r,d),$=w(r,d),T=new o(m,f,x,E,$);t.push(T),e[m]=T}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[v(t)]},getViewValueFromOption:function(t){return h?Nr.copy(t.viewValue):t.viewValue}}}}}var a=e.createElement("option"),s=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(e,n,i,l){function u(t,e){t.element=e,e.disabled=t.disabled,t.value!==e.value&&(e.value=t.selectValue),t.label!==e.label&&(e.label=t.label,e.textContent=t.label)}function c(t,e,n,r){var i;return e&&wr(e.nodeName)===n?i=e:(i=r.cloneNode(!1),e?t.insertBefore(i,e):t.appendChild(i)),i}function h(t){for(var e;t;)e=t.nextSibling,zt(t),t=e}function d(t){var e=m&&m[0],n=x&&x[0];if(e||n)for(;t&&(t===e||t===n);)t=t.nextSibling;return t}function f(){var t=S&&g.readValue();S=E.getOptions();var e={},r=n[0].firstChild;if(b&&n.prepend(m),r=d(r),S.items.forEach(function(t){var i,o,l;t.group?(i=e[t.group],i||(o=c(n[0],r,"optgroup",s),r=o.nextSibling,o.label=t.group,i=e[t.group]={groupElement:o,currentOptionElement:o.firstChild}),l=c(i.groupElement,i.currentOptionElement,"option",a),u(t,l),i.currentOptionElement=l.nextSibling):(l=c(n[0],r,"option",a),u(t,l),r=l.nextSibling)}),Object.keys(e).forEach(function(t){h(e[t].currentOptionElement)}),h(r),p.$render(),!p.$isEmpty(t)){var i=g.readValue();(E.trackBy?z(t,i):t===i)||(p.$setViewValue(i),p.$render())}}var p=l[1];if(p){for(var m,g=l[0],v=i.multiple,_=0,y=n.children(),w=y.length;w>_;_++)if(""===y[_].value){m=y.eq(_);break}var b=!!m,x=Tr(a.cloneNode(!1));x.val("?");var S,E=r(i.ngOptions,n,e),$=function(){b||n.prepend(m),n.val(""),m.prop("selected",!0),m.attr("selected",!0)},T=function(){b||m.remove()},C=function(){n.prepend(x),n.val("?"),x.prop("selected",!0),x.attr("selected",!0)},k=function(){x.remove()};v?(p.$isEmpty=function(t){return!t||0===t.length},g.writeValue=function(t){S.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=S.getOptionFromViewValue(t);e&&!e.disabled&&(e.element.selected=!0)})},g.readValue=function(){var t=n.val()||[],e=[];return o(t,function(t){var n=S.selectValueMap[t];n.disabled||e.push(S.getViewValueFromOption(n))}),e},E.trackBy&&e.$watchCollection(function(){return Rr(p.$viewValue)?p.$viewValue.map(function(t){return E.getTrackByValue(t)}):void 0},function(){p.$render()})):(g.writeValue=function(t){var e=S.getOptionFromViewValue(t);e&&!e.disabled?n[0].value!==e.selectValue&&(k(),T(),n[0].value=e.selectValue,e.element.selected=!0,e.element.setAttribute("selected","selected")):null===t||b?(k(),$()):(T(),C())},g.readValue=function(){var t=S.selectValueMap[n.val()];return t&&!t.disabled?(T(),k(),S.getViewValueFromOption(t)):null},E.trackBy&&e.$watch(function(){return E.getTrackByValue(p.$viewValue)},function(){p.$render()})),b?(m.remove(),t(m)(e),m.removeClass("ng-scope")):m=Tr(a.cloneNode(!1)),f(),e.$watchCollection(E.getWatchables,f)}}}}],la=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(t){s.text(t||"")}var c,h=l.count,d=l.$attr.when&&s.attr(l.$attr.when),f=l.offset||0,p=a.$eval(d)||{},g={},v=e.startSymbol(),_=e.endSymbol(),w=v+h+"-"+f+_,b=Nr.noop;o(l,function(t,e){var n=i.exec(e);if(n){var r=(n[1]?"-":"")+wr(n[2]);p[r]=s.attr(l.$attr[e])}}),o(p,function(t,n){g[n]=e(t.replace(r,w))}),a.$watch(h,function(e){var r=parseFloat(e),i=isNaN(r);if(i||r in p||(r=t.pluralCat(r-f)),r!==c&&!(i&&E(c)&&isNaN(c))){b();var o=g[r];y(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+d),b=m,u()):b=a.$watch(o,u),c=r}})}}}],ua=["$parse","$animate",function(t,a){var s="$$NG_REMOVED",l=r("ngRepeat"),u=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},c=function(t){return t.clone[0]},h=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,d){var f=d.ngRepeat,p=e.createComment(" end ngRepeat: "+f+" "),m=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var g=m[1],v=m[2],_=m[3],y=m[4];if(m=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!m)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var w=m[3]||m[1],b=m[2];if(_&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(_)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(_)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",_);var x,S,E,$,T={$id:Gt};return y?x=t(y):(E=function(t,e){return Gt(e)},$=function(t){return t}),function(t,e,r,d,m){x&&(S=function(e,n,r){return b&&(T[b]=e),T[w]=n,T.$index=r,x(t,T)});var g=gt();t.$watchCollection(v,function(r){var d,v,y,x,T,C,k,M,A,D,I,P,L=e[0],N=gt();if(_&&(t[_]=r),i(r))A=r,M=S||E;else{M=S||$,A=[];for(var O in r)r.hasOwnProperty(O)&&"$"!==O.charAt(0)&&A.push(O)}for(x=A.length,I=new Array(x),d=0;x>d;d++)if(T=r===A?d:A[d],C=r[T],k=M(T,C,d),g[k])D=g[k],delete g[k],N[k]=D,I[d]=D;else{if(N[k])throw o(I,function(t){t&&t.scope&&(g[t.id]=t)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,k,C);I[d]={id:k,scope:n,clone:n},N[k]=!0}for(var B in g){if(D=g[B],P=mt(D.clone),a.leave(P),P[0].parentNode)for(d=0,v=P.length;v>d;d++)P[d][s]=!0;D.scope.$destroy()}for(d=0;x>d;d++)if(T=r===A?d:A[d],C=r[T],D=I[d],D.scope){y=L;do y=y.nextSibling;while(y&&y[s]);c(D)!=y&&a.move(mt(D.clone),null,Tr(L)),L=h(D),u(D.scope,d,w,C,b,T,x)}else m(function(t,e){D.scope=e;var n=p.cloneNode(!1);t[t.length++]=n,a.enter(t,null,Tr(L)),L=n,D.clone=t,N[D.id]=D,u(D.scope,d,w,C,b,T,x)});g=N})}}}}],ca="ng-hide",ha="ng-hide-animate",da=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,ca,{tempClasses:ha})})}}}],fa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,ca,{tempClasses:ha})})}}}],pa=Jn(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),ma=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,l=[],u=[],c=[],h=[],d=function(t,e){return function(){t.splice(e,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=c.length;i>r;++r)t.cancel(c[r]);for(c.length=0,r=0,i=h.length;i>r;++r){var s=mt(u[r].clone);h[r].$destroy();var f=c[r]=t.leave(s);f.then(d(c,r))}u.length=0,h.length=0,(l=a.cases["!"+n]||a.cases["?"])&&o(l,function(n){n.transclude(function(r,i){h.push(i);var o=n.element;r[r.length++]=e.createComment(" end ngSwitchWhen: ");var a={clone:r};u.push(a),t.enter(r,o.parent(),o)})})})}}}],ga=Jn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),va=Jn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),_a=Jn({restrict:"EAC",link:function(t,e,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Q(e));o(function(t){e.empty(),e.append(t)})}}),ya=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],wa={$setViewValue:m,$render:m},ba=["$element","$scope","$attrs",function(t,r,i){var o=this,a=new Kt;o.ngModelCtrl=wa,o.unknownOption=Tr(e.createElement("option")),o.renderUnknownOption=function(e){var n="? "+Gt(e)+" ?";o.unknownOption.val(n),t.prepend(o.unknownOption),t.val(n)},r.$on("$destroy",function(){o.renderUnknownOption=m}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),t.val()},o.writeValue=function(e){o.hasOption(e)?(o.removeUnknownOption(),t.val(e),""===e&&o.emptyOption.prop("selected",!0)):null==e&&o.emptyOption?(o.removeUnknownOption(),t.val("")):o.renderUnknownOption(e)},o.addOption=function(t,e){ft(t,'"option value"'),""===t&&(o.emptyOption=e);var n=a.get(t)||0;a.put(t,n+1)},o.removeOption=function(t){var e=a.get(t);e&&(1===e?(a.remove(t),""===t&&(o.emptyOption=n)):a.put(t,e-1))},o.hasOption=function(t){return!!a.get(t)}}],xa=function(){return{restrict:"E",require:["select","?ngModel"],controller:ba,link:function(t,e,n,r){var i=r[1];if(i){var a=r[0];if(a.ngModelCtrl=i,i.$render=function(){a.writeValue(i.$viewValue)},e.on("change",function(){t.$apply(function(){i.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var t=[];return o(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},a.writeValue=function(t){var n=new Kt(t);o(e.find("option"),function(t){t.selected=w(n.get(t.value))})};var s,l=NaN;t.$watch(function(){l!==i.$viewValue||z(s,i.$viewValue)||(s=F(i.$viewValue),i.$render()),l=i.$viewValue}),i.$isEmpty=function(t){return!t||0===t.length}}}}}},Sa=["$interpolate",function(t){function e(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,r){if(y(r.value)){var i=t(n.text(),!0);i||r.$set("value",n.text())}return function(t,n,r){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.ngModelCtrl&&(i?t.$watch(i,function(t,i){r.$set("value",t),i!==t&&s.removeOption(i),s.addOption(t,n),s.ngModelCtrl.$render(),e(n)}):(s.addOption(r.value,n),s.ngModelCtrl.$render(),e(n)),n.on("$destroy",function(){s.removeOption(r.value),s.ngModelCtrl.$render()}))}}}}],Ea=v({restrict:"E",terminal:!1}),$a=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},Ta=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(S(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,Q(e));a=t||n,o.$validate()}),o.$validators.pattern=function(t){return o.$isEmpty(t)||y(a)||a.test(t)}}}}},Ca=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=f(t);i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return 0>i||r.$isEmpty(e)||e.length<=i}}}}},ka=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=f(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};return t.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ct(),wt(Nr),void Tr(e).ready(function(){ot(e,at)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(t,e,n){"use strict";function r(t,e,n){if(!t)throw ngMinErr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function i(t,e){return t||e?t?e?(R(t)&&(t=t.join(" ")),R(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function o(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function a(t,e,n){var r="";return t=R(t)?t:t&&V(t)&&t.length?t.split(/\s+/):[],B(t,function(t,i){t&&t.length>0&&(r+=i>0?" ":"",r+=n?e+t:t+e)}),r}function s(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}function l(t){if(t instanceof O)switch(t.length){case 0:return[];case 1:if(t[0].nodeType===q)return t;break;default:return O(u(t))}return t.nodeType===q?O(t):void 0}function u(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==q)return n}}function c(t,e,n){B(e,function(e){t.addClass(e,n)})}function h(t,e,n){B(e,function(e){t.removeClass(e,n)})}function d(t){return function(e,n){n.addClass&&(c(t,e,n.addClass),n.addClass=null),n.removeClass&&(h(t,e,n.removeClass),n.removeClass=null)}}function f(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||L;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=L},t.$$prepared=!0}return t}function p(t,e){m(t,e),g(t,e)}function m(t,e){e.from&&(t.css(e.from),
e.from=null)}function g(t,e){e.to&&(t.css(e.to),e.to=null)}function v(t,e,n){var r=(e.addClass||"")+" "+(n.addClass||""),i=(e.removeClass||"")+" "+(n.removeClass||""),o=_(t.attr("class"),r,i);return N(e,n),o.addClass?e.addClass=o.addClass:e.addClass=null,o.removeClass?e.removeClass=o.removeClass:e.removeClass=null,e}function _(t,e,n){function r(t){V(t)&&(t=t.split(" "));var e={};return B(t,function(t){t.length&&(e[t]=!0)}),e}var i=1,o=-1,a={};t=r(t),e=r(e),B(e,function(t,e){a[e]=i}),n=r(n),B(n,function(t,e){a[e]=a[e]===i?null:o});var s={addClass:"",removeClass:""};return B(a,function(e,n){var r,a;e===i?(r="addClass",a=!t[n]):e===o&&(r="removeClass",a=t[n]),a&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function y(t){return t instanceof e.element?t[0]:t}function w(t,e,n){var r=Object.create(null),i=t.getComputedStyle(e)||{};return B(n,function(t,e){var n=i[t];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=b(n)),0===n&&(n=null),r[e]=n}}),r}function b(t){var e=0,n=t.split(/\s*,\s*/);return B(n,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function x(t){return 0===t||null!=t}function S(t,e){var n=A,r=t+"s";return e?n+=Z:r+=" linear all",[n,r]}function E(t){return[lt,t+"s"]}function $(t,e){var n=e?st:ut;return[n,t+"s"]}function T(t,e){var n=e?"-"+e+"s":"";return k(t,[ut,n]),[ut,n]}function C(t,e){var n=e?"paused":"",r=I+nt;return k(t,[r,n]),[r,n]}function k(t,e){var n=e[0],r=e[1];t.style[n]=r}function M(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}var A,D,I,P,L=e.noop,N=e.extend,O=e.element,B=e.forEach,R=e.isArray,V=e.isString,U=e.isObject,F=e.isUndefined,z=e.isDefined,H=e.isFunction,j=e.isElement,q=1,Y="ng-animate",W="$$ngAnimateChildren",G=["$$rAF",function(t){function e(t){o.push([].concat(t)),n()}function n(){if(o.length){for(var e=[],a=0;a<o.length;a++){var s=o[a];r(s),s.length&&e.push(s)}o=e,i||t(function(){i||n()})}}function r(t){var e=t.shift();e()}var i,o=[];return e.waitUntilQuiet=function(e){i&&i(),i=t(function(){i=null,e(),n()})},e}],K=[function(){return function(t,n,r){var i=r.ngAnimateChildren;e.isString(i)&&0===i.length?n.data(W,!0):r.$observe("ngAnimateChildren",function(t){t="on"===t||"true"===t,n.data(W,t)})}}],X="";t.ontransitionend===n&&t.onwebkittransitionend!==n?(X="-webkit-",A="WebkitTransition",D="webkitTransitionEnd transitionend"):(A="transition",D="transitionend"),t.onanimationend===n&&t.onwebkitanimationend!==n?(X="-webkit-",I="WebkitAnimation",P="webkitAnimationEnd animationend"):(I="animation",P="animationend");var Z="Duration",Q="Property",J="Delay",tt="TimingFunction",et="IterationCount",nt="PlayState",rt=3,it=1.5,ot=1e3,at=9999,st=I+J,lt=I+Z,ut=A+J,ct=A+Z,ht={transitionDuration:ct,transitionDelay:ut,transitionProperty:A+Q,animationDuration:lt,animationDelay:st,animationIterationCount:I+et},dt={transitionDuration:ct,transitionDelay:ut,animationDuration:lt,animationDelay:st},ft=["$animateProvider",function(t){var e=M(),n=M();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$document","$sniffer","$$rAFScheduler",function(t,r,i,l,u,c,h){function v(t,e){var n="$$ngAnimateParentKey",r=t.parentNode,i=r[n]||(r[n]=++V);return i+"-"+t.getAttribute("class")+"-"+e}function _(n,r,i,o){var a=e.get(i);return a||(a=w(t,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),e.put(i,a),a}function b(i,o,s,l){var u;if(e.count(s)>0&&(u=n.get(s),!u)){var c=a(o,"-stagger");r.addClass(i,c),u=w(t,i,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),r.removeClass(i,c),n.put(s,u)}return u||{}}function M(t){F.push(t),h.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=U.offsetWidth+1,r=0;r<F.length;r++)F[r](t);F.length=0})}function L(t,e,n){var r=_(t,e,n,ht),i=r.animationDelay,o=r.transitionDelay;return r.maxDelay=i&&o?Math.max(i,o):i||o,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}function N(t,n){function u(){d()}function h(){d(!0)}function d(e){U||z&&F||(U=!0,F=!1,r.removeClass(t,lt),r.removeClass(t,ct),C(V,!1),T(V,!1),B(K,function(t){V.style[t[0]]=""}),O(t,n),p(t,n),n.onDone&&n.onDone(),H&&H.complete(!e))}function _(t){$t.blockTransition&&T(V,t),$t.blockKeyframeAnimation&&C(V,!!t)}function w(){return H=new i({end:u,cancel:h}),d(),{$$willAnimate:!1,start:function(){return H},end:u}}function N(){function e(){if(!U){if(_(!1),B(K,function(t){var e=t[0],n=t[1];V.style[e]=n}),O(t,n),r.addClass(t,ct),$t.recalculateTimingStyles){if(ut=V.className+" "+lt,pt=v(V,ut),St=L(V,ut,pt),Et=St.maxDelay,q=Math.max(Et,0),W=St.maxDuration,0===W)return void d();$t.hasTransitions=St.transitionDuration>0,$t.hasAnimations=St.animationDuration>0}if($t.applyTransitionDelay||$t.applyAnimationDelay){Et="boolean"!=typeof n.delay&&x(n.delay)?parseFloat(n.delay):Et,q=Math.max(Et,0);var e;$t.applyTransitionDelay&&(St.transitionDelay=Et,e=$(Et),K.push(e),V.style[e[0]]=e[1]),$t.applyAnimationDelay&&(St.animationDelay=Et,e=$(Et,!0),K.push(e),V.style[e[0]]=e[1])}if(Y=q*ot,G=W*ot,n.easing){var s,c=n.easing;$t.hasTransitions&&(s=A+tt,K.push([s,c]),V.style[s]=c),$t.hasAnimations&&(s=I+tt,K.push([s,c]),V.style[s]=c)}St.transitionDuration&&u.push(D),St.animationDuration&&u.push(P),a=Date.now(),t.on(u.join(" "),o),l(i,Y+it*G),g(t,n)}}function i(){d()}function o(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||e.timeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(rt));Math.max(n-a,0)>=Y&&r>=W&&(z=!0,d())}if(!U){if(!V.parentNode)return void d();var a,u=[],c=function(t){if(z)F&&t&&(F=!1,d());else if(F=!t,St.animationDuration){var e=C(V,F);F?K.push(e):s(K,e)}},h=bt>0&&(St.transitionDuration&&0===mt.transitionDuration||St.animationDuration&&0===mt.animationDuration)&&Math.max(mt.animationDelay,mt.transitionDelay);h?l(e,Math.floor(h*bt*ot),!1):e(),j.resume=function(){c(!0)},j.pause=function(){c(!1)}}}var V=y(t);if(!V||!V.parentNode)return w();n=f(n);var U,F,z,H,j,q,Y,W,G,K=[],X=t.attr("class"),Z=o(n);if(0===n.duration||!c.animations&&!c.transitions)return w();var J=n.event&&R(n.event)?n.event.join(" "):n.event,et=J&&n.structural,nt="",st="";et?nt=a(J,"ng-",!0):J&&(nt=J),n.addClass&&(st+=a(n.addClass,"-add")),n.removeClass&&(st.length&&(st+=" "),st+=a(n.removeClass,"-remove")),n.applyClassesEarly&&st.length&&(O(t,n),st="");var lt=[nt,st].join(" ").trim(),ut=X+" "+lt,ct=a(lt,"-active"),ht=Z.to&&Object.keys(Z.to).length>0,ft=(n.keyframeStyle||"").length>0;if(!ft&&!ht&&!lt)return w();var pt,mt;if(n.stagger>0){var gt=parseFloat(n.stagger);mt={transitionDelay:gt,animationDelay:gt,transitionDuration:0,animationDuration:0}}else pt=v(V,ut),mt=b(V,lt,pt,dt);r.addClass(t,lt);var vt;if(n.transitionStyle){var _t=[A,n.transitionStyle];k(V,_t),K.push(_t)}if(n.duration>=0){vt=V.style[A].length>0;var yt=S(n.duration,vt);k(V,yt),K.push(yt)}if(n.keyframeStyle){var wt=[I,n.keyframeStyle];k(V,wt),K.push(wt)}var bt=mt?n.staggerIndex>=0?n.staggerIndex:e.count(pt):0,xt=0===bt;xt&&T(V,at);var St=L(V,ut,pt),Et=St.maxDelay;q=Math.max(Et,0),W=St.maxDuration;var $t={};return $t.hasTransitions=St.transitionDuration>0,$t.hasAnimations=St.animationDuration>0,$t.hasTransitionAll=$t.hasTransitions&&"all"==St.transitionProperty,$t.applyTransitionDuration=ht&&($t.hasTransitions&&!$t.hasTransitionAll||$t.hasAnimations&&!$t.hasTransitions),$t.applyAnimationDuration=n.duration&&$t.hasAnimations,$t.applyTransitionDelay=x(n.delay)&&($t.applyTransitionDuration||$t.hasTransitions),$t.applyAnimationDelay=x(n.delay)&&$t.hasAnimations,$t.recalculateTimingStyles=st.length>0,($t.applyTransitionDuration||$t.applyAnimationDuration)&&(W=n.duration?parseFloat(n.duration):W,$t.applyTransitionDuration&&($t.hasTransitions=!0,St.transitionDuration=W,vt=V.style[A+Q].length>0,K.push(S(W,vt))),$t.applyAnimationDuration&&($t.hasAnimations=!0,St.animationDuration=W,K.push(E(W)))),0!==W||$t.recalculateTimingStyles?(null==n.duration&&St.transitionDuration>0&&($t.recalculateTimingStyles=$t.recalculateTimingStyles||xt),Y=q*ot,G=W*ot,n.skipBlocking||($t.blockTransition=St.transitionDuration>0,$t.blockKeyframeAnimation=St.animationDuration>0&&mt.animationDelay>0&&0===mt.animationDuration),m(t,n),$t.blockTransition||T(V,!1),_(W),{$$willAnimate:!0,end:u,start:function(){return U?void 0:(j={end:u,cancel:h,resume:null,pause:null},H=new i(j),M(N),H)}}):w()}var O=d(r),V=0,U=y(u).body,F=[];return N}]}],pt=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var e="ng-animate-shim",n="ng-anchor",r="ng-anchor-out",i="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$document","$sniffer",function(t,o,a,s,l,u){function c(t){return t.replace(/\bng-\S+\b/g,"")}function h(t,e){return V(t)&&(t=t.split(" ")),V(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function d(o,s,l){function u(t){var e={},n=y(t).getBoundingClientRect();return B(["width","height","top","left"],function(t){var r=n[t];switch(t){case"top":r+=m.scrollTop;break;case"left":r+=m.scrollLeft}e[t]=Math.floor(r)+"px"}),e}function d(){var e=t(_,{addClass:r,delay:!0,from:u(s)});return e.$$willAnimate?e:null}function f(t){return t.attr("class")||""}function p(){var e=c(f(l)),n=h(e,w),o=h(w,e),a=t(_,{to:u(l),addClass:i+" "+n,removeClass:r+" "+o,delay:!0});return a.$$willAnimate?a:null}function g(){_.remove(),s.removeClass(e),l.removeClass(e)}var _=O(y(s).cloneNode(!0)),w=c(f(_));s.addClass(e),l.addClass(e),_.addClass(n),v.append(_);var b,x=d();if(!x&&(b=p(),!b))return g();var S=x||b;return{start:function(){function t(){n&&n.end()}var e,n=S.start();return n.done(function(){return n=null,!b&&(b=p())?(n=b.start(),n.done(function(){n=null,g(),e.complete()}),n):(g(),void e.complete())}),e=new a({end:t,cancel:t})}}}function f(t,e,n,r){var i=p(t),o=p(e),s=[];return B(r,function(t){var e=t.out,r=t["in"],i=d(n,e,r);i&&s.push(i)}),i||o||0!==s.length?{start:function(){function t(){B(e,function(t){t.end()})}var e=[];i&&e.push(i.start()),o&&e.push(o.start()),B(s,function(t){e.push(t.start())});var n=new a({end:t,cancel:t});return a.all(e,function(t){n.complete(t)}),n}}:void 0}function p(e){var n=e.element,r=e.options||{};e.structural?(r.structural=r.applyClassesEarly=!0,r.event=e.event,"leave"===r.event&&(r.onDone=r.domOperation)):r.event=null;var i=t(n,r);return i.$$willAnimate?i:null}if(!u.animations&&!u.transitions)return L;var m=y(l).body,g=y(s),v=O(m.parentNode===g?m:g);return function(t){return t.from&&t.to?f(t.from,t.to,t.classes,t.anchors):p(t)}}]}],mt=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$rAFMutex","$$jqLite",function(e,n,r,i){function o(n){n=R(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=t.$$registeredAnimations[a];s&&!i[a]&&(r.push(e.get(s)),i[a]=!0)}return r}var a=d(i);return function(t,e,r,i){function s(){i.domOperation(),a(t,i)}function l(t,e,r,i,o){var a;switch(r){case"animate":a=[e,i.from,i.to,o];break;case"setClass":a=[e,m,g,o];break;case"addClass":a=[e,m,o];break;case"removeClass":a=[e,g,o];break;default:a=[e,o]}a.push(i);var s=t.apply(t,a);if(s)if(H(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(H(s))return s;return L}function u(t,e,r,i,o){var a=[];return B(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,u=function(t){a||(a=!0,(o||L)(t),i.complete(!t))};return i=new n({end:function(){u()},cancel:function(){u(!0)}}),o=l(s,t,e,r,function(t){var e=t===!1;u(e)}),i})}),a}function c(t,e,r,i,o){var a=u(t,e,r,i,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=u(t,"removeClass",r,i,"beforeRemoveClass"),l=u(t,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=u(t,"removeClass",r,i,"removeClass"),l=u(t,"addClass",r,i,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(t){var e=[];return a.length&&B(a,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){B(e,function(e){t?e.cancel():e.end()})}}}3===arguments.length&&U(r)&&(i=r,r=null),i=f(i),r||(r=t.attr("class")||"",i.addClass&&(r+=" "+i.addClass),i.removeClass&&(r+=" "+i.removeClass));var h,d,m=i.addClass,g=i.removeClass,v=o(r);if(v.length){var _,y;"leave"==e?(y="leave",_="afterLeave"):(y="before"+e.charAt(0).toUpperCase()+e.substr(1),_=e),"enter"!==e&&"move"!==e&&(h=c(t,e,i,v,y)),d=c(t,e,i,v,_)}return h||d?{start:function(){function e(e){l=!0,s(),p(t,i),u.complete(e)}function r(t){l||((o||L)(t),e(t))}var o,a=[];h&&a.push(function(t){o=h(t)}),a.length?a.push(function(t){s(),t(!0)}):s(),d&&a.push(function(t){o=d(t)});var l=!1,u=new n({end:function(){r()},cancel:function(){r(!0)}});return n.chain(a,e),u}}:void 0}}]}],gt=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,r=e.event,i=e.options,o=e.classes;return t(n,r,o,i)}return function(t){if(t.from&&t.to){var r=n(t.from),i=n(t.to);if(!r&&!i)return;return{start:function(){function t(){return function(){B(o,function(t){t.end()})}}function n(t){a.complete(t)}var o=[];r&&o.push(r.start()),i&&o.push(i.start()),e.all(o,n);var a=new e({end:t(),cancel:t()});return a}}}return n(t)}}]}],vt="data-ng-animate",_t="$ngAnimatePin",yt=["$animateProvider",function(t){function e(t,e,n,r){return a[t].some(function(t){return t(e,n,r)})}function n(t,e){t=t||{};var n=(t.addClass||"").length>0,r=(t.removeClass||"").length>0;return e?n&&r:n||r}var i=1,o=2,a=this.rules={skip:[],cancel:[],join:[]};a.join.push(function(t,e,r){return!e.structural&&n(e.options)}),a.skip.push(function(t,e,r){return!e.structural&&!n(e.options)}),a.skip.push(function(t,e,n){return"leave"==n.event&&e.structural}),a.skip.push(function(t,e,n){return n.structural&&!e.structural}),a.cancel.push(function(t,e,n){return n.structural&&e.structural}),a.cancel.push(function(t,e,n){return n.state===o&&e.structural}),a.cancel.push(function(t,e,n){var r=e.options,i=n.options;return r.addClass&&r.addClass===i.removeClass||r.removeClass&&r.removeClass===i.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite",function(a,s,c,h,m,g,_,w,b){function x(t,e){return v(t,e,{})}function S(t,e){var n=y(t),r=[],i=Y[e];return i&&B(i,function(t){t.node.contains(n)&&r.push(t.callback)}),r}function E(t,e,n,r){a(function(){B(S(e,t),function(t){t(e,n,r)})})}function $(t,r,a){function u(e,n,r,i){E(n,t,r,i),e.progress(n,r,i)}function c(e){X(t,a),p(t,a),a.domOperation(),m.complete(!e)}var h,d;t=l(t),t&&(h=y(t),d=t.parent()),a=f(a);var m=new _;if(!h)return c(),m;R(a.addClass)&&(a.addClass=a.addClass.join(" ")),R(a.removeClass)&&(a.removeClass=a.removeClass.join(" ")),a.from&&!U(a.from)&&(a.from=null),a.to&&!U(a.to)&&(a.to=null);var w=[h.className,a.addClass,a.removeClass].join(" ");if(!K(w))return c(),m;var b=["enter","move","leave"].indexOf(r)>=0,S=!L||P.get(h),$=!S&&I.get(h)||{},k=!!$.state;if(S||k&&$.state==i||(S=!A(t,d,r)),S)return c(),m;b&&T(t);var N={structural:b,element:t,event:r,close:c,options:a,runner:m};if(k){var O=e("skip",t,N,$);if(O)return $.state===o?(c(),m):(v(t,$.options,a),$.runner);var B=e("cancel",t,N,$);if(B)$.state===o?$.runner.end():$.structural?$.close():v(t,N.options,$.options);else{var V=e("join",t,N,$);if(V){if($.state!==o)return r=N.event=$.event,a=v(t,$.options,N.options),m;x(t,a)}}}else x(t,a);var F=N.structural;if(F||(F="animate"===N.event&&Object.keys(N.options.to||{}).length>0||n(N.options)),!F)return c(),C(t),m;b&&M(d);var z=($.counter||0)+1;return N.counter=z,D(t,i,N),s.$$postDigest(function(){var e=I.get(h),i=!e;e=e||{};var s=t.parent()||[],l=s.length>0&&("animate"===e.event||e.structural||n(e.options));if(i||e.counter!==z||!l)return i&&(X(t,a),p(t,a)),(i||b&&e.event!==r)&&(a.domOperation(),m.end()),void(l||C(t));r=!e.structural&&n(e.options,!0)?"setClass":e.event,e.structural&&M(s),D(t,o);var d=g(t,r,e.options);d.done(function(e){c(!e);var n=I.get(h);n&&n.counter===z&&C(y(t)),u(m,r,"close",{})}),m.setHost(d),u(m,r,"start",{})}),m}function T(t){var e=y(t),n=e.querySelectorAll("["+vt+"]");B(n,function(t){var e=parseInt(t.getAttribute(vt)),n=I.get(t);switch(e){case o:n.runner.end();case i:n&&I.remove(t)}})}function C(t){var e=y(t);e.removeAttribute(vt),I.remove(e)}function k(t,e){return y(t)===y(e)}function M(t){function e(t,e){!e.structural&&n(e.options)&&(e.state===o&&e.runner.end(),C(t))}for(var r=y(t);;){if(!r||r.nodeType!==q)break;var i=I.get(r);i&&e(r,i),r=r.parentNode}}function A(t,e,n){var r,i=!1,o=!1,a=!1,s=t.data(_t);for(s&&(e=s);e&&e.length;){o||(o=k(e,c));var l=e[0];if(l.nodeType!==q)break;var u=I.get(l)||{};if(a||(a=u.structural||P.get(l)),F(r)||r===!0){var h=e.data(W);z(h)&&(r=h)}if(a&&r===!1)break;o||(o=k(e,c),o||(s=e.data(_t),s&&(e=s))),i||(i=k(e,H)),e=e.parent()}var d=!a||r;return d&&o&&i}function D(t,e,n){n=n||{},n.state=e;var r=y(t);r.setAttribute(vt,e);var i=I.get(r),o=i?N(i,n):n;I.put(r,o)}var I=new m,P=new m,L=null,V=s.$watch(function(){return 0===w.totalPendingRequests},function(t){t&&(V(),s.$$postDigest(function(){s.$$postDigest(function(){null===L&&(L=!0)})}))}),H=O(h[0].body),Y={},G=t.classNameFilter(),K=G?function(t){return G.test(t)}:function(){return!0},X=d(b);return{on:function(t,e,n){var r=u(e);Y[t]=Y[t]||[],Y[t].push({node:r,callback:n})},off:function(t,e,n){function r(t,e,n){var r=u(e);return t.filter(function(t){var e=t.node===r&&(!n||t.callback===n);return!e})}var i=Y[t];i&&(Y[t]=1===arguments.length?null:r(i,e,n))},pin:function(t,e){r(j(t),"element","not an element"),r(j(e),"parentElement","not an element"),t.data(_t,e)},push:function(t,e,n,r){return n=n||{},n.domOperation=r,$(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!L;else{var r=j(t);if(r){var i=y(t),o=P.get(i);1===n?e=!o:(e=!!e,e?o&&P.remove(i):P.put(i,!0))}else e=L=!!t}return e}}}]}],wt=["$$rAF",function(t){return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}],bt=["$q","$$rAFMutex",function(t,e){function n(t){this.setHost(t),this._doneCallbacks=[],this._runInAnimationFrame=e(),this._state=0}var r=0,i=1,o=2;return n.chain=function(t,e){function n(){return r===t.length?void e(!0):void t[r](function(t){return t===!1?void e(!1):(r++,void n())})}var r=0;n()},n.all=function(t,e){function n(n){i=i&&n,++r===t.length&&e(i)}var r=0,i=!0;B(t,function(t){t.done(n)})},n.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===o?t():this._doneCallbacks.push(t)},progress:L,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===r&&(e._state=i,e._runInAnimationFrame(function(){e._resolve(t)}))},_resolve:function(t){this._state!==o&&(B(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=o)}},n}],xt=["$animateProvider",function(t){function e(t,e){t.data(s,e)}function n(t){t.removeData(s)}function r(t){return t.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$rAFScheduler",function(t,s,l,u,c){var h=[],m=d(t),g=0,v=0,_=[];return function(d,w,b){function x(t){var e="["+o+"]",n=t.hasAttribute(o)?[t]:t.querySelectorAll(e),r=[];return B(n,function(t){var e=t.getAttribute(o);e&&e.length&&r.push(t)}),r}function S(t){var e=[],n={};B(t,function(t,r){var i=t.element,a=y(i),s=t.event,l=["enter","move"].indexOf(s)>=0,u=t.structural?x(a):[];if(u.length){var c=l?"to":"from";B(u,function(t){var e=t.getAttribute(o);n[e]=n[e]||{},n[e][c]={animationID:r,element:O(t)}})}else e.push(t)});var r={},i={};return B(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var l=a?a.animationID:s.animationID,u=l.toString();return void(r[u]||(r[u]=!0,e.push(t[l])))}var c=t[a.animationID],h=t[s.animationID],d=a.animationID.toString();if(!i[d]){var f=i[d]={structural:!0,beforeStart:function(){c.beforeStart(),h.beforeStart()},close:function(){c.close(),h.close()},classes:E(c.classes,h.classes),from:c,to:h,anchors:[]};f.classes.length?e.push(f):(e.push(c),e.push(h))}i[d].anchors.push({out:a.element,"in":s.element})}),e}function E(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],r=0;r<t.length;r++){var i=t[r];if("ng-"!==i.substring(0,3))for(var o=0;o<e.length;o++)if(i===e[o]){n.push(i);break}}return n.join(" ")}function $(t){for(var e=a.length-1;e>=0;e--){var n=a[e];if(l.has(n)){var r=l.get(n),i=r(t);if(i)return i}}}function T(){d.addClass(Y),P&&t.addClass(d,P)}function C(t,e){function n(t){r(t).setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}function k(){var t=r(d);!t||"leave"===w&&b.$$domOperationFired||t.end()}function M(e){d.off("$destroy",k),n(d),m(d,b),p(d,b),b.domOperation(),P&&t.removeClass(d,P),d.removeClass(Y),D.complete(!e)}b=f(b);var A=["enter","move","leave"].indexOf(w)>=0,D=new u({end:function(){M()},cancel:function(){M(!0)}});if(!a.length)return M(),D;e(d,D);var I=i(d.attr("class"),i(b.addClass,b.removeClass)),P=b.tempClasses;P&&(I+=" "+P,b.tempClasses=null);var L;return A||(L=g,g+=1),h.push({element:d,classes:I,event:w,classBasedIndex:L,structural:A,options:b,beforeStart:T,close:M}),d.on("$destroy",k),h.length>1?D:(s.$$postDigest(function(){v=g,g=0,_.length=0;var t=[];B(h,function(e){r(e.element)&&t.push(e)}),h.length=0,B(S(t),function(t){function e(){t.beforeStart();var e,n=t.close,i=t.anchors?t.from.element||t.to.element:t.element;if(r(i)&&y(i).parentNode){var o=$(t);o&&(e=o.start)}if(e){var a=e();a.done(function(t){n(!t)}),C(t,a)}else n()}t.structural?e():(_.push({node:y(t.element),fn:e}),t.classBasedIndex===v-1&&(_=_.sort(function(t,e){return e.node.contains(t.node)}).map(function(t){return t.fn}),c(_)))})}),D)}}]}];e.module("ngAnimate",[]).directive("ngAnimateChildren",K).factory("$$rAFMutex",wt).factory("$$rAFScheduler",G).factory("$$AnimateRunner",bt).provider("$$animateQueue",yt).provider("$$animation",xt).provider("$animateCss",ft).provider("$$animateCssDriver",pt).provider("$$animateJs",mt).provider("$$animateJsDriver",gt)}(window,window.angular),function(t,e,n){"use strict";function r(){this.$get=["$$sanitizeUri",function(t){return function(e){var n=[];return a(e,u(n,function(e,n){return!/^unsafe/.test(t(e,n))})),n.join("")}}]}function i(t){var n=[],r=u(n,e.noop);return r.chars(t),n.join("")}function o(t,n){var r,i={},o=t.split(",");for(r=0;r<o.length;r++)i[n?e.lowercase(o[r]):o[r]]=!0;return i}function a(t,n){function r(t,r,o,a){if(r=e.lowercase(r),$[r])for(;y.last()&&T[y.last()];)i("",y.last());E[r]&&y.last()==r&&i("",r),a=b[r]||!!a,a||y.push(r);var l={};o.replace(f,function(t,e,n,r,i){var o=n||r||i||"";l[e]=s(o)}),n.start&&n.start(r,l,a)}function i(t,r){var i,o=0;if(r=e.lowercase(r))for(o=y.length-1;o>=0&&y[o]!=r;o--);if(o>=0){for(i=y.length-1;i>=o;i--)n.end&&n.end(y[i]);y.length=o}}"string"!=typeof t&&(t=null===t||"undefined"==typeof t?"":""+t);var o,a,l,u,y=[],w=t;for(y.last=function(){return y[y.length-1]};t;){if(u="",a=!0,y.last()&&k[y.last()]?(t=t.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+y.last()+"[^>]*>","i"),function(t,e){return e=e.replace(g,"$1").replace(_,"$1"),n.chars&&n.chars(s(e)),""}),i("",y.last())):(0===t.indexOf("<!--")?(o=t.indexOf("--",4),o>=0&&t.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(t.substring(4,o)),t=t.substring(o+3),a=!1)):v.test(t)?(l=t.match(v),l&&(t=t.replace(l[0],""),a=!1)):m.test(t)?(l=t.match(d),l&&(t=t.substring(l[0].length),l[0].replace(d,i),a=!1)):p.test(t)&&(l=t.match(h),l?(l[4]&&(t=t.substring(l[0].length),l[0].replace(h,r)),a=!1):(u+="<",t=t.substring(1))),a&&(o=t.indexOf("<"),u+=0>o?t:t.substring(0,o),t=0>o?"":t.substring(o),n.chars&&n.chars(s(u)))),t==w)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",t);w=t}i()}function s(t){return t?(L.innerHTML=t.replace(/</g,"&lt;"),L.textContent):""}function l(t){return t.replace(/&/g,"&amp;").replace(y,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(w,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(t,n){var r=!1,i=e.bind(t,t.push);return{start:function(t,o,a){t=e.lowercase(t),!r&&k[t]&&(r=t),r||M[t]!==!0||(i("<"),i(t),e.forEach(o,function(r,o){var a=e.lowercase(o),s="img"===t&&"src"===a||"background"===a;P[a]!==!0||A[a]===!0&&!n(r,s)||(i(" "),i(o),i('="'),i(l(r)),i('"'))}),i(a?"/>":">"))},end:function(t){t=e.lowercase(t),r||M[t]!==!0||(i("</"),i(t),i(">")),t==r&&(r=!1)},chars:function(t){r||i(l(t))}}}var c=e.$$minErr("$sanitize"),h=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,f=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,m=/^<\//,g=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,_=/<!\[CDATA\[(.*?)]]>/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/([^\#-~| |!])/g,b=o("area,br,col,hr,img,wbr"),x=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),S=o("rp,rt"),E=e.extend({},S,x),$=e.extend({},x,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),T=e.extend({},S,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),C=o("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),k=o("script,style"),M=e.extend({},b,$,T,E,C),A=o("background,cite,href,longdesc,src,usemap,xlink:href"),D=o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),I=o("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),P=e.extend({},A,I,D),L=document.createElement("pre");e.module("ngSanitize",[]).provider("$sanitize",r),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/i,r=/^mailto:/i;return function(o,a){function s(t){t&&f.push(i(t))}function l(t,n){f.push("<a "),e.isDefined(a)&&f.push('target="',a,'" '),f.push('href="',t.replace(/"/g,"&quot;"),'">'),s(n),f.push("</a>")}if(!o)return o;for(var u,c,h,d=o,f=[];u=d.match(n);)c=u[0],u[2]||u[4]||(c=(u[3]?"http://":"mailto:")+c),h=u.index,s(d.substr(0,h)),l(c,u[0].replace(r,"")),d=d.substring(h+u[0].length);return s(d),t(f.join(""))}}])}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function r(t,e){return R(new(R(function(){},{prototype:t})),e)}function i(t){return B(arguments,function(e){e!==t&&B(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function o(t,e){var n=[];for(var r in t.path){if(t.path[r]!==e.path[r])break;n.push(t.path[r])}return n}function a(t){if(Object.keys)return Object.keys(t);var n=[];return e.forEach(t,function(t,e){n.push(e)}),n}function s(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in t&&t[r]===e)return r;return-1}function l(t,e,n,r){var i,l=o(n,r),u={},c=[];for(var h in l)if(l[h].params&&(i=a(l[h].params),i.length))for(var d in i)s(c,i[d])>=0||(c.push(i[d]),u[i[d]]=t[i[d]]);return R({},u,e)}function u(t,e,n){if(!n){n=[];for(var r in t)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!=e[o])return!1}return!0}function c(t,e){var n={};return B(t,function(t){n[t]=e[t]}),n}function h(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in t)-1==s(n,r)&&(e[r]=t[r]);return e}function d(t,e){var n=O(t),r=n?[]:{};return B(t,function(t,i){e(t,i)&&(r[n?r.length:i]=t)}),r}function f(t,e){var n=O(t)?[]:{};return B(t,function(t,r){n[r]=e(t,r)}),n}function p(t,e){var r=1,o=2,l={},u=[],c=l,d=R(t.when(l),{$$promises:l,$$values:l});this.study=function(l){function f(t,n){if(_[n]!==o){if(v.push(n),_[n]===r)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(_[n]=r,L(t))g.push(n,[function(){return e.get(t)}],u);else{var i=e.annotate(t);B(i,function(t){t!==n&&l.hasOwnProperty(t)&&f(l[t],t)}),g.push(n,t,i)}v.pop(),_[n]=o}}function p(t){return N(t)&&t.then&&t.$$promises}if(!N(l))throw new Error("'invocables' must be an object");var m=a(l||{}),g=[],v=[],_={};return B(l,f),l=v=_=null,function(r,o,a){function s(){--w||(b||i(y,o.$$values),v.$$values=y,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,f.resolve(y))}function l(t){v.$$failure=t,f.reject(t)}function u(n,i,o){function u(t){h.reject(t),l(t)}function c(){if(!I(v.$$failure))try{h.resolve(e.invoke(i,a,y)),h.promise.then(function(t){y[n]=t,s()},u)}catch(t){u(t)}}var h=t.defer(),d=0;B(o,function(t){_.hasOwnProperty(t)&&!r.hasOwnProperty(t)&&(d++,_[t].then(function(e){y[t]=e,--d||c()},u))}),d||c(),_[n]=h.promise}if(p(r)&&a===n&&(a=o,o=r,r=null),r){if(!N(r))throw new Error("'locals' must be an object")}else r=c;if(o){if(!p(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=d;var f=t.defer(),v=f.promise,_=v.$$promises={},y=R({},r),w=1+g.length/3,b=!1;if(I(o.$$failure))return l(o.$$failure),v;o.$$inheritedValues&&i(y,h(o.$$inheritedValues,m)),R(_,o.$$promises),o.$$values?(b=i(y,h(o.$$values,m)),v.$$inheritedValues=h(o.$$values,m),s()):(o.$$inheritedValues&&(v.$$inheritedValues=h(o.$$inheritedValues,m)),o.then(s,l));for(var x=0,S=g.length;S>x;x+=3)r.hasOwnProperty(g[x])?s():u(g[x],g[x+1],g[x+2]);return v}},this.resolve=function(t,e,n,r){return this.study(t)(e,n,r)}}function m(t,e,n){this.fromConfig=function(t,e,n){return I(t.template)?this.fromString(t.template,e):I(t.templateUrl)?this.fromUrl(t.templateUrl,e):I(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return P(t)?t(e):t},this.fromUrl=function(n,r){return P(n)&&(n=n(r)),null==n?null:t.get(n,{
cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,r){return n.invoke(t,null,r||{params:e})}}function g(t,e,i){function o(e,n,r,i){if(g.push(e),p[e])return p[e];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(m[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return m[e]=new U.Param(e,n,r,i),m[e]}function a(t,e,n){var r=["",""],i=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return i;switch(n){case!1:r=["(",")"];break;case!0:r=["?(",")?"];break;default:r=["("+n+"|",")?"]}return i+r[0]+e+r[1]}function s(n,i){var o,a,s,l,u;return o=n[2]||n[3],u=e.params[o],s=t.substring(d,n.index),a=i?n[4]:n[4]||("*"==n[1]?".*":null),l=U.type(a||"string")||r(U.type("string"),{pattern:new RegExp(a)}),{id:o,regexp:a,segment:s,type:l,cfg:u}}e=R({params:{}},N(e)?e:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h="^",d=0,f=this.segments=[],p=i?i.params:{},m=this.params=i?i.params.$$new():new U.ParamSet,g=[];this.source=t;for(var v,_,y;(l=u.exec(t))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)_=o(v.id,v.type,v.cfg,"path"),h+=a(v.segment,_.type.pattern.source,_.squash),f.push(v.segment),d=u.lastIndex;y=t.substring(d);var w=y.indexOf("?");if(w>=0){var b=this.sourceSearch=y.substring(w);if(y=y.substring(0,w),this.sourcePath=t.substring(0,d+w),b.length>0)for(d=0;l=c.exec(b);)v=s(l,!0),_=o(v.id,v.type,v.cfg,"search"),d=u.lastIndex}else this.sourcePath=t,this.sourceSearch="";h+=a(y)+(e.strict===!1?"/?":"")+"$",f.push(y),this.regexp=new RegExp(h,e.caseInsensitive?"i":n),this.prefix=f[0],this.$$paramNames=g}function v(t){R(this,t)}function _(){function t(t){return null!=t?t.toString().replace(/\//g,"%2F"):t}function i(t){return null!=t?t.toString().replace(/%2F/g,"/"):t}function o(t){return this.pattern.test(t)}function l(){return{strict:y,caseInsensitive:m}}function u(t){return P(t)||O(t)&&P(t[t.length-1])}function c(){for(;S.length;){var t=S.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(b[t.name],p.invoke(t.def))}}function h(t){R(this,t||{})}U=this;var p,m=!1,y=!0,w=!1,b={},x=!0,S=[],E={string:{encode:t,decode:i,is:o,pattern:/[^/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return I(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^/]*/},any:{encode:e.identity,decode:e.identity,is:e.identity,equals:e.equals,pattern:/.*/}};_.$$getDefaultValue=function(t){if(!u(t.value))return t.value;if(!p)throw new Error("Injectable functions cannot be called at configuration time");return p.invoke(t.value)},this.caseInsensitive=function(t){return I(t)&&(m=t),m},this.strictMode=function(t){return I(t)&&(y=t),y},this.defaultSquashPolicy=function(t){if(!I(t))return w;if(t!==!0&&t!==!1&&!L(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return w=t,t},this.compile=function(t,e){return new g(t,R(l(),e))},this.isMatcher=function(t){if(!N(t))return!1;var e=!0;return B(g.prototype,function(n,r){P(n)&&(e=e&&I(t[r])&&P(t[r]))}),e},this.type=function(t,e,n){if(!I(e))return b[t];if(b.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return b[t]=new v(R({name:t},e)),n&&(S.push({name:t,def:n}),x||c()),this},B(E,function(t,e){b[e]=new v(R({name:e},t))}),b=r(b,{}),this.$get=["$injector",function(t){return p=t,x=!1,c(),B(E,function(t,e){b[e]||(b[e]=new v(t))}),this}],this.Param=function(t,e,r,i){function o(t){var e=N(t)?a(t):[],n=-1===s(e,"value")&&-1===s(e,"type")&&-1===s(e,"squash")&&-1===s(e,"array");return n&&(t={value:t}),t.$$fn=u(t.value)?t.value:function(){return t.value},t}function l(e,n,r){if(e.type&&n)throw new Error("Param '"+t+"' has two type configurations.");return n?n:e.type?e.type instanceof v?e.type:new v(e.type):"config"===r?b.any:b.string}function c(){var e={array:"search"===i?"auto":!1},n=t.match(/\[\]$/)?{array:!0}:{};return R(e,n,r).array}function h(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!I(n)||null==n)return w;if(n===!0||L(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function m(t,e,r,i){var o,a,l=[{from:"",to:r||e?n:""},{from:null,to:r||e?n:""}];return o=O(t.replace)?t.replace:[],L(i)&&o.push({from:i,to:n}),a=f(o,function(t){return t.from}),d(l,function(t){return-1===s(a,t.from)}).concat(o)}function g(){if(!p)throw new Error("Injectable functions cannot be called at configuration time");return p.invoke(r.$$fn)}function _(t){function e(t){return function(e){return e.from===t}}function n(t){var n=f(d(x.replace,e(t)),function(t){return t.to});return n.length?n[0]:t}return t=n(t),I(t)?x.type.decode(t):g()}function y(){return"{Param:"+t+" "+e+" squash: '"+$+"' optional: "+E+"}"}var x=this;r=o(r),e=l(r,e,i);var S=c();e=S?e.$asArray(S,"search"===i):e,"string"!==e.name||S||"path"!==i||r.value!==n||(r.value="");var E=r.value!==n,$=h(r,E),T=m(r,S,E,$);R(this,{id:t,type:e,location:i,array:S,squash:$,replace:T,isOptional:E,value:_,dynamic:n,config:r,toString:y})},h.prototype={$$new:function(){return r(this,R(new h,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,r=a(h.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),B(e,function(e){B(a(e),function(e){-1===s(t,e)&&-1===s(r,e)&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return B(n.$$keys(),function(r){e[r]=n[r].value(t&&t[r])}),e},$$equals:function(t,e){var n=!0,r=this;return B(r.$$keys(),function(i){var o=t&&t[i],a=e&&e[i];r[i].type.equals(o,a)||(n=!1)}),n},$$validates:function(t){var e,n,r,i=!0,o=this;return B(this.$$keys(),function(a){r=o[a],n=t[a],e=!n&&r.isOptional,i=i&&(e||!!r.type.is(n))}),i},$$parent:n},this.ParamSet=h}function y(t,r){function i(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function o(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function a(t,e,n){if(!n)return!1;var r=t.invoke(e,e,{$match:n});return I(r)?r:!0}function s(r,i,o,a){function s(t,e,n){return"/"===m?t:e?m.slice(0,-1)+t:n?m.slice(1)+t:t}function d(t){function e(t){var e=t(o,r);return e?(L(e)&&r.replace().url(e),!0):!1}if(!t||!t.defaultPrevented){var i=p&&r.url()===p;if(p=n,i)return!0;var a,s=u.length;for(a=0;s>a;a++)if(e(u[a]))return;c&&e(c)}}function f(){return l=l||i.$on("$locationChangeSuccess",d)}var p,m=a.baseHref(),g=r.url();return h||f(),{sync:function(){d()},listen:function(){return f()},update:function(t){return t?void(g=r.url()):void(r.url()!==g&&(r.url(g),r.replace()))},push:function(t,e,i){r.url(t.format(e||{})),p=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var a=t.html5Mode();e.isObject(a)&&(a=a.enabled);var l=n.format(i);if(o=o||{},a||null===l||(l="#"+t.hashPrefix()+l),l=s(l,a,o.absolute),!o.absolute||!l)return l;var u=!a&&l?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,u,l].join("")}}}var l,u=[],c=null,h=!1;this.rule=function(t){if(!P(t))throw new Error("'rule' must be a function");return u.push(t),this},this.otherwise=function(t){if(L(t)){var e=t;t=function(){return e}}else if(!P(t))throw new Error("'rule' must be a function");return c=t,this},this.when=function(t,e){var n,s=L(e);if(L(t)&&(t=r.compile(t)),!s&&!P(e)&&!O(e))throw new Error("invalid 'handler' in when()");var l={matcher:function(t,e){return s&&(n=r.compile(e),e=["$match",function(t){return n.format(t)}]),R(function(n,r){return a(n,e,t.exec(r.path(),r.search()))},{prefix:L(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=e,e=["$match",function(t){return o(n,t)}]),R(function(n,r){return a(n,e,t.exec(r.path()))},{prefix:i(t)})}},u={matcher:r.isMatcher(t),regex:t instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),h=t},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function w(t,i){function o(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function h(t,e){if(!t)return n;var r=L(t),i=r?t:t.name,a=o(i);if(a){if(!e)throw new Error("No reference point given for path '"+i+"'");e=h(e);for(var s=i.split("."),l=0,u=s.length,c=e;u>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+e.name+"'");c=c.parent}else c=e;s=s.slice(l).join("."),i=c.name+(c.name&&s?".":"")+s}var d=E[i];return!d||!r&&(r||d!==t&&d.self!==t)?n:d}function d(t,e){$[t]||($[t]=[]),$[t].push(e)}function p(t){for(var e=$[t]||[];e.length;)m(e.shift())}function m(e){e=r(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!L(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(E.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):L(e.parent)?e.parent:N(e.parent)&&L(e.parent.name)?e.parent.name:"";if(i&&!E[i])return d(i,e.self);for(var o in C)P(C[o])&&(e[o]=C[o](e,C.$delegates[o]));return E[n]=e,!e[T]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){S.$current.navigable==e&&u(t,n)||S.transitionTo(e,t,{inherit:!0,location:!1})}]),p(n),e}function g(t){return t.indexOf("*")>-1}function v(t){var e=t.split("."),n=S.$current.name.split(".");if("**"===e[0]&&(n=n.slice(s(n,e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(s(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length!=n.length)return!1;for(var r=0,i=e.length;i>r;r++)"*"===e[r]&&(n[r]="*");return n.join("")===e.join("")}function _(t,e){return L(t)&&!I(e)?C[t]:P(e)&&L(t)?(C[t]&&!C.$delegates[t]&&(C.$delegates[t]=C[t]),C[t]=e,this):this}function y(t,e){return N(t)?e=t:e.name=t,m(e),this}function w(t,i,o,s,d,p,m,_,y){function w(e,n,r,o){var a=t.$broadcast("$stateNotFound",e,n,r);if(a.defaultPrevented)return m.update(),M;if(!a.retry)return null;if(o.$retry)return m.update(),A;var s=S.transition=i.when(a.retry);return s.then(function(){return s!==S.transition?C:(e.options.$retry=!0,S.transitionTo(e.to,e.toParams,e.options))},function(){return M}),m.update(),s}function $(t,n,r,a,l,u){var h=r?n:c(t.params.$$keys(),n),f={$stateParams:h};l.resolve=d.resolve(t.resolve,f,l.resolve,t);var p=[l.resolve.then(function(t){l.globals=t})];return a&&p.push(a),B(t.views,function(n,r){var i=n.resolve&&n.resolve!==t.resolve?n.resolve:{};i.$template=[function(){return o.load(r,{view:n,locals:f,params:h,notify:u.notify})||""}],p.push(d.resolve(i,f,l.resolve,t).then(function(o){if(P(n.controllerProvider)||O(n.controllerProvider)){var a=e.extend({},i,f);o.$$controller=s.invoke(n.controllerProvider,null,a)}else o.$$controller=n.controller;o.$$state=t,o.$$controllerAs=n.controllerAs,l[r]=o}))}),i.all(p).then(function(t){return l})}var C=i.reject(new Error("transition superseded")),k=i.reject(new Error("transition prevented")),M=i.reject(new Error("transition aborted")),A=i.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},S={params:{},current:x.self,$current:x,transition:null},S.reload=function(){return S.transitionTo(S.current,p,{reload:!0,inherit:!1,notify:!0})},S.go=function(t,e,n){return S.transitionTo(t,e,R({inherit:!0,relative:S.$current},n))},S.transitionTo=function(e,n,o){n=n||{},o=R({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,u=S.$current,d=S.params,f=u.path,g=h(e,o.relative);if(!I(g)){var v={to:e,toParams:n,options:o},_=w(v,u.self,d,o);if(_)return _;if(e=v.to,n=v.toParams,o=v.options,g=h(e,o.relative),!I(g)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(g[T])throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(n=l(p,n||{},S.$current,g)),!g.params.$$validates(n))return A;n=g.params.$$values(n),e=g;var y=e.path,E=0,M=y[E],D=x.locals,P=[];if(!o.reload)for(;M&&M===f[E]&&M.ownParams.$$equals(n,d);)D=P[E]=M.locals,E++,M=y[E];if(b(e,u,D,o))return e.self.reloadOnSearch!==!1&&m.update(),S.transition=null,i.when(S.current);if(n=c(e.params.$$keys(),n||{}),o.notify&&t.$broadcast("$stateChangeStart",e.self,n,u.self,d).defaultPrevented)return m.update(),k;for(var L=i.when(D),N=E;N<y.length;N++,M=y[N])D=P[N]=r(D),L=$(M,n,M===e,L,D,o);var O=S.transition=L.then(function(){var r,i,a;if(S.transition!==O)return C;for(r=f.length-1;r>=E;r--)a=f[r],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=E;r<y.length;r++)i=y[r],i.locals=P[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return S.transition!==O?C:(S.$current=e,S.current=e.self,S.params=n,V(S.params,p),S.transition=null,o.location&&e.navigable&&m.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,u.self,d),m.update(!0),S.current)},function(r){return S.transition!==O?C:(S.transition=null,a=t.$broadcast("$stateChangeError",e.self,n,u.self,d,r),a.defaultPrevented||m.update(),i.reject(r))});return O},S.is=function(t,e,r){r=R({relative:S.$current},r||{});var i=h(t,r.relative);return I(i)?S.$current!==i?!1:e?u(i.params.$$values(e),p):!0:n},S.includes=function(t,e,r){if(r=R({relative:S.$current},r||{}),L(t)&&g(t)){if(!v(t))return!1;t=S.$current.name}var i=h(t,r.relative);return I(i)?I(S.$current.includes[i.name])?e?u(i.params.$$values(e),p,a(e)):!0:!1:n},S.href=function(t,e,r){r=R({lossy:!0,inherit:!0,absolute:!1,relative:S.$current},r||{});var i=h(t,r.relative);if(!I(i))return null;r.inherit&&(e=l(p,e||{},S.$current,i));var o=i&&r.lossy?i.navigable:i;return o&&o.url!==n&&null!==o.url?m.href(o.url,c(i.params.$$keys(),e||{}),{absolute:r.absolute}):null},S.get=function(t,e){if(0===arguments.length)return f(a(E),function(t){return E[t].self});var n=h(t,e||S.$current);return n&&n.self?n.self:null},S}function b(t,e,n,r){return t!==e||(n!==e.locals||r.reload)&&t.self.reloadOnSearch!==!1?void 0:!0}var x,S,E={},$={},T="abstract",C={parent:function(t){if(I(t.parent)&&t.parent)return h(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?h(e[1]):x},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=R({},t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(L(e))return"^"==e.charAt(0)?i.compile(e.substring(1),n):(t.parent.navigable||x).url.concat(e,n);if(!e||i.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new U.ParamSet;return B(t.params||{},function(t,n){e[n]||(e[n]=new U.Param(n,null,t,"config"))}),e},params:function(t){return t.parent&&t.parent.params?R(t.parent.params.$$new(),t.ownParams):new U.ParamSet},views:function(t){var e={};return B(I(t.views)?t.views:{"":t},function(n,r){r.indexOf("@")<0&&(r+="@"+t.parent.name),e[r]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?R({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};x=m({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=_,this.state=y,this.$get=w,w.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function b(){function t(t,e){return{load:function(n,r){var i,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=R(o,r),r.view&&(i=e.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&t.$broadcast("$viewContentLoading",r),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function x(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){n(function(){t[0].scrollIntoView()},0,!1)}}]}function S(t,n,r,i){function o(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(e){return null}}}function a(t,e){var n=function(){return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}};if(u)return{enter:function(t,e,n){var r=u.enter(t,null,e,n);r&&r.then&&r.then(n)},leave:function(t,e){var n=u.leave(t,e);n&&n.then&&n.then(e)}};if(l){var r=l&&l(e,t);return{enter:function(t,e,n){r.enter(t,null,e),n()},leave:function(t,e){r.leave(t),e()}}}return n()}var s=o(),l=s("$animator"),u=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,l){function u(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),d&&(v.leave(d,function(){h=null}),h=d,d=null)}function c(a){var c,h=$(n,l,o,i),_=h&&t.$current&&t.$current.locals[h];if(a||_!==p){c=n.$new(),p=t.$current.locals[h];var y=s(c,function(t){v.enter(t,o,function(){f&&f.$emit("$viewContentAnimationEnded"),(e.isDefined(g)&&!g||n.$eval(g))&&r(t)}),u()});d=y,f=c,f.$emit("$viewContentLoaded"),f.$eval(m)}}var h,d,f,p,m=l.onload||"",g=l.autoscroll,v=a(l,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function E(t,e,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return function(i,a,s){var l=n.$current,u=$(i,s,a,r),c=l&&l.locals[u];if(c){a.data("$uiView",{name:u,state:c.$$state}),a.html(c.$template?c.$template:o);var h=t(a.contents());if(c.$$controller){c.$scope=i;var d=e(c.$$controller,c);c.$$controllerAs&&(i[c.$$controllerAs]=d),a.data("$ngControllerController",d),a.children().data("$ngControllerController",d)}h(i)}}}}}function $(t,e,n,r){var i=r(e.uiView||e.name||"")(t),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function T(t,e){var n,r=t.match(/^\s*({[^}]*})\s*$/);if(r&&(t=e+"("+r[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function C(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function k(t,n){var r=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,o,a,s){var l=T(a.uiSref,t.current.name),u=null,c=C(o)||t.$current,h=null,d="A"===o.prop("tagName"),f="FORM"===o[0].nodeName,p=f?"action":"href",m=!0,g={relative:c,inherit:!0},v=i.$eval(a.uiSrefOpts)||{};e.forEach(r,function(t){t in v&&(g[t]=v[t])});var _=function(n){if(n&&(u=e.copy(n)),m){h=t.href(l.state,u,g);var r=s[1]||s[0];return r&&r.$$setStateInfo(l.state,u),null===h?(m=!1,!1):void a.$set(p,h)}};l.paramExpr&&(i.$watch(l.paramExpr,function(t,e){t!==u&&_(t)},!0),u=e.copy(i.$eval(l.paramExpr))),_(),f||o.bind("click",function(e){var r=e.which||e.button;if(!(r>1||e.ctrlKey||e.metaKey||e.shiftKey||o.attr("target"))){var i=n(function(){t.go(l.state,u,g)});e.preventDefault();var a=d&&!h?1:0;e.preventDefault=function(){a--<=0&&n.cancel(i)}}})}}}function M(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,r,i){function o(){a()?r.addClass(u):r.removeClass(u)}function a(){return"undefined"!=typeof i.uiSrefActiveEq?s&&t.is(s.name,l):s&&t.includes(s.name,l)}var s,l,u;u=n(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(e),this.$$setStateInfo=function(e,n){s=t.get(e,C(r)),l=n,o()},e.$on("$stateChangeSuccess",o)}]}}function A(t){var e=function(e){return t.is(e)};return e.$stateful=!0,e}function D(t){var e=function(e){return t.includes(e)};return e.$stateful=!0,e}var I=e.isDefined,P=e.isFunction,L=e.isString,N=e.isObject,O=e.isArray,B=e.forEach,R=e.extend,V=e.copy;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",p),m.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",m);var U;g.prototype.concat=function(t,e){var n={caseInsensitive:U.caseInsensitive(),strict:U.strictMode(),squash:U.defaultSquashPolicy()};return new g(this.sourcePath+t+this.sourceSearch,R(n,e),this)},g.prototype.toString=function(){return this.source},g.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}function n(t){return t.replace(/\\-/,"-")}var r=e(t).split(/-(?!\\)/),i=f(r,e);return f(i,n).reverse()}var r=this.regexp.exec(t);if(!r)return null;e=e||{};var i,o,a,s=this.parameters(),l=s.length,u=this.segments.length-1,c={};if(u!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;u>i;i++){a=s[i];var h=this.params[a],d=r[i+1];for(o=0;o<h.replace;o++)h.replace[o].from===d&&(d=h.replace[o].to);d&&h.array===!0&&(d=n(d)),c[a]=h.value(d)}for(;l>i;i++)a=s[i],c[a]=this.params[a].value(e[a]);return c},g.prototype.parameters=function(t){return I(t)?this.params[t]||null:this.$$paramNames},g.prototype.validates=function(t){return this.params.$$validates(t)},g.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(t))return null;var o,a=!1,s=n.length-1,l=r.length,u=n[0];for(o=0;l>o;o++){var c=s>o,h=r[o],d=i[h],p=d.value(t[h]),m=d.isOptional&&d.type.equals(d.value(),p),g=m?d.squash:!1,v=d.type.encode(p);if(c){var _=n[o+1];if(g===!1)null!=v&&(u+=O(v)?f(v,e).join("-"):encodeURIComponent(v)),u+=_;else if(g===!0){var y=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=_.match(y)[1]}else L(g)&&(u+=g+_)}else{if(null==v||m&&g!==!1)continue;O(v)||(v=[v]),v=f(v,encodeURIComponent).join("&"+h+"="),u+=(a?"&":"?")+(h+"="+v),a=!0}}return u},v.prototype.is=function(t,e){return!0},v.prototype.encode=function(t,e){return t},v.prototype.decode=function(t,e){return t},v.prototype.equals=function(t,e){return t==e},v.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},v.prototype.pattern=/.*/,v.prototype.toString=function(){return"{Type:"+this.name+"}"},v.prototype.$asArray=function(t,e){function r(t,e){function r(t,e){return function(){return t[e].apply(t,arguments)}}function i(t){return O(t)?t:I(t)?[t]:[]}function o(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}function a(t){return!t}function s(t,e){return function(n){n=i(n);var r=f(n,t);return e===!0?0===d(r,a).length:o(r)}}function l(t){return function(e,n){var r=i(e),o=i(n);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!t(r[a],o[a]))return!1;return!0}}this.encode=s(r(t,"encode")),this.decode=s(r(t,"decode")),this.is=s(r(t,"is"),!0),this.equals=l(r(t,"equals")),this.pattern=t.pattern,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new r(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",_),e.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),y.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",y),w.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").value("$stateParams",{}).provider("$state",w),b.$inject=[],e.module("ui.router.state").provider("$view",b),e.module("ui.router.state").provider("$uiViewScroll",x),S.$inject=["$state","$injector","$uiViewScroll","$interpolate"],E.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",S),e.module("ui.router.state").directive("uiView",E),k.$inject=["$state","$timeout"],M.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",k).directive("uiSrefActive",M).directive("uiSrefActiveEq",M),A.$inject=["$state"],D.$inject=["$state"],e.module("ui.router.state").filter("isState",A).filter("includedByState",D)}(window,window.angular),function(){function t(t,e,n,r,i,o){function a(r,a,s,l,c){function h(){R.resizeRequiresRefresh(y.__clientWidth,y.__clientHeight)&&g()}function d(){var t;return t={dataLength:0,width:0,height:0,resizeRequiresRefresh:function(e,n){var r=t.dataLength&&e&&n&&(e!==t.width||n!==t.height);return t.width=e,t.height=n,!!r},dataChangeRequiresRefresh:function(e){var n=e.length>0||e.length<t.dataLength;return t.dataLength=e.length,!!n}}}function f(){return $||($=new t({afterItemsNode:B[0],containerNode:x,heightData:M,widthData:A,forceRefreshImages:!(!u(s.forceRefreshImages)||"false"===s.forceRefreshImages),keyExpression:T,renderBuffer:L,scope:r,scrollView:l.scrollView,transclude:c}))}function p(){var t=angular.element(y.__content.querySelector(".collection-repeat-after-container"));if(!t.length){var e=!1,n=[].filter.call(y.__content.childNodes,function(t){return ionic.DomUtil.contains(t,x)?(e=!0,!1):e});t=angular.element('<span class="collection-repeat-after-container">'),y.options.scrollingX&&t.addClass("horizontal"),t.append(n),y.__content.appendChild(t[0])}return t}function m(){N?v(N,M):M.computed=!0,O?v(O,A):A.computed=!0}function g(){var t=I.length>0;if(t&&(M.computed||A.computed)&&_(),t&&M.computed){if(M.value=D.height,!M.value)throw new Error('collection-repeat tried to compute the height of repeated elements "'+S+'", but was unable to. Please provide the "item-height" attribute. http://ionicframework.com/docs/api/directive/collectionRepeat/')}else!M.dynamic&&M.getValue&&(M.value=M.getValue());if(t&&A.computed){if(A.value=D.width,!A.value)throw new Error('collection-repeat tried to compute the width of repeated elements "'+S+'", but was unable to. Please provide the "item-width" attribute. http://ionicframework.com/docs/api/directive/collectionRepeat/')}else!A.dynamic&&A.getValue&&(A.value=A.getValue());f().refreshLayout()}function v(t,n){if(t){var r;try{r=e(t)}catch(i){t.trim().match(/\d+(px|%)$/)&&(t='"'+t+'"'),r=e(t)}var o=t.replace(/(\'|\"|px|%)/g,"").trim(),a=o.length&&!/([a-zA-Z]|\$|:|\?)/.test(o);if(n.attrValue=t,a)if(t.indexOf("%")>-1){var s=parseFloat(r())/100;n.getValue=n===M?function(){return Math.floor(s*y.__clientHeight)}:function(){return Math.floor(s*y.__clientWidth)}}else n.value=parseInt(r());else n.dynamic=!0,n.getValue=n===M?function(t,e){var n=r(t,e);return n.charAt&&"%"===n.charAt(n.length-1)?Math.floor(parseFloat(n)/100*y.__clientHeight):parseInt(n)}:function(t,e){var n=r(t,e);return n.charAt&&"%"===n.charAt(n.length-1)?Math.floor(parseFloat(n)/100*y.__clientWidth):parseInt(n)}}}function _(){U||c(F=r.$new(),function(t){t[0].removeAttribute("collection-repeat"),U=t[0]}),F[T]=(k(r)||[])[0],i.$$phase||F.$digest(),x.appendChild(U);var t=n.getComputedStyle(U);D.width=parseInt(t.width),D.height=parseInt(t.height),x.removeChild(U)}var y=l.scrollView,w=a[0],x=angular.element('<div class="collection-repeat-container">')[0];if(w.parentNode.replaceChild(x,w),y.options.scrollingX&&y.options.scrollingY)throw new Error("collection-repeat expected a parent x or y scrollView, not an xy scrollView.");var S=s.collectionRepeat,E=S.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!E)throw new Error("collection-repeat expected expression in form of '_item_ in _collection_[ track by _id_]' but got '"+s.collectionRepeat+"'.");var $,T=E[1],C=E[2],k=e(C),M={},A={},D={},I=[],P=s.itemRenderBuffer||s.collectionBufferSize,L=angular.isDefined(P)?parseInt(P):b,N=s.itemHeight||s.collectionItemHeight,O=s.itemWidth||s.collectionItemWidth,B=p(),R=d();m(),l.$element.on("scroll-resize",g),angular.element(n).on("resize",h);var V=i.$on("$ionicExposeAside",ionic.animationFrameThrottle(function(){l.scrollView.resize(),h()}));o(g,0,!1),r.$watchCollection(k,function(t){if(I=t||(t=[]),!angular.isArray(t))throw new Error("collection-repeat expected an array for '"+C+"', but got a "+typeof value);r.$$postDigest(function(){f().setData(I),R.dataChangeRequiresRefresh(I)&&g()})}),r.$on("$destroy",function(){angular.element(n).off("resize",h),V(),l.$element&&l.$element.off("scroll-resize",g),U&&U.parentNode&&U.parentNode.removeChild(U),F&&F.$destroy(),F=U=null,$&&$.destroy(),$=null});var U,F}return{restrict:"A",priority:1e3,transclude:"element",$$tlb:!0,require:"^^$ionicScroll",link:a}}function e(t,e,n){var r={primaryPos:0,secondaryPos:0,primarySize:0,secondarySize:0,rowPrimarySize:0};return function(i){function o(){return a(!0)}function a(e){if(!a.destroyed){var n,i,o,u,c,h=tt.getScrollValue(),d=h+tt.scrollPrimarySize;tt.updateRenderRange(h,d),j=Math.max(0,j-$),q=Math.min(M.length-1,q+$);for(n in Z)(j>n||n>q)&&(o=Z[n],delete Z[n],K.push(o),o.isShown=!1);for(n=j;q>=n;n++)n>=M.length||Z[n]&&!e||(o=Z[n]||(Z[n]=K.length?K.pop():G.length?G.shift():new l),X.push(o),o.isShown=!0,c=o.scope,c.$index=n,c[E]=M[n],c.$first=0===n,c.$last=n===M.length-1,c.$middle=!(c.$first||c.$last),c.$odd=!(c.$even=0===(1&n)),c.$$disconnected&&ionic.Utils.reconnectScope(o.scope),u=tt.getDimensions(n),(o.secondaryPos!==u.secondaryPos||o.primaryPos!==u.primaryPos)&&(o.node.style[ionic.CSS.TRANSFORM]=U.replace(R,o.primaryPos=u.primaryPos).replace(V,o.secondaryPos=u.secondaryPos)),(o.secondarySize!==u.secondarySize||o.primarySize!==u.primarySize)&&(o.node.style.cssText=o.node.style.cssText.replace(w,F.replace(R,(o.primarySize=u.primarySize)+1).replace(V,o.secondarySize=u.secondarySize))));for(q===M.length-1&&(u=tt.getDimensions(M.length-1)||r,v.style[ionic.CSS.TRANSFORM]=U.replace(R,u.primaryPos+u.primarySize).replace(V,0));K.length;)o=K.pop(),o.scope.$broadcast("$collectionRepeatLeave"),ionic.Utils.disconnectScope(o.scope),G.push(o),o.node.style[ionic.CSS.TRANSFORM]="translate3d(-9999px,-9999px,0)",o.primaryPos=o.secondaryPos=null;if(b)for(n=0,i=X.length;i>n&&(o=X[n]);n++)if(o.images)for(var f,p=0,m=o.images.length;m>p&&(f=o.images[p]);p++){var g=f.src;f.src=y,f.src=g}if(e)for(var _=t.$$phase;X.length;)o=X.pop(),_||o.scope.$digest();else s()}}function s(){var e;s.running||(s.running=!0,n(function(){for(var n=t.$$phase;X.length;)e=X.pop(),e.isShown&&(n||e.scope.$digest());s.running=!1}))}function l(){var t=this;this.scope=T.$new(),this.id="item"+Q++,k(this.scope,function(e){t.element=e,t.element.data("$$collectionRepeatItem",t),t.node=e[0],t.node.style[ionic.CSS.TRANSFORM]="translate3d(-9999px,-9999px,0)",t.node.style.cssText+=" height: 0px; width: 0px;",ionic.Utils.disconnectScope(t.scope),_.appendChild(t.node),t.images=e[0].getElementsByTagName("img")})}function u(){this.getItemPrimarySize=I,this.getItemSecondarySize=L,this.getScrollValue=function(){return Math.max(0,Math.min(C.__scrollTop-z,C.__maxScrollTop-z-H))},this.refreshDirection=function(){this.scrollPrimarySize=C.__clientHeight,this.scrollSecondarySize=C.__clientWidth,this.estimatedPrimarySize=m,this.estimatedSecondarySize=g,this.estimatedItemsAcross=O&&Math.floor(C.__clientWidth/g)||1}}function c(){this.getItemPrimarySize=L,this.getItemSecondarySize=I,this.getScrollValue=function(){return Math.max(0,Math.min(C.__scrollLeft-z,C.__maxScrollLeft-z-H))},
this.refreshDirection=function(){this.scrollPrimarySize=C.__clientWidth,this.scrollSecondarySize=C.__clientHeight,this.estimatedPrimarySize=g,this.estimatedSecondarySize=m,this.estimatedItemsAcross=O&&Math.floor(C.__clientHeight/m)||1}}function h(){this.getEstimatedSecondaryPos=function(t){return t%this.estimatedItemsAcross*this.estimatedSecondarySize},this.getEstimatedPrimaryPos=function(t){return Math.floor(t/this.estimatedItemsAcross)*this.estimatedPrimarySize},this.getEstimatedIndex=function(t){return Math.floor(t/this.estimatedPrimarySize)*this.estimatedItemsAcross}}function d(){this.getEstimatedSecondaryPos=function(){return 0},this.getEstimatedPrimaryPos=function(t){return t*this.estimatedPrimarySize},this.getEstimatedIndex=function(t){return Math.floor(t/this.estimatedPrimarySize)}}function f(){this.getContentSize=function(){return this.getEstimatedPrimaryPos(M.length-1)+this.estimatedPrimarySize+z+H};var t={};this.getDimensions=function(e){return t.primaryPos=this.getEstimatedPrimaryPos(e),t.secondaryPos=this.getEstimatedSecondaryPos(e),t.primarySize=this.estimatedPrimarySize,t.secondarySize=this.estimatedSecondarySize,t},this.updateRenderRange=function(t,e){j=Math.max(0,this.getEstimatedIndex(t)),q=Math.min(M.length-1,this.getEstimatedIndex(e)+this.estimatedItemsAcross-1),W=Math.max(0,this.getEstimatedPrimaryPos(j)),Y=this.getEstimatedPrimaryPos(q)+this.estimatedPrimarySize}}function p(){function t(t){var e,o,a;for(e=Math.max(0,n);t>=e&&(a=s[e]);e++)o=s[e-1]||r,a.primarySize=i.getItemPrimarySize(e,M[e]),a.secondarySize=i.scrollSecondarySize,a.primaryPos=o.primaryPos+o.primarySize,a.secondaryPos=0}function e(t){var e,o,a;for(e=Math.max(n,0);t>=e&&(a=s[e]);e++)o=s[e-1]||r,a.secondarySize=Math.min(i.getItemSecondarySize(e,M[e]),i.scrollSecondarySize),a.secondaryPos=o.secondaryPos+o.secondarySize,0===e||a.secondaryPos+a.secondarySize>i.scrollSecondarySize?(a.secondaryPos=0,a.primarySize=i.getItemPrimarySize(e,M[e]),a.primaryPos=o.primaryPos+o.rowPrimarySize,a.rowStartIndex=e,a.rowPrimarySize=a.primarySize):(a.primarySize=i.getItemPrimarySize(e,M[e]),a.primaryPos=o.primaryPos,a.rowStartIndex=o.rowStartIndex,s[a.rowStartIndex].rowPrimarySize=a.rowPrimarySize=Math.max(s[a.rowStartIndex].rowPrimarySize,a.primarySize),a.rowPrimarySize=Math.max(a.primarySize,a.rowPrimarySize))}var n,i=this,o=ionic.debounce(J,25,!0),a=O?e:t,s=[];this.getContentSize=function(){var t=s[n]||r;return(t.primaryPos+t.primarySize||0)+this.getEstimatedPrimaryPos(M.length-n-1)+z+H},this.onDestroy=function(){s.length=0},this.onRefreshData=function(){var t,e;for(t=s.length,e=M.length;e>t;t++)s.push({});n=-1},this.onRefreshLayout=function(){n=-1},this.getDimensions=function(t){return t=Math.min(t,M.length-1),t>n&&(t>.9*M.length?(a(M.length-1),n=M.length-1,J()):(a(t),n=t,o())),s[t]};var l=-1,u=-1;this.updateRenderRange=function(t,e){var n,r,i;if(this.getDimensions(2*this.getEstimatedIndex(e)),-1===l||0===t)n=0;else if(t>=u)for(n=l,r=M.length;r>n&&!((i=this.getDimensions(n))&&i.primaryPos+i.rowPrimarySize>=t);n++);else for(n=l;n>=0;n--)if((i=this.getDimensions(n))&&i.primaryPos<=t){n=O?i.rowStartIndex:n;break}j=Math.min(Math.max(0,n),M.length-1),W=-1!==j?this.getDimensions(j).primaryPos:-1;var o;for(n=j+1,r=M.length;r>n;n++)if((i=this.getDimensions(n))&&i.primaryPos+i.rowPrimarySize>e){if(O)for(o=i;r-1>n&&(i=this.getDimensions(n+1)).primaryPos===o.primaryPos;)n++;break}q=Math.min(n,M.length-1),Y=-1!==q?(i=this.getDimensions(q)).primaryPos+(i.rowPrimarySize||i.primarySize):-1,u=t,l=j}}var m,g,v=i.afterItemsNode,_=i.containerNode,b=i.forceRefreshImages,x=i.heightData,S=i.widthData,E=i.keyExpression,$=i.renderBuffer,T=i.scope,C=i.scrollView,k=i.transclude,M=[],A={},D=x.getValue||function(){return x.value},I=function(t,e){return A[E]=e,A.$index=t,D(T,A)},P=S.getValue||function(){return S.value},L=function(t,e){return A[E]=e,A.$index=t,P(T,A)},N=!!C.options.scrollingY,O=N?S.dynamic||S.value!==C.__clientWidth:x.dynamic||x.value!==C.__clientHeight,B=!x.dynamic&&!S.dynamic,R="PRIMARY",V="SECONDARY",U=N?"translate3d(SECONDARYpx,PRIMARYpx,0)":"translate3d(PRIMARYpx,SECONDARYpx,0)",F=N?"height: PRIMARYpx; width: SECONDARYpx;":"height: SECONDARYpx; width: PRIMARYpx;",z=0,H=0,j=-1,q=-1,Y=-1,W=-1,G=[],K=[],X=[],Z={},Q=0,J=N?function(){C.setDimensions(null,null,null,tt.getContentSize(),!0)}:function(){C.setDimensions(null,null,tt.getContentSize(),null,!0)},tt=N?new u:new c;(O?h:d).call(tt),(B?f:p).call(tt);var et=N?"getContentHeight":"getContentWidth",nt=C.options[et];C.options[et]=angular.bind(tt,tt.getContentSize),C.__$callback=C.__callback,C.__callback=function(t,e,n,r){var i=tt.getScrollValue();(-1===j||i+tt.scrollPrimarySize>Y||W>i)&&a(),C.__$callback(t,e,n,r)};var rt=!1,it=!1;this.refreshLayout=function(){M.length?(m=I(0,M[0]),g=L(0,M[0])):(m=100,g=100);var t=getComputedStyle(v)||{},n=v.firstElementChild&&getComputedStyle(v.firstElementChild)||{},r=v.lastElementChild&&getComputedStyle(v.lastElementChild)||{};H=(parseInt(t[N?"height":"width"])||0)+(n&&parseInt(n[N?"marginTop":"marginLeft"])||0)+(r&&parseInt(r[N?"marginBottom":"marginRight"])||0),z=0;var i=_;do z+=i[N?"offsetTop":"offsetLeft"];while(ionic.DomUtil.contains(C.__content,i=i.offsetParent));var a=_.previousElementSibling,s=a?e.getComputedStyle(a):{},u=parseInt(s[N?"marginBottom":"marginRight"]||0);if(_.style[ionic.CSS.TRANSFORM]=U.replace(R,-u).replace(V,0),z-=u,C.__clientHeight&&C.__clientWidth||(C.__clientWidth=C.__container.clientWidth,C.__clientHeight=C.__container.clientHeight),(tt.onRefreshLayout||angular.noop)(),tt.refreshDirection(),J(),!rt)for(var c=Math.max(20,3*$),h=0;c>h;h++)G.push(new l);rt=!0,rt&&it&&((C.__scrollLeft>C.__maxScrollLeft||C.__scrollTop>C.__maxScrollTop)&&C.resize(),o(!0))},this.setData=function(t){M=t,(tt.onRefreshData||angular.noop)(),it=!0},this.destroy=function(){a.destroyed=!0,G.forEach(function(t){t.scope.$destroy(),t.scope=t.element=t.node=t.images=null}),G.length=X.length=K.length=0,Z={},C.options[et]=nt,C.__callback=C.__$callback,C.resize(),(tt.onDestroy||angular.noop)()}}}function n(t){return["$ionicGesture","$parse",function(e,n){var r=t.substr(2).toLowerCase();return function(i,o,a){var s=n(a[t]),l=function(t){i.$apply(function(){s(i,{$event:t})})},u=e.on(r,l,o);i.$on("$destroy",function(){e.off(u,r,l)})}}]}function r(t){return["$document","$timeout",function(e,n){return{restrict:"E",controller:"$ionicHeaderBar",compile:function(r){function i(e,n,r,i){t?(e.$watch(function(){return n[0].className},function(t){var n=-1===t.indexOf("ng-hide"),r=-1!==t.indexOf("bar-subheader");e.$hasHeader=n&&!r,e.$hasSubheader=n&&r,e.$emit("$ionicSubheader",e.$hasSubheader)}),e.$on("$destroy",function(){delete e.$hasHeader,delete e.$hasSubheader}),i.align(),e.$on("$ionicHeader.align",function(){ionic.requestAnimationFrame(function(){i.align()})})):(e.$watch(function(){return n[0].className},function(t){var n=-1===t.indexOf("ng-hide"),r=-1!==t.indexOf("bar-subfooter");e.$hasFooter=n&&!r,e.$hasSubfooter=n&&r}),e.$on("$destroy",function(){delete e.$hasFooter,delete e.$hasSubfooter}),e.$watch("$hasTabs",function(t){n.toggleClass("has-tabs",!!t)}),i.align(),e.$on("$ionicFooter.align",function(){ionic.requestAnimationFrame(function(){i.align()})}))}return r.addClass(t?"bar bar-header":"bar bar-footer"),n(function(){t&&e[0].getElementsByClassName("tabs-top").length&&r.addClass("has-tabs-top")}),{pre:i}}}}]}function i(t){return t.clientHeight}function o(t){t.stopPropagation()}var a=angular.module("ionic",["ngAnimate","ngSanitize","ui.router","ngIOS9UIWebViewPatch"]),s=angular.extend,l=angular.forEach,u=angular.isDefined,c=angular.isNumber,h=angular.isString,d=angular.element,f=angular.noop;a.factory("$ionicActionSheet",["$rootScope","$compile","$animate","$timeout","$ionicTemplateLoader","$ionicPlatform","$ionicBody","IONIC_BACK_PRIORITY",function(t,e,n,r,i,o,a,l){function u(i){function u(t){t&&/icon/.test(t)&&(c.$actionSheetHasIcon=!0)}var c=t.$new(!0);s(c,{cancel:f,destructiveButtonClicked:f,buttonClicked:f,$deregisterBackButton:f,buttons:[],cancelOnStateChange:!0},i||{});for(var h=0;h<c.buttons.length;h++)u(c.buttons[h].text);u(c.cancelText),u(c.destructiveText);var p=c.element=e('<ion-action-sheet ng-class="cssClass" buttons="buttons"></ion-action-sheet>')(c),m=d(p[0].querySelector(".action-sheet-wrapper")),g=c.cancelOnStateChange?t.$on("$stateChangeSuccess",function(){c.cancel()}):f;return c.removeSheet=function(t){c.removed||(c.removed=!0,m.removeClass("action-sheet-up"),r(function(){a.removeClass("action-sheet-open")},400),c.$deregisterBackButton(),g(),n.removeClass(p,"active").then(function(){c.$destroy(),p.remove(),c.cancel.$scope=m=null,(t||f)(i.buttons)}))},c.showSheet=function(t){c.removed||(a.append(p).addClass("action-sheet-open"),n.addClass(p,"active").then(function(){c.removed||(t||f)()}),r(function(){c.removed||m.addClass("action-sheet-up")},20,!1))},c.$deregisterBackButton=o.registerBackButtonAction(function(){r(c.cancel)},l.actionSheet),c.cancel=function(){c.removeSheet(i.cancel)},c.buttonClicked=function(t){i.buttonClicked(t,i.buttons[t])===!0&&c.removeSheet()},c.destructiveButtonClicked=function(){i.destructiveButtonClicked()===!0&&c.removeSheet()},c.showSheet(),c.cancel.$scope=c,c.cancel}return{show:u}}]),d.prototype.addClass=function(t){var e,n,r,i,o,a;if(t&&"ng-scope"!=t&&"ng-isolate-scope"!=t)for(e=0;e<this.length;e++)if(i=this[e],i.setAttribute)if(t.indexOf(" ")<0&&i.classList.add)i.classList.add(t);else{for(a=(" "+(i.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),o=t.split(" "),n=0;n<o.length;n++)r=o[n].trim(),-1===a.indexOf(" "+r+" ")&&(a+=r+" ");i.setAttribute("class",a.trim())}return this},d.prototype.removeClass=function(t){var e,n,r,i,o;if(t)for(e=0;e<this.length;e++)if(o=this[e],o.getAttribute)if(t.indexOf(" ")<0&&o.classList.remove)o.classList.remove(t);else for(r=t.split(" "),n=0;n<r.length;n++)i=r[n],o.setAttribute("class",(" "+(o.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+i.trim()+" "," ").trim());return this},a.factory("$ionicBackdrop",["$document","$timeout","$$rAF","$rootScope",function(t,e,n,r){function i(){l++,1===l&&(s.addClass("visible"),r.$broadcast("backdrop.shown"),n(function(){l>=1&&s.addClass("active")}))}function o(){1===l&&(s.removeClass("active"),r.$broadcast("backdrop.hidden"),e(function(){0===l&&s.removeClass("visible")},400,!1)),l=Math.max(0,l-1)}function a(){return s}var s=d('<div class="backdrop">'),l=0;return t[0].body.appendChild(s[0]),{retain:i,release:o,getElement:a,_element:s}}]),a.factory("$ionicBind",["$parse","$interpolate",function(t,e){var n=/^\s*([@=&])(\??)\s*(\w*)\s*$/;return function(r,i,o){l(o||{},function(o,a){var s,l,u=o.match(n)||[],c=u[3]||a,h=u[1];switch(h){case"@":if(!i[c])return;i.$observe(c,function(t){r[a]=t}),i[c]&&(r[a]=e(i[c])(r));break;case"=":if(!i[c])return;l=r.$watch(i[c],function(t){r[a]=t}),r.$on("$destroy",l);break;case"&":if(i[c]&&i[c].match(RegExp(a+"(.*?)")))throw new Error('& expression binding "'+a+'" looks like it will recursively call "'+i[c]+'" and cause a stack overflow! Please choose a different scopeName.');s=t(i[c]),r[a]=function(t){return s(r,t)}}})}}]),a.factory("$ionicBody",["$document",function(t){return{addClass:function(){for(var e=0;e<arguments.length;e++)t[0].body.classList.add(arguments[e]);return this},removeClass:function(){for(var e=0;e<arguments.length;e++)t[0].body.classList.remove(arguments[e]);return this},enableClass:function(t){var e=Array.prototype.slice.call(arguments).slice(1);return t?this.addClass.apply(this,e):this.removeClass.apply(this,e),this},append:function(e){return t[0].body.appendChild(e.length?e[0]:e),this},get:function(){return t[0].body}}}]),a.factory("$ionicClickBlock",["$document","$ionicBody","$timeout",function(t,e,n){function r(t){t.preventDefault(),t.stopPropagation()}function i(){l&&(a?a.classList.remove(u):(a=t[0].createElement("div"),a.className="click-block",e.append(a),a.addEventListener("touchstart",r),a.addEventListener("mousedown",r)),l=!1)}function o(){a&&a.classList.add(u)}var a,s,l,u="click-block-hide";return{show:function(t){l=!0,n.cancel(s),s=n(this.hide,t||310,!1),i()},hide:function(){l=!1,n.cancel(s),o()}}}]),a.factory("$ionicGesture",[function(){return{on:function(t,e,n,r){return window.ionic.onGesture(t,e,n[0],r)},off:function(t,e,n){return window.ionic.offGesture(t,e,n)}}}]),a.factory("$ionicHistory",["$rootScope","$state","$location","$window","$timeout","$ionicViewSwitcher","$ionicNavViewDelegate",function(t,e,n,r,i,o,a){function l(t){return t?O.views[t]:null}function c(t){return t?l(t.backViewId):null}function h(t){return t?l(t.forwardViewId):null}function d(t){return t?O.histories[t]:null}function f(t){var e=p(t);return O.histories[e.historyId]||(O.histories[e.historyId]={historyId:e.historyId,parentHistoryId:p(e.scope.$parent).historyId,stack:[],cursor:-1}),d(e.historyId)}function p(e){for(var n=e;n;){if(n.hasOwnProperty("$historyId"))return{historyId:n.$historyId,scope:n};n=n.$parent}return{historyId:"root",scope:t}}function m(t){O.currentView=l(t),O.backView=c(O.currentView),O.forwardView=h(O.currentView)}function g(){var t;if(e&&e.current&&e.current.name){if(t=e.current.name,e.params)for(var n in e.params)e.params.hasOwnProperty(n)&&e.params[n]&&(t+="_"+n+"="+e.params[n]);return t}return ionic.Utils.nextUid()}function v(){var t;if(e&&e.params)for(var n in e.params)e.params.hasOwnProperty(n)&&(t=t||{},t[n]=e.params[n]);return t}function _(t){return t&&t.length&&/ion-side-menus|ion-tabs/i.test(t[0].tagName)}function y(t,e){return e&&e.$$state&&e.$$state.self.canSwipeBack===!1?!1:t&&"false"===t.attr("can-swipe-back")?!1:!0}var w,b,x,S,E,$="initialView",T="newView",C="moveBack",k="moveForward",M="back",A="forward",D="enter",I="exit",P="swap",L="none",N=0,O={histories:{root:{historyId:"root",parentHistoryId:null,stack:[],cursor:-1}},views:{},backView:null,forwardView:null,currentView:null},B=function(){};return B.prototype.initialize=function(t){if(t){for(var e in t)this[e]=t[e];return this}return null},B.prototype.go=function(){if(this.stateName)return e.go(this.stateName,this.stateParams);if(this.url&&this.url!==n.url()){if(O.backView===this)return r.history.go(-1);if(O.forwardView===this)return r.history.go(1);n.url(this.url)}return null},B.prototype.destroy=function(){this.scope&&(this.scope.$destroy&&this.scope.$destroy(),this.scope=null)},{register:function(t,e){var r,a,s,u=g(),h=f(t),_=O.currentView,B=O.backView,R=O.forwardView,V=null,U=null,F=L,z=h.historyId,H=n.url();if(w!==u&&(w=u,N++),E)V=E.viewId,U=E.action,F=E.direction,E=null;else if(B&&B.stateId===u)V=B.viewId,z=B.historyId,U=C,B.historyId===_.historyId?F=M:_&&(F=I,r=d(B.historyId),r&&r.parentHistoryId===_.historyId?F=D:(r=d(_.historyId),r&&r.parentHistoryId===h.parentHistoryId&&(F=P)));else if(R&&R.stateId===u)V=R.viewId,z=R.historyId,U=k,R.historyId===_.historyId?F=A:_&&(F=I,_.historyId===h.parentHistoryId?F=D:(r=d(_.historyId),r&&r.parentHistoryId===h.parentHistoryId&&(F=P))),r=p(t),R.historyId&&r.scope&&(r.scope.$historyId=R.historyId,z=R.historyId);else if(_&&_.historyId!==z&&h.cursor>-1&&h.stack.length>0&&h.cursor<h.stack.length&&h.stack[h.cursor].stateId===u){var j=h.stack[h.cursor];V=j.viewId,z=j.historyId,U=C,F=P,r=d(_.historyId),r&&r.parentHistoryId===z?F=I:(r=d(z),r&&r.parentHistoryId===_.historyId&&(F=D)),r=l(j.backViewId),r&&j.historyId!==r.historyId&&(h.stack[h.cursor].backViewId=_.viewId)}else{if(s=o.createViewEle(e),this.isAbstractEle(s,e))return{action:"abstractView",direction:L,ele:s};if(V=ionic.Utils.nextUid(),_){if(_.forwardViewId=V,U=T,R&&_.stateId!==R.stateId&&_.historyId===R.historyId&&(r=d(R.historyId))){for(a=r.stack.length-1;a>=R.index;a--){var q=r.stack[a];q&&q.destroy&&q.destroy(),r.stack.splice(a)}z=R.historyId}h.historyId===_.historyId?F=A:_.historyId!==h.historyId&&(F=D,r=d(_.historyId),r&&r.parentHistoryId===h.parentHistoryId?F=P:(r=d(r.parentHistoryId),r&&r.historyId===h.historyId&&(F=I)))}else U=$;2>N&&(F=L),O.views[V]=this.createView({viewId:V,index:h.stack.length,historyId:h.historyId,backViewId:_&&_.viewId?_.viewId:null,forwardViewId:null,stateId:u,stateName:this.currentStateName(),stateParams:v(),url:H,canSwipeBack:y(s,e)}),h.stack.push(O.views[V])}if(x&&x(),i.cancel(S),b){if(b.disableAnimate&&(F=L),b.disableBack&&(O.views[V].backViewId=null),b.historyRoot){for(a=0;a<h.stack.length;a++)h.stack[a].viewId===V?(h.stack[a].index=0,h.stack[a].backViewId=h.stack[a].forwardViewId=null):delete O.views[h.stack[a].viewId];h.stack=[O.views[V]]}b=null}if(m(V),O.backView&&z==O.backView.historyId&&u==O.backView.stateId&&H==O.backView.url)for(a=0;a<h.stack.length;a++)if(h.stack[a].viewId==V){U="dupNav",F=L,a>0&&(h.stack[a-1].forwardViewId=null),O.forwardView=null,O.currentView.index=O.backView.index,O.currentView.backViewId=O.backView.backViewId,O.backView=c(O.backView),h.stack.splice(a,1);break}return h.cursor=O.currentView.index,{viewId:V,action:U,direction:F,historyId:z,enableBack:this.enabledBack(O.currentView),isHistoryRoot:0===O.currentView.index,ele:s}},registerHistory:function(t){t.$historyId=ionic.Utils.nextUid()},createView:function(t){var e=new B;return e.initialize(t)},getViewById:l,viewHistory:function(){return O},currentView:function(t){return arguments.length&&(O.currentView=t),O.currentView},currentHistoryId:function(){return O.currentView?O.currentView.historyId:null},currentTitle:function(t){return O.currentView?(arguments.length&&(O.currentView.title=t),O.currentView.title):void 0},backView:function(t){return arguments.length&&(O.backView=t),O.backView},backTitle:function(t){var e=t&&l(t.backViewId)||O.backView;return e&&e.title},forwardView:function(t){return arguments.length&&(O.forwardView=t),O.forwardView},currentStateName:function(){return e&&e.current?e.current.name:null},isCurrentStateNavView:function(t){return!!(e&&e.current&&e.current.views&&e.current.views[t])},goToHistoryRoot:function(t){if(t){var e=d(t);if(e&&e.stack.length){if(O.currentView&&O.currentView.viewId===e.stack[0].viewId)return;E={viewId:e.stack[0].viewId,action:C,direction:M},e.stack[0].go()}}},goBack:function(t){if(u(t)&&-1!==t){if(t>-1)return;var e=O.histories[this.currentHistoryId()],n=e.cursor+t+1;1>n&&(n=1),e.cursor=n,m(e.stack[n].viewId);for(var r=n-1,o=[],a=l(e.stack[r].forwardViewId);a&&(o.push(a.stateId||a.viewId),r++,!(r>=e.stack.length));)a=l(e.stack[r].forwardViewId);var s=this;o.length&&i(function(){s.clearCache(o)},600)}O.backView&&O.backView.go()},enabledBack:function(t){var e=c(t);return!(!e||e.historyId!==t.historyId)},clearHistory:function(){var t=O.histories,e=O.currentView;if(t)for(var n in t)t[n].stack&&(t[n].stack=[],t[n].cursor=-1),e&&e.historyId===n?(e.backViewId=e.forwardViewId=null,t[n].stack.push(e)):t[n].destroy&&t[n].destroy();for(var r in O.views)r!==e.viewId&&delete O.views[r];e&&m(e.viewId)},clearCache:function(t){return i(function(){a._instances.forEach(function(e){e.clearCache(t)})})},nextViewOptions:function(e){return x&&x(),arguments.length&&(i.cancel(S),null===e?b=e:(b=b||{},s(b,e),b.expire&&(x=t.$on("$stateChangeSuccess",function(){S=i(function(){b=null},b.expire)})))),b},isAbstractEle:function(t,e){return e&&e.$$state&&e.$$state.self["abstract"]?!0:!(!t||!_(t)&&!_(t.children()))},isActiveScope:function(t){if(!t)return!1;for(var e,n=t,r=this.currentHistoryId();n;){if(n.$$disconnected)return!1;if(!e&&n.hasOwnProperty("$historyId")&&(e=!0),r){if(n.hasOwnProperty("$historyId")&&r==n.$historyId)return!0;if(n.hasOwnProperty("$activeHistoryId")&&r==n.$activeHistoryId){if(n.hasOwnProperty("$historyId"))return!0;if(!e)return!0}}e&&n.hasOwnProperty("$activeHistoryId")&&(e=!1),n=n.$parent}return r?"root"==r:!0}}}]).run(["$rootScope","$state","$location","$document","$ionicPlatform","$ionicHistory","IONIC_BACK_PRIORITY",function(t,e,n,r,i,o,a){function s(t){var e=o.backView();return e?e.go():ionic.Platform.exitApp(),t.preventDefault(),!1}t.$on("$ionicView.beforeEnter",function(){ionic.keyboard&&ionic.keyboard.hide&&ionic.keyboard.hide()}),t.$on("$ionicHistory.change",function(t,r){if(!r)return null;var i=o.viewHistory(),a=r.historyId?i.histories[r.historyId]:null;if(a&&a.cursor>-1&&a.cursor<a.stack.length){var s=a.stack[a.cursor];return s.go(r)}!r.url&&r.uiSref&&(r.url=e.href(r.uiSref)),r.url&&(0===r.url.indexOf("#")&&(r.url=r.url.replace("#","")),r.url!==n.url()&&n.url(r.url))}),t.$ionicGoBack=function(t){o.goBack(t)},t.$on("$ionicView.afterEnter",function(t,e){e&&e.title&&(r[0].title=e.title)}),i.registerBackButtonAction(s,a.view)}]),a.provider("$ionicConfig",function(){function t(t,r){a.platform[t]=r,i.platform[t]={},e(a,a.platform[t]),n(a.platform[t],i.platform[t],"")}function e(t,n){for(var r in t)r!=o&&t.hasOwnProperty(r)&&(angular.isObject(t[r])?(u(n[r])||(n[r]={}),e(t[r],n[r])):u(n[r])||(n[r]=null))}function n(t,e,i){l(t,function(s,l){angular.isObject(t[l])?(e[l]={},n(t[l],e[l],i+"."+l)):e[l]=function(n){if(arguments.length)return t[l]=n,e;if(t[l]==o){var s=r(a.platform,ionic.Platform.platform()+i+"."+l);return s||s===!1?s:r(a.platform,"default"+i+"."+l)}return t[l]}})}function r(t,e){e=e.split(".");for(var n=0;n<e.length;n++){if(!t||!u(t[e[n]]))return null;t=t[e[n]]}return t}var i=this;i.platform={};var o="platform",a={views:{maxCache:o,forwardCache:o,transition:o,swipeBackEnabled:o,swipeBackHitWidth:o},navBar:{alignTitle:o,positionPrimaryButtons:o,positionSecondaryButtons:o,transition:o},backButton:{icon:o,text:o,previousTitleText:o},form:{checkbox:o,toggle:o},scrolling:{jsScrolling:o},spinner:{icon:o},tabs:{style:o,position:o},templates:{maxPrefetch:o},platform:{}};n(a,i,""),t("default",{views:{maxCache:10,forwardCache:!1,transition:"ios",swipeBackEnabled:!0,swipeBackHitWidth:45},navBar:{alignTitle:"center",positionPrimaryButtons:"left",positionSecondaryButtons:"right",transition:"view"},backButton:{icon:"ion-ios-arrow-back",text:"Back",previousTitleText:!0},form:{checkbox:"circle",toggle:"large"},scrolling:{jsScrolling:!0},spinner:{icon:"ios"},tabs:{style:"standard",position:"bottom"},templates:{maxPrefetch:30}}),t("ios",{}),t("android",{views:{transition:"android",swipeBackEnabled:!1},navBar:{alignTitle:"left",positionPrimaryButtons:"right",positionSecondaryButtons:"right"},backButton:{icon:"ion-android-arrow-back",text:!1,previousTitleText:!1},form:{checkbox:"square",toggle:"small"},spinner:{icon:"android"},tabs:{style:"striped",position:"top"},scrolling:{jsScrolling:!1}}),t("windowsphone",{spinner:{icon:"android"}}),i.transitions={views:{},navBar:{}},i.transitions.views.ios=function(t,e,n,r){function i(t,e,n,r){var i={};i[ionic.CSS.TRANSITION_DURATION]=o.shouldAnimate?"":0,i.opacity=e,r>-1&&(i.boxShadow="0 0 10px rgba(0,0,0,"+(o.shouldAnimate?.45*r:.3)+")"),i[ionic.CSS.TRANSFORM]="translate3d("+n+"%,0,0)",ionic.DomUtil.cachedStyles(t,i)}var o={run:function(r){"forward"==n?(i(t,1,99*(1-r),1-r),i(e,1-.1*r,-33*r,-1)):"back"==n?(i(t,1-.1*(1-r),-33*(1-r),-1),i(e,1,100*r,1-r)):(i(t,1,0,-1),i(e,0,0,-1))},shouldAnimate:r&&("forward"==n||"back"==n)};return o},i.transitions.navBar.ios=function(t,e,n,r){function i(t,e,n,r){var i={};i[ionic.CSS.TRANSITION_DURATION]=s.shouldAnimate?"":"0ms",i.opacity=1===e?"":e,t.setCss("buttons-left",i),t.setCss("buttons-right",i),t.setCss("back-button",i),i[ionic.CSS.TRANSFORM]="translate3d("+r+"px,0,0)",t.setCss("back-text",i),i[ionic.CSS.TRANSFORM]="translate3d("+n+"px,0,0)",t.setCss("title",i)}function o(t,e,n){if(t&&e){var r=(t.titleTextX()+t.titleWidth())*(1-n),o=e&&(e.titleTextX()-t.backButtonTextLeft())*(1-n)||0;i(t,n,r,o)}}function a(t,e,n){if(t&&e){var r=(-(t.titleTextX()-e.backButtonTextLeft())-t.titleLeftRight())*n;i(t,1-n,r,0)}}var s={run:function(n){var r=t.controller(),i=e&&e.controller();"back"==s.direction?(a(r,i,1-n),o(i,r,1-n)):(o(r,i,n),a(i,r,n))},direction:n,shouldAnimate:r&&("forward"==n||"back"==n)};return s},i.transitions.views.android=function(t,e,n,r){function i(t,e){var n={};n[ionic.CSS.TRANSITION_DURATION]=o.shouldAnimate?"":0,n[ionic.CSS.TRANSFORM]="translate3d("+e+"%,0,0)",ionic.DomUtil.cachedStyles(t,n)}r=r&&("forward"==n||"back"==n);var o={run:function(r){"forward"==n?(i(t,99*(1-r)),i(e,-100*r)):"back"==n?(i(t,-100*(1-r)),i(e,100*r)):(i(t,0),i(e,0))},shouldAnimate:r};return o},i.transitions.navBar.android=function(t,e,n,r){function i(t,e){if(t){var n={};n.opacity=1===e?"":e,t.setCss("buttons-left",n),t.setCss("buttons-right",n),t.setCss("back-button",n),t.setCss("back-text",n),t.setCss("title",n)}}return{run:function(n){i(t.controller(),n),i(e&&e.controller(),1-n)},shouldAnimate:r&&("forward"==n||"back"==n)}},i.transitions.views.none=function(t,e){return{run:function(n){i.transitions.views.android(t,e,!1,!1).run(n)},shouldAnimate:!1}},i.transitions.navBar.none=function(t,e){return{run:function(n){i.transitions.navBar.ios(t,e,!1,!1).run(n),i.transitions.navBar.android(t,e,!1,!1).run(n)},shouldAnimate:!1}},i.setPlatformConfig=t,i.$get=function(){return i}}).config(["$compileProvider",function(t){t.aHrefSanitizationWhitelist(/^\s*(https?|sms|tel|geo|ftp|mailto|file|ghttps?|ms-appx-web|ms-appx|x-wmapp0):/),t.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|file|content|blob|ms-appx|ms-appx-web|x-wmapp0):|data:image\//)}]);var p='<div class="loading-container"><div class="loading"></div></div>',m="$ionicLoading instance.hide() has been deprecated. Use $ionicLoading.hide().",g="$ionicLoading instance.show() has been deprecated. Use $ionicLoading.show().",v="$ionicLoading instance.setContent() has been deprecated. Use $ionicLoading.show({ template: 'my content' }).";a.constant("$ionicLoadingConfig",{template:"<ion-spinner></ion-spinner>"}).factory("$ionicLoading",["$ionicLoadingConfig","$ionicBody","$ionicTemplateLoader","$ionicBackdrop","$timeout","$q","$log","$compile","$ionicPlatform","$rootScope","IONIC_BACK_PRIORITY",function(t,e,n,r,i,o,a,l,u,c,h){function d(){return w||(w=n.compile({template:p,appendTo:e.get()}).then(function(t){return t.show=function(a){var s=a.templateUrl?n.load(a.templateUrl):o.when(a.template||a.content||"");t.scope=a.scope||t.scope,t.isShown||(t.hasBackdrop=!a.noBackdrop&&a.showBackdrop!==!1,t.hasBackdrop&&(r.retain(),r.getElement().addClass("backdrop-loading"))),a.duration&&(i.cancel(t.durationTimeout),t.durationTimeout=i(angular.bind(t,t.hide),+a.duration)),b(),b=u.registerBackButtonAction(f,h.loading),s.then(function(n){if(n){var r=t.element.children();r.html(n),l(r.contents())(t.scope)}t.isShown&&(t.element.addClass("visible"),ionic.requestAnimationFrame(function(){t.isShown&&(t.element.addClass("active"),e.addClass("loading-active"))}))}),t.isShown=!0},t.hide=function(){b(),t.isShown&&(t.hasBackdrop&&(r.release(),r.getElement().removeClass("backdrop-loading")),t.element.removeClass("active"),e.removeClass("loading-active"),t.element.removeClass("visible"),ionic.requestAnimationFrame(function(){!t.isShown&&t.element.removeClass("visible")})),i.cancel(t.durationTimeout),t.isShown=!1;var n=t.element.children();n.html("")},t})),w}function _(e){e=s({},t||{},e||{});var n=e.delay||e.showDelay||0;return x(),S(),e.hideOnStateChange&&(x=c.$on("$stateChangeSuccess",y),S=c.$on("$stateChangeError",y)),i.cancel(E),E=i(f,n),E.then(d).then(function(t){return t.show(e)}),{hide:function(){return a.error(m),y.apply(this,arguments)},show:function(){return a.error(g),_.apply(this,arguments)},setContent:function(t){return a.error(v),d().then(function(e){e.show({template:t})})}}}function y(){x(),S(),i.cancel(E),d().then(function(t){t.hide()})}var w,b=f,x=f,S=f,E=o.when();return{show:_,hide:y,_getLoader:d}}]),a.factory("$ionicModal",["$rootScope","$ionicBody","$compile","$timeout","$ionicPlatform","$ionicTemplateLoader","$$q","$log","$ionicClickBlock","$window","IONIC_BACK_PRIORITY",function(t,e,n,r,i,o,a,l,u,c,h){var p=ionic.views.Modal.inherit({initialize:function(t){ionic.views.Modal.prototype.initialize.call(this,t),this.animation=t.animation||"slide-in-up"},show:function(t){var n=this;if(n.scope.$$destroyed)return l.error("Cannot call "+n.viewType+".show() after remove(). Please create a new "+n.viewType+" instance."),a.when();u.show(600),v.add(n);var o=d(n.modalEl);n.el.classList.remove("hide"),r(function(){n._isShown&&e.addClass(n.viewType+"-open")},400,!1),n.el.parentElement||(o.addClass(n.animation),e.append(n.el));var s=o.data("$$ionicScrollController");return s&&s.resize(),t&&n.positionView&&(n.positionView(t,o),n._onWindowResize=function(){n._isShown&&n.positionView(t,o)},ionic.on("resize",n._onWindowResize,window)),o.addClass("ng-enter active").removeClass("ng-leave ng-leave-active"),n._isShown=!0,n._deregisterBackButton=i.registerBackButtonAction(n.hardwareBackButtonClose?angular.bind(n,n.hide):f,h.modal),ionic.views.Modal.prototype.show.call(n),r(function(){n._isShown&&(o.addClass("ng-enter-active"),ionic.trigger("resize"),n.scope.$parent&&n.scope.$parent.$broadcast(n.viewType+".shown",n),n.el.classList.add("active"),n.scope.$broadcast("$ionicHeader.align"),n.scope.$broadcast("$ionicFooter.align"))},20),r(function(){n._isShown&&(n.$el.on("touchmove",function(t){var e=ionic.DomUtil.getParentOrSelfWithClass(t.target,"scroll");e||t.preventDefault()}),n.$el.on("click",function(t){n.backdropClickToClose&&t.target===n.el&&v.isHighest(n)&&n.hide()}))},400)},hide:function(){var t=this,n=d(t.modalEl);return u.show(600),v.remove(t),t.el.classList.remove("active"),n.addClass("ng-leave"),r(function(){t._isShown||n.addClass("ng-leave-active").removeClass("ng-enter ng-enter-active active")},20,!1),t.$el.off("click"),t._isShown=!1,t.scope.$parent&&t.scope.$parent.$broadcast(t.viewType+".hidden",t),t._deregisterBackButton&&t._deregisterBackButton(),ionic.views.Modal.prototype.hide.call(t),t.positionView&&ionic.off("resize",t._onWindowResize,window),r(function(){e.removeClass(t.viewType+"-open"),t.el.classList.add("hide")},t.hideDelay||320)},remove:function(){var t=this;return t.scope.$parent&&t.scope.$parent.$broadcast(t.viewType+".removed",t),t.hide().then(function(){t.scope.$destroy(),t.$el.remove()})},isShown:function(){return!!this._isShown}}),m=function(e,r){var i=r.scope&&r.scope.$new()||t.$new(!0);r.viewType=r.viewType||"modal",s(i,{$hasHeader:!1,$hasSubheader:!1,$hasFooter:!1,$hasSubfooter:!1,$hasTabs:!1,$hasTabsTop:!1});var o=n("<ion-"+r.viewType+">"+e+"</ion-"+r.viewType+">")(i);r.$el=o,r.el=o[0],r.modalEl=r.el.querySelector("."+r.viewType);var a=new p(r);return a.scope=i,r.scope||(i[r.viewType]=a),a},g=[],v={add:function(t){g.push(t)},remove:function(t){var e=g.indexOf(t);e>-1&&e<g.length&&g.splice(e,1)},isHighest:function(t){var e=g.indexOf(t);return e>-1&&e===g.length-1}};return{fromTemplate:function(t,e){var n=m(t,e||{});return n},fromTemplateUrl:function(t,e,n){var r;return angular.isFunction(e)&&(r=e,e=n),o.load(t).then(function(t){var n=m(t,e||{});return r&&r(n),n})},stack:v}}]),a.service("$ionicNavBarDelegate",ionic.DelegateService(["align","showBackButton","showBar","title","changeTitle","setTitle","getTitle","back","getPreviousTitle"])),a.service("$ionicNavViewDelegate",ionic.DelegateService(["clearCache"])),a.constant("IONIC_BACK_PRIORITY",{view:100,sideMenu:150,modal:200,actionSheet:300,popup:400,loading:500}).provider("$ionicPlatform",function(){return{$get:["$q","$ionicScrollDelegate",function(t,e){var n={onHardwareBackButton:function(t){ionic.Platform.ready(function(){document.addEventListener("backbutton",t,!1)})},offHardwareBackButton:function(t){ionic.Platform.ready(function(){document.removeEventListener("backbutton",t)})},$backButtonActions:{},registerBackButtonAction:function(t,e,r){n._hasBackButtonHandler||(n.$backButtonActions={},n.onHardwareBackButton(n.hardwareBackButtonClick),n._hasBackButtonHandler=!0);var i={id:r?r:ionic.Utils.nextUid(),priority:e?e:0,fn:t};return n.$backButtonActions[i.id]=i,function(){delete n.$backButtonActions[i.id]}},hardwareBackButtonClick:function(t){var e,r;for(r in n.$backButtonActions)(!e||n.$backButtonActions[r].priority>=e.priority)&&(e=n.$backButtonActions[r]);return e?(e.fn(t),e):void 0},is:function(t){return ionic.Platform.is(t)},on:function(t,e){return ionic.Platform.ready(function(){document.addEventListener(t,e,!1);
}),function(){ionic.Platform.ready(function(){document.removeEventListener(t,e)})}},ready:function(e){var n=t.defer();return ionic.Platform.ready(function(){n.resolve(),e&&e()}),n.promise}};return window.addEventListener("statusTap",function(){e.scrollTop(!0)}),n}]}}),a.factory("$ionicPopover",["$ionicModal","$ionicPosition","$document","$window",function(t,e,n,r){function i(t,n){var i=d(t.target||t),a=e.offset(i),s=n.prop("offsetWidth"),l=n.prop("offsetHeight"),u=r.innerWidth,c=r.innerHeight,h={left:a.left+a.width/2-s/2},f=d(n[0].querySelector(".popover-arrow"));h.left<o?h.left=o:h.left+s+o>u&&(h.left=u-s-o),a.top+a.height+l>c&&a.top-l>0?(h.top=a.top-l,n.addClass("popover-bottom")):(h.top=a.top+a.height,n.removeClass("popover-bottom")),f.css({left:a.left+a.width/2-f.prop("offsetWidth")/2-h.left+"px"}),n.css({top:h.top+"px",left:h.left+"px",marginLeft:"0",opacity:"1"})}var o=6,a={viewType:"popover",hideDelay:1,animation:"none",positionView:i};return{fromTemplate:function(e,n){return t.fromTemplate(e,ionic.Utils.extend({},a,n))},fromTemplateUrl:function(e,n){return t.fromTemplateUrl(e,ionic.Utils.extend({},a,n))}}}]);var _='<div class="popup-container" ng-class="cssClass"><div class="popup"><div class="popup-head"><h3 class="popup-title" ng-bind-html="title"></h3><h5 class="popup-sub-title" ng-bind-html="subTitle" ng-if="subTitle"></h5></div><div class="popup-body"></div><div class="popup-buttons" ng-show="buttons.length"><button ng-repeat="button in buttons" ng-click="$buttonTapped(button, $event)" class="button" ng-class="button.type || \'button-default\'" ng-bind-html="button.text"></button></div></div></div>';a.factory("$ionicPopup",["$ionicTemplateLoader","$ionicBackdrop","$q","$timeout","$rootScope","$ionicBody","$compile","$ionicPlatform","$ionicModal","IONIC_BACK_PRIORITY",function(t,e,n,r,i,o,a,l,u,c){function h(e){e=s({scope:null,title:"",buttons:[]},e||{});var l={};return l.scope=(e.scope||i).$new(),l.element=d(_),l.responseDeferred=n.defer(),o.get().appendChild(l.element[0]),a(l.element)(l.scope),s(l.scope,{title:e.title,buttons:e.buttons,subTitle:e.subTitle,cssClass:e.cssClass,$buttonTapped:function(t,e){var n=(t.onTap||f).apply(l,[e]);e=e.originalEvent||e,e.defaultPrevented||l.responseDeferred.resolve(n)}}),n.when(e.templateUrl?t.load(e.templateUrl):e.template||e.content||"").then(function(t){var e=d(l.element[0].querySelector(".popup-body"));t?(e.html(t),a(e.contents())(l.scope)):e.remove()}),l.show=function(){l.isShown||l.removed||(u.stack.add(l),l.isShown=!0,ionic.requestAnimationFrame(function(){l.isShown&&(l.element.removeClass("popup-hidden"),l.element.addClass("popup-showing active"),g(l.element))}))},l.hide=function(t){return t=t||f,l.isShown?(u.stack.remove(l),l.isShown=!1,l.element.removeClass("active"),l.element.addClass("popup-hidden"),void r(t,250,!1)):t()},l.remove=function(){l.removed||(l.hide(function(){l.element.remove(),l.scope.$destroy()}),l.removed=!0)},l}function p(){var t=x[x.length-1];t&&t.responseDeferred.resolve()}function m(t){function n(){x.push(i),r(i.show,a,!1),i.responseDeferred.promise.then(function(t){var n=x.indexOf(i);return-1!==n&&x.splice(n,1),i.remove(),x.length>0?x[x.length-1].show():(e.release(),r(function(){x.length||o.removeClass("popup-open")},400,!1),(S._backButtonActionDone||f)()),t})}var i=S._createPopup(t),a=0;return x.length>0?(a=b.stackPushDelay,r(x[x.length-1].hide,a,!1)):(o.addClass("popup-open"),e.retain(),S._backButtonActionDone=l.registerBackButtonAction(p,c.popup)),i.responseDeferred.promise.close=function(t){i.removed||i.responseDeferred.resolve(t)},i.responseDeferred.notify({close:i.responseDeferred.close}),n(),i.responseDeferred.promise}function g(t){var e=t[0].querySelector("[autofocus]");e&&e.focus()}function v(t){return m(s({buttons:[{text:t.okText||"OK",type:t.okType||"button-positive",onTap:function(){return!0}}]},t||{}))}function y(t){return m(s({buttons:[{text:t.cancelText||"Cancel",type:t.cancelType||"button-default",onTap:function(){return!1}},{text:t.okText||"OK",type:t.okType||"button-positive",onTap:function(){return!0}}]},t||{}))}function w(t){var e=i.$new(!0);e.data={},e.data.fieldtype=t.inputType?t.inputType:"text",e.data.response=t.defaultText?t.defaultText:"",e.data.placeholder=t.inputPlaceholder?t.inputPlaceholder:"",e.data.maxlength=t.maxLength?parseInt(t.maxLength):"";var n="";return t.template&&/<[a-z][\s\S]*>/i.test(t.template)===!1&&(n="<span>"+t.template+"</span>",delete t.template),m(s({template:n+'<input ng-model="data.response" type="{{ data.fieldtype }}"maxlength="{{ data.maxlength }}"placeholder="{{ data.placeholder }}">',scope:e,buttons:[{text:t.cancelText||"Cancel",type:t.cancelType||"button-default",onTap:function(){}},{text:t.okText||"OK",type:t.okType||"button-positive",onTap:function(){return e.data.response||""}}]},t||{}))}var b={stackPushDelay:75},x=[],S={show:m,alert:v,confirm:y,prompt:w,_createPopup:h,_popupStack:x};return S}]),a.factory("$ionicPosition",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function r(t){return"static"===(n(t,"position")||"static")}var i=function(e){for(var n=t[0],i=e.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(e){var n=this.offset(e),r={top:0,left:0},o=i(e[0]);o!=t[0]&&(r=this.offset(d(o)),r.top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft);var a=e[0].getBoundingClientRect();return{width:a.width||e.prop("offsetWidth"),height:a.height||e.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:r.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}}}}]),a.service("$ionicScrollDelegate",ionic.DelegateService(["resize","scrollTop","scrollBottom","scrollTo","scrollBy","zoomTo","zoomBy","getScrollPosition","anchorScroll","freezeScroll","freezeAllScrolls","getScrollView"])),a.service("$ionicSideMenuDelegate",ionic.DelegateService(["toggleLeft","toggleRight","getOpenRatio","isOpen","isOpenLeft","isOpenRight","canDragContent","edgeDragThreshold"])),a.service("$ionicSlideBoxDelegate",ionic.DelegateService(["update","slide","select","enableSlide","previous","next","stop","autoPlay","start","currentIndex","selected","slidesCount","count","loop"])),a.service("$ionicTabsDelegate",ionic.DelegateService(["select","selectedIndex","showBar"])),function(){var t=[];a.factory("$ionicTemplateCache",["$http","$templateCache","$timeout",function(e,n,r){function i(t){return"undefined"==typeof t?o():(h(t)&&(t=[t]),l(t,function(t){s.push(t)}),void(a&&o()))}function o(){var t;if(i._runCount++,a=!0,0!==s.length){for(var l=0;4>l&&(t=s.pop());)h(t)&&e.get(t,{cache:n}),l++;s.length&&r(o,1e3)}}var a,s=t;return i._runCount=0,i}]).config(["$stateProvider","$ionicConfigProvider",function(e,n){var r=e.state;e.state=function(i,o){if("object"==typeof o){var a=o.prefetchTemplate!==!1&&t.length<n.templates.maxPrefetch();if(a&&h(o.templateUrl)&&t.push(o.templateUrl),angular.isObject(o.views))for(var s in o.views)a=o.views[s].prefetchTemplate!==!1&&t.length<n.templates.maxPrefetch(),a&&h(o.views[s].templateUrl)&&t.push(o.views[s].templateUrl)}return r.call(e,i,o)}}]).run(["$ionicTemplateCache",function(t){t()}])}(),a.factory("$ionicTemplateLoader",["$compile","$controller","$http","$q","$rootScope","$templateCache",function(t,e,n,r,i,o){function a(t){return n.get(t,{cache:o}).then(function(t){return t.data&&t.data.trim()})}function l(n){n=s({template:"",templateUrl:"",scope:null,controller:null,locals:{},appendTo:null},n||{});var o=n.templateUrl?this.load(n.templateUrl):r.when(n.template);return o.then(function(r){var o,a=n.scope||i.$new(),l=d("<div>").html(r).contents();return n.controller&&(o=e(n.controller,s(n.locals,{$scope:a})),l.children().data("$ngControllerController",o)),n.appendTo&&d(n.appendTo).append(l),t(l)(a),{element:l,scope:a}})}return{load:a,compile:l}}]),a.factory("$ionicViewService",["$ionicHistory","$log",function(t,e){function n(t,n){e.warn("$ionicViewService"+t+" is deprecated, please use $ionicHistory"+n+" instead: http://ionicframework.com/docs/nightly/api/service/$ionicHistory/")}n("","");var r={getCurrentView:"currentView",getBackView:"backView",getForwardView:"forwardView",getCurrentStateName:"currentStateName",nextViewOptions:"nextViewOptions",clearHistory:"clearHistory"};return l(r,function(e,i){r[i]=function(){return n("."+i,"."+e),t[e].apply(this,arguments)}}),r}]),a.factory("$ionicViewSwitcher",["$timeout","$document","$q","$ionicClickBlock","$ionicConfig","$ionicNavBarDelegate",function(t,e,n,r,i,o){function a(t,e){return c(t)["abstract"]?c(t).name:e?e.stateId||e.viewId:ionic.Utils.nextUid()}function c(t){return t&&t.$$state&&t.$$state.self||{}}function h(t,e,n,r){var o=c(t),a=g||D(e,"view-transition")||o.viewTransition||i.views.transition()||"ios",l=i.navBar.transition();return n=v||D(e,"view-direction")||o.viewDirection||n||"none",s(f(r),{transition:a,navBarTransition:"view"===l?a:l,direction:n,shouldAnimate:"none"!==a&&"none"!==n})}function f(t){return t=t||{},{viewId:t.viewId,historyId:t.historyId,stateId:t.stateId,stateName:t.stateName,stateParams:t.stateParams}}function p(t,e){return arguments.length>1?void D(t,$,e):D(t,$)}function m(t){if(t&&t.length){var e=t.scope();e&&(e.$emit("$ionicView.unloaded",t.data(E)),e.$destroy()),t.remove()}}var g,v,_="webkitTransitionEnd transitionend",y="$noCache",w="$destroyEle",b="$eleId",x="$accessed",S="$fallbackTimer",E="$viewData",$="nav-view",T="active",C="cached",k="stage",M=0;ionic.transition=ionic.transition||{},ionic.transition.isActive=!1;var A,D=ionic.DomUtil.cachedAttr,I=[],P=1100,L={create:function(e,l,d,$,A,N){var O,B,R,V=++M,U={init:function(t,e){L.isTransitioning(!0),U.loadViewElements(t),U.render(t,function(){e&&e()})},loadViewElements:function(t){var n,r,i,o=e.getViewElements(),s=a(l,d),c=e.activeEleId();for(n=0,r=o.length;r>n&&(i=o.eq(n),i.data(b)===s?i.data(y)?(i.data(b,s+ionic.Utils.nextUid()),i.data(w,!0)):O=i:u(c)&&i.data(b)===c&&(B=i),!O||!B);n++);R=!!O,R||(O=t.ele||L.createViewEle(l),O.data(b,s)),N&&e.activeEleId(s),t.ele=null},render:function(t,n){if(R)ionic.Utils.reconnectScope(O.scope());else{p(O,k);var r=h(l,O,t.direction,d),o=i.transitions.views[r.transition]||i.transitions.views.none;o(O,null,r.direction,!0).run(0),O.data(E,{viewId:r.viewId,historyId:r.historyId,stateName:r.stateName,stateParams:r.stateParams}),(c(l).cache===!1||"false"===c(l).cache||"false"==O.attr("cache-view")||0===i.views.maxCache())&&O.data(y,!0);var a=e.appendViewElement(O,l);delete r.direction,delete r.transition,a.$emit("$ionicView.loaded",r)}O.data(x,Date.now()),n&&n()},transition:function(a,u,c){function m(){p(O,j.shouldAnimate?"entering":T),p(B,j.shouldAnimate?"leaving":C),j.run(1),o._instances.forEach(function(t){t.triggerTransitionStart(V)}),j.shouldAnimate||w()}function y(t){t.target===this&&w()}function w(){w.x||(w.x=!0,O.off(_,y),t.cancel(O.data(S)),B&&t.cancel(B.data(S)),E&&E.resolve(e),V===M&&(n.all(I).then(L.transitionEnd),U.emit("after",F,z),U.cleanup(F)),o._instances.forEach(function(t){t.triggerTransitionEnd()}),g=v=d=$=O=B=null)}function b(t){t.target===this&&x()}function x(){p(O,C),p(B,T),O.off(_,b),t.cancel(O.data(S)),L.transitionEnd([e])}var E,F=h(l,O,a,d),z=s(s({},F),f($));F.transitionId=z.transitionId=V,F.fromCache=!!R,F.enableBack=!!u,F.renderStart=A,F.renderEnd=N,D(O.parent(),"nav-view-transition",F.transition),D(O.parent(),"nav-view-direction",F.direction),t.cancel(O.data(S));var H=i.transitions.views[F.transition]||i.transitions.views.none,j=H(O,B,F.direction,F.shouldAnimate&&c&&N);if(j.shouldAnimate&&(O.on(_,y),O.data(S,t(w,P)),r.show(P)),A&&(U.emit("before",F,z),p(O,k),j.run(0)),N&&(E=n.defer(),I.push(E.promise)),A&&N)t(function(){ionic.requestAnimationFrame(m)});else{if(!N)return p(O,"entering"),p(B,"leaving"),{run:j.run,cancel:function(e){e?(O.on(_,b),O.data(S,t(x,P)),r.show(P)):x(),j.shouldAnimate=e,j.run(0),j=null}};N&&m()}},emit:function(t,e,n){var r=O.scope(),i=B&&B.scope();"after"==t&&(r&&r.$emit("$ionicView.enter",e),i?i.$emit("$ionicView.leave",n):r&&n&&n.viewId&&r.$emit("$ionicNavView.leave",n)),r&&r.$emit("$ionicView."+t+"Enter",e),i?i.$emit("$ionicView."+t+"Leave",n):r&&n&&n.viewId&&r.$emit("$ionicNavView."+t+"Leave",n)},cleanup:function(t){B&&"back"==t.direction&&!i.views.forwardCache()&&m(B);var n,r,o,a=e.getViewElements(),s=a.length,l=s-1>i.views.maxCache(),u=Date.now();for(n=0;s>n;n++)r=a.eq(n),l&&r.data(x)<u?(u=r.data(x),o=a.eq(n)):r.data(w)&&p(r)!=T&&m(r);m(o),O.data(y)&&O.data(w,!0)},enteringEle:function(){return O},leavingEle:function(){return B}};return U},transitionEnd:function(t){l(t,function(t){t.transitionEnd()}),L.isTransitioning(!1),r.hide(),I=[]},nextTransition:function(t){g=t},nextDirection:function(t){v=t},isTransitioning:function(e){return arguments.length&&(ionic.transition.isActive=!!e,t.cancel(A),e&&(A=t(function(){L.isTransitioning(!1)},999))),ionic.transition.isActive},createViewEle:function(t){var n=e[0].createElement("div");return t&&t.$template&&(n.innerHTML=t.$template,1===n.children.length)?(n.children[0].classList.add("pane"),d(n.children[0])):(n.className="pane",d(n))},viewEleIsActive:function(t,e){p(t,e?T:C)},getTransitionData:h,navViewAttr:p,destroyViewEle:m};return L}]),angular.module("ngIOS9UIWebViewPatch",["ng"]).config(["$provide",function(t){"use strict";t.decorator("$browser",["$delegate","$window",function(t,e){function n(t){return/(iPhone|iPad|iPod).* OS 9_\d/.test(t)&&!/Version\/9\./.test(t)}function r(t){function e(){n=null}var n=null,r=t.url;return t.url=function(){return arguments.length?(n=arguments[0],r.apply(t,arguments)):n||r.apply(t,arguments)},window.addEventListener("popstate",e,!1),window.addEventListener("hashchange",e,!1),t}return n(e.navigator.userAgent)?r(t):t}])}]),a.config(["$provide",function(t){t.decorator("$compile",["$delegate",function(t){return t.$$addScopeInfo=function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)},t}])}]),a.config(["$provide",function(t){function e(t,e){return t.__hash=t.hash,t.hash=function(n){return u(n)&&n.length>0&&e(function(){var t=document.querySelector(".scroll-content");t&&(t.scrollTop=0)},0,!1),t.__hash(n)},t}t.decorator("$location",["$delegate","$timeout",e])}]),a.controller("$ionicHeaderBar",["$scope","$element","$attrs","$q","$ionicConfig","$ionicHistory",function(t,e,n,r,i,o){function a(t){return E[t]||(E[t]=e[0].querySelector("."+t)),E[t]}var s="title",l="back-text",u="back-button",c="default-title",h="previous-title",d="hide",f=this,p="",m="",g=0,v=0,_="",y=!1,w=!0,b=!0,x=!1,S=0;f.beforeEnter=function(e){t.$broadcast("$ionicView.beforeEnter",e)},f.title=function(t){return arguments.length&&t!==p&&(a(s).innerHTML=t,p=t,S=0),p},f.enableBack=function(t,e){return arguments.length&&(y=t,e||f.updateBackButton()),y},f.showBack=function(t,e){return arguments.length&&(w=t,e||f.updateBackButton()),w},f.showNavBack=function(t){b=t,f.updateBackButton()},f.updateBackButton=function(){var t;(w&&b&&y)!==x&&(x=w&&b&&y,t=a(u),t&&t.classList[x?"remove":"add"](d)),y&&(t=t||a(u),t&&(f.backButtonIcon!==i.backButton.icon()&&(t=a(u+" .icon"),t&&(f.backButtonIcon=i.backButton.icon(),t.className="icon "+f.backButtonIcon)),f.backButtonText!==i.backButton.text()&&(t=a(u+" .back-text"),t&&(t.textContent=f.backButtonText=i.backButton.text()))))},f.titleTextWidth=function(){if(!S){var t=ionic.DomUtil.getTextBounds(a(s));S=Math.min(t&&t.width||30)}return S},f.titleWidth=function(){var t=f.titleTextWidth(),e=a(s).offsetWidth;return t>e&&(t=e+(g-v-5)),t},f.titleTextX=function(){return e[0].offsetWidth/2-f.titleWidth()/2},f.titleLeftRight=function(){return g-v},f.backButtonTextLeft=function(){for(var t=0,e=a(l);e;)t+=e.offsetLeft,e=e.parentElement;return t},f.resetBackButton=function(t){if(i.backButton.previousTitleText()){var e=a(h);if(e){e.classList.remove(d);var n=t&&o.getViewById(t.viewId),r=o.backTitle(n);r!==m&&(m=e.innerHTML=r)}var s=a(c);s&&s.classList.remove(d)}},f.align=function(t){var r=a(s);t=t||n.alignTitle||i.navBar.alignTitle();var o=f.calcWidths(t,!1);if(w&&m&&i.backButton.previousTitleText()){var l=f.calcWidths(t,!0),u=e[0].offsetWidth-l.titleLeft-l.titleRight;f.titleTextWidth()<=u&&(o=l)}return f.updatePositions(r,o.titleLeft,o.titleRight,o.buttonsLeft,o.buttonsRight,o.css,o.showPrevTitle)},f.calcWidths=function(t,n){var r,i,o,f,p,m,g,v,_,y=a(s),b=a(u),x=e[0].childNodes,S=0,E=0,$=0,T=0,C="",k=0;for(r=0;r<x.length;r++){if(p=x[r],g=0,1==p.nodeType){if(p===y){_=!0;continue}if(p.classList.contains(d))continue;if(w&&p===b){for(i=0;i<p.childNodes.length;i++)if(f=p.childNodes[i],1==f.nodeType)if(f.classList.contains(l))for(o=0;o<f.children.length;o++)if(m=f.children[o],n){if(m.classList.contains(c))continue;k+=m.offsetWidth}else{if(m.classList.contains(h))continue;k+=m.offsetWidth}else k+=f.offsetWidth;else 3==f.nodeType&&f.nodeValue.trim()&&(v=ionic.DomUtil.getTextBounds(f),k+=v&&v.width||0);g=k||p.offsetWidth}else g=p.offsetWidth}else 3==p.nodeType&&p.nodeValue.trim()&&(v=ionic.DomUtil.getTextBounds(p),g=v&&v.width||0);_?E+=g:S+=g}if("left"==t)C="title-left",S&&($=S+15),E&&(T=E+15);else if("right"==t)C="title-right",S&&($=S+15),E&&(T=E+15);else{var M=Math.max(S,E)+10;M>10&&($=T=M)}return{backButtonWidth:k,buttonsLeft:S,buttonsRight:E,titleLeft:$,titleRight:T,showPrevTitle:n,css:C}},f.updatePositions=function(t,n,o,s,l,u,p){var m=r.defer();if(t&&(n!==g&&(t.style.left=n?n+"px":"",g=n),o!==v&&(t.style.right=o?o+"px":"",v=o),u!==_&&(u&&t.classList.add(u),_&&t.classList.remove(_),_=u)),i.backButton.previousTitleText()){var y=a(h),w=a(c);y&&y.classList[p?"remove":"add"](d),w&&w.classList[p?"add":"remove"](d)}return ionic.requestAnimationFrame(function(){if(t&&t.offsetWidth+10<t.scrollWidth){var n=l+5,r=e[0].offsetWidth-g-f.titleTextWidth()-20;o=n>r?n:r,o!==v&&(t.style.right=o+"px",v=o)}m.resolve()}),m.promise},f.setCss=function(t,e){ionic.DomUtil.cachedStyles(a(t),e)};var E={};t.$on("$destroy",function(){for(var t in E)E[t]=null})}]),a.controller("$ionInfiniteScroll",["$scope","$attrs","$element","$timeout",function(t,e,n,r){function i(){ionic.requestAnimationFrame(function(){n[0].classList.add("active")}),l.isLoading=!0,t.$parent&&t.$parent.$apply(e.onInfinite||"")}function o(){ionic.requestAnimationFrame(function(){n[0].classList.remove("active")}),r(function(){l.jsScrolling&&l.scrollView.resize(),(l.jsScrolling&&l.scrollView.__container&&l.scrollView.__container.offsetHeight>0||!l.jsScrolling)&&l.checkBounds()},30,!1),l.isLoading=!1}function a(){if(!l.isLoading){var t={};if(l.jsScrolling){t=l.getJSMaxScroll();var e=l.scrollView.getValues();(-1!==t.left&&e.left>=t.left||-1!==t.top&&e.top>=t.top)&&i()}else t=l.getNativeMaxScroll(),(-1!==t.left&&l.scrollEl.scrollLeft>=t.left-l.scrollEl.clientWidth||-1!==t.top&&l.scrollEl.scrollTop>=t.top-l.scrollEl.clientHeight)&&i()}}function s(t){var n=(e.distance||"2.5%").trim(),r=-1!==n.indexOf("%");return r?t*(1-parseFloat(n)/100):t-parseFloat(n)}var l=this;l.isLoading=!1,t.icon=function(){return u(e.icon)?e.icon:"ion-load-d"},t.spinner=function(){return u(e.spinner)?e.spinner:""},t.$on("scroll.infiniteScrollComplete",function(){o()}),t.$on("$destroy",function(){l.scrollCtrl&&l.scrollCtrl.$element&&l.scrollCtrl.$element.off("scroll",l.checkBounds),l.scrollEl&&l.scrollEl.removeEventListener&&l.scrollEl.removeEventListener("scroll",l.checkBounds)}),l.checkBounds=ionic.Utils.throttle(a,300),l.getJSMaxScroll=function(){var t=l.scrollView.getScrollMax();return{left:l.scrollView.options.scrollingX?s(t.left):-1,top:l.scrollView.options.scrollingY?s(t.top):-1}},l.getNativeMaxScroll=function(){var t={left:l.scrollEl.scrollWidth,top:l.scrollEl.scrollHeight},e=window.getComputedStyle(l.scrollEl)||{};return{left:!t.left||"scroll"!==e.overflowX&&"auto"!==e.overflowX&&"scroll"!==l.scrollEl.style["overflow-x"]?-1:s(t.left),top:!t.top||"scroll"!==e.overflowY&&"auto"!==e.overflowY&&"scroll"!==l.scrollEl.style["overflow-y"]?-1:s(t.top)}},l.__finishInfiniteScroll=o}]),a.service("$ionicListDelegate",ionic.DelegateService(["showReorder","showDelete","canSwipeItems","closeOptionButtons"])).controller("$ionicList",["$scope","$attrs","$ionicListDelegate","$ionicHistory",function(t,e,n,r){var i=this,o=!0,a=!1,s=!1,l=n._registerInstance(i,e.delegateHandle,function(){return r.isActiveScope(t)});t.$on("$destroy",l),i.showReorder=function(t){return arguments.length&&(a=!!t),a},i.showDelete=function(t){return arguments.length&&(s=!!t),s},i.canSwipeItems=function(t){return arguments.length&&(o=!!t),o},i.closeOptionButtons=function(){i.listView&&i.listView.clearDragEffects()}}]),a.controller("$ionicNavBar",["$scope","$element","$attrs","$compile","$timeout","$ionicNavBarDelegate","$ionicConfig","$ionicHistory",function(t,e,n,r,i,o,a,s){function c(t,e){var n=console.warn||console.log;n&&n.call(console,"navBarController."+t+" is deprecated, please use "+e+" instead")}function h(t){return k[t]?d(k[t]):void 0}function f(){for(var t=0;t<C.length;t++)if(C[t].isActive)return C[t]}function p(){for(var t=0;t<C.length;t++)if(!C[t].isActive)return C[t]}function m(t,e){t&&ionic.DomUtil.cachedAttr(t.containerEle(),"nav-bar",e)}function g(t){ionic.DomUtil.cachedAttr(e,"nav-swipe",t)}var v,_,y,w="hide",b="$ionNavBarController",x="primaryButtons",S="secondaryButtons",E="backButton",$="primaryButtons secondaryButtons leftButtons rightButtons title".split(" "),T=this,C=[],k={},M=!0;e.parent().data(b,T);var A=n.delegateHandle||"navBar"+ionic.Utils.nextUid(),D=o._registerInstance(T,A);T.init=function(){e.addClass("nav-bar-container"),ionic.DomUtil.cachedAttr(e,"nav-bar-transition",a.views.transition()),T.createHeaderBar(!1),T.createHeaderBar(!0),t.$emit("ionNavBar.init",A)},T.createHeaderBar=function(i){function o(t,e){t&&("title"===e?g.append(t):"rightButtons"==e||e==S&&"left"!=a.navBar.positionSecondaryButtons()||e==x&&"right"==a.navBar.positionPrimaryButtons()?(m||(m=d('<div class="buttons buttons-right">'),f.append(m)),e==S?m.append(t):m.prepend(t)):(p||(p=d('<div class="buttons buttons-left">'),v[E]?v[E].after(p):f.prepend(p)),e==S?p.append(t):p.prepend(t)))}var s=d('<div class="nav-bar-block">');ionic.DomUtil.cachedAttr(s,"nav-bar",i?"active":"cached");var c=n.alignTitle||a.navBar.alignTitle(),f=d("<ion-header-bar>").addClass(n["class"]).attr("align-title",c);u(n.noTapScroll)&&f.attr("no-tap-scroll",n.noTapScroll);var p,m,g=d('<div class="title title-'+c+'">'),v={},_={};v[E]=h(E),v[E]&&f.append(v[E]),f.append(g),l($,function(t){v[t]=h(t),o(v[t],t)});for(var y=0;y<f[0].children.length;y++)f[0].children[y].classList.add("header-item");s.append(f),e.append(r(s)(t.$new()));var b=f.data("$ionHeaderBarController");b.backButtonIcon=a.backButton.icon(),b.backButtonText=a.backButton.text();var T={isActive:i,title:function(t){b.title(t)},setItem:function(t,e){T.removeItem(e),t?("title"===e&&T.title(""),o(t,e),v[e]&&v[e].addClass(w),_[e]=t):v[e]&&v[e].removeClass(w)},removeItem:function(t){_[t]&&(_[t].scope().$destroy(),_[t].remove(),_[t]=null)},containerEle:function(){return s},headerBarEle:function(){return f},afterLeave:function(){l($,function(t){T.removeItem(t)}),b.resetBackButton()},controller:function(){return b},destroy:function(){l($,function(t){T.removeItem(t)}),s.scope().$destroy();for(var t in v)v[t]&&(v[t].removeData(),v[t]=null);p&&p.removeData(),m&&m.removeData(),g.removeData(),f.removeData(),s.remove(),s=f=g=p=m=null}};return C.push(T),T},T.navElement=function(t,e){return u(e)&&(k[t]=e),k[t]},T.update=function(t){var e=!t.hasHeaderBar&&t.showNavBar;t.transition=a.views.transition(),e||(t.direction="none"),T.enable(e);var n=T.isInitialized?p():f(),r=T.isInitialized?f():null,i=n.controller();i.enableBack(t.enableBack,!0),i.showBack(t.showBack,!0),i.updateBackButton(),T.title(t.title,n),T.showBar(e),t.navBarItems&&l($,function(e){n.setItem(t.navBarItems[e],e)}),T.transition(n,r,t),T.isInitialized=!0,g("")},T.transition=function(n,r,o){function s(){for(var t=0;t<C.length;t++)C[t].isActive=!1;n.isActive=!0,m(n,"active"),m(r,"cached"),T.activeTransition=h=_=null}var l=n.controller(),u=a.transitions.navBar[o.navBarTransition]||a.transitions.navBar.none,c=o.transitionId;l.beforeEnter(o);var h=u(n,r,o.direction,o.shouldAnimate&&T.isInitialized);ionic.DomUtil.cachedAttr(e,"nav-bar-transition",o.navBarTransition),ionic.DomUtil.cachedAttr(e,"nav-bar-direction",o.direction),h.shouldAnimate&&o.renderEnd?m(n,"stage"):(m(n,"entering"),m(r,"leaving")),l.resetBackButton(o),h.run(0),T.activeTransition={run:function(t){h.shouldAnimate=!1,h.direction="back",h.run(t)},cancel:function(e,i,o){g(i),m(r,"active"),m(n,"cached"),h.shouldAnimate=e,h.run(0),T.activeTransition=h=null;var a;o.showBar!==T.showBar()&&T.showBar(o.showBar),o.showBackButton!==T.showBackButton()&&T.showBackButton(o.showBackButton),a&&t.$apply()},complete:function(t,e){g(e),h.shouldAnimate=t,h.run(1),_=s}},i(l.align,16),(v=function(){y===c&&(m(n,"entering"),m(r,"leaving"),h.run(1),_=function(){y!=c&&h.shouldAnimate||s()},v=null)})()},T.triggerTransitionStart=function(t){y=t,v&&v()},T.triggerTransitionEnd=function(){_&&_()},T.showBar=function(e){return arguments.length&&(T.visibleBar(e),t.$parent.$hasHeader=!!e),!!t.$parent.$hasHeader},T.visibleBar=function(t){t&&!M?(e.removeClass(w),T.align()):!t&&M&&e.addClass(w),M=t},T.enable=function(t){T.visibleBar(t);for(var e=0;e<o._instances.length;e++)o._instances[e]!==T&&o._instances[e].visibleBar(!1)},T.showBackButton=function(e){if(arguments.length){for(var n=0;n<C.length;n++)C[n].controller().showNavBack(!!e);t.$isBackButtonShown=!!e}return t.$isBackButtonShown},T.showActiveBackButton=function(t){var e=f();return e?arguments.length?e.controller().showBack(t):e.controller().showBack():void 0},T.title=function(e,n){return u(e)&&(e=e||"",n=n||f(),n&&n.title(e),t.$title=e,s.currentTitle(e)),t.$title},T.align=function(t,e){e=e||f(),e&&e.controller().align(t)},T.hasTabsTop=function(t){e[t?"addClass":"removeClass"]("nav-bar-tabs-top")},T.hasBarSubheader=function(t){e[t?"addClass":"removeClass"]("nav-bar-has-subheader")},T.changeTitle=function(t){c("changeTitle(val)","title(val)"),T.title(t)},T.setTitle=function(t){c("setTitle(val)","title(val)"),T.title(t)},T.getTitle=function(){return c("getTitle()","title()"),T.title()},T.back=function(){c("back()","$ionicHistory.goBack()"),s.goBack()},T.getPreviousTitle=function(){c("getPreviousTitle()","$ionicHistory.backTitle()"),s.goBack()},t.$on("$destroy",function(){t.$parent.$hasHeader=!1,e.parent().removeData(b);for(var n=0;n<C.length;n++)C[n].destroy();e.remove(),e=C=null,D()})}]),a.controller("$ionicNavView",["$scope","$element","$attrs","$compile","$controller","$ionicNavBarDelegate","$ionicNavViewDelegate","$ionicHistory","$ionicViewSwitcher","$ionicConfig","$ionicScrollDelegate",function(t,e,n,r,i,o,a,l,u,c,h){function d(t,n){for(var r,i,o=e.children(),a=0,s=o.length;s>a;a++)if(r=o.eq(a),M(r)==$){i=r.scope(),i&&i.$emit(t.name.replace("Tabs","View"),n);break}}function f(t){ionic.DomUtil.cachedAttr(e,"nav-swipe",t)}function p(t,e){var n=g();n&&n.hasTabsTop(e)}function m(t,e){var n=g();n&&n.hasBarSubheader(e)}function g(){if(_)for(var t=0;t<o._instances.length;t++)if(o._instances[t].$$delegateHandle==_)return o._instances[t];return e.inheritedData("$ionNavBarController")}var v,_,y,w,b,x="$eleId",S="$destroyEle",E="$noCache",$="active",T="cached",C=this,k=!1,M=u.navViewAttr;C.scope=t,C.element=e,C.init=function(){var r=n.name||"",i=e.parent().inheritedData("$uiView"),o=i&&i.state?i.state.name:"";r.indexOf("@")<0&&(r=r+"@"+o);var s={name:r,state:null};e.data("$uiView",s);var l=a._registerInstance(C,n.delegateHandle);return t.$on("$destroy",function(){l(),C.isSwipeFreeze&&h.freezeAllScrolls(!1)}),t.$on("$ionicHistory.deselect",C.cacheCleanup),t.$on("$ionicTabs.top",p),t.$on("$ionicSubheader",m),t.$on("$ionicTabs.beforeLeave",d),t.$on("$ionicTabs.afterLeave",d),t.$on("$ionicTabs.leave",d),ionic.Platform.ready(function(){ionic.Platform.isWebView()&&c.views.swipeBackEnabled()&&C.initSwipeBack()}),s},C.register=function(e){var n=s({},l.currentView()),r=l.register(t,e);C.update(r);var i=l.getViewById(r.viewId)||{},o=w!==r.viewId;C.render(r,e,i,n,o,!0)},C.update=function(t){k=!0,v=t.direction;var n=e.parent().inheritedData("$ionNavViewController");n&&(n.isPrimary(!1),("enter"===v||"exit"===v)&&(n.direction(v),"enter"===v&&(v="none")))},C.render=function(t,e,n,r,i,o){var a=u.create(C,e,n,r,i,o);a.init(t,function(){a.transition(C.direction(),t.enableBack,!b),w=b=null})},C.beforeEnter=function(t){if(k){_=t.navBarDelegate;var e=g();e&&e.update(t),f("")}},C.activeEleId=function(t){return arguments.length&&(y=t),y},C.transitionEnd=function(){var t,n,r,i=e.children();for(t=0,n=i.length;n>t;t++)r=i.eq(t),r.data(x)===y?M(r,$):("leaving"===M(r)||M(r)===$||M(r)===T)&&(r.data(S)||r.data(E)?u.destroyViewEle(r):(M(r,T),ionic.Utils.disconnectScope(r.scope())));f(""),C.isSwipeFreeze&&h.freezeAllScrolls(!1)},C.cacheCleanup=function(){for(var t=e.children(),n=0,r=t.length;r>n;n++)t.eq(n).data(S)&&u.destroyViewEle(t.eq(n))},C.clearCache=function(t){var n,r,i,o,a,s,l=e.children();for(i=0,o=l.length;o>i;i++)if(n=l.eq(i),t)for(s=n.data(x),a=0;a<t.length;a++)s===t[a]&&u.destroyViewEle(n);else M(n)==T?u.destroyViewEle(n):M(n)==$&&(r=n.scope(),r&&r.$broadcast("$ionicView.clearCache"))},C.getViewElements=function(){return e.children()},C.appendViewElement=function(n,o){var a=r(n);e.append(n);var s=t.$new();if(o&&o.$$controller){o.$scope=s;var l=i(o.$$controller,o);o.$$controllerAs&&(s[o.$$controllerAs]=l),e.children().data("$ngControllerController",l)}return a(s),s},C.title=function(t){var e=g();e&&e.title(t)},C.enableBackButton=function(t){var e=g();e&&e.enableBackButton(t)},C.showBackButton=function(t){var e=g();return e?arguments.length?e.showActiveBackButton(t):e.showActiveBackButton():!0},C.showBar=function(t){var e=g();return e?arguments.length?e.showBar(t):e.showBar():!0},C.isPrimary=function(t){return arguments.length&&(k=t),k},C.direction=function(t){return arguments.length&&(v=t),v},C.initSwipeBack=function(){function n(t){if(k&&(x=o(t),!(x>E))){p=l.backView();var n=l.currentView();if(p&&p.historyId===n.historyId&&n.canSwipeBack!==!1){y||(y=window.innerWidth),C.isSwipeFreeze=h.freezeAllScrolls(!0);var a={direction:"back"};S=[],$={showBar:C.showBar(),showBackButton:C.showBackButton()};var c=u.create(C,a,p,n,!0,!1);c.loadViewElements(a),c.render(a),s=c.transition("back",l.enabledBack(p),!0),d=g(),v=ionic.onGesture("drag",r,e[0]),_=ionic.onGesture("release",i,e[0])}}}function r(t){if(k&&s){var e=o(t);if(S.push({t:Date.now(),x:e}),e>=y-15)i(t);else{var n=Math.min(Math.max(a(e),0),1);s.run(n),d&&d.activeTransition&&d.activeTransition.run(n)}}}function i(t){if(k&&s&&S&&S.length>1){for(var e=Date.now(),n=o(t),l=S[S.length-1],u=S.length-2;u>=0&&!(e-l.t>200);u--)l=S[u];var c=n>=S[S.length-2].x,m=a(n),g=Math.abs(l.x-n)/(e-l.t);if(w=p.viewId,b=.03>m||m>.97,c&&(m>.5||g>.1)){var x=g>.5||.05>g||n>y-45?"fast":"slow";f(b?"":x),p.go(),d&&d.activeTransition&&d.activeTransition.complete(!b,x)}else f(b?"":"fast"),w=null,s.cancel(!b),d&&d.activeTransition&&d.activeTransition.cancel(!b,"fast",$),b=null}ionic.offGesture(v,"drag",r),ionic.offGesture(_,"release",i),y=s=S=null,C.isSwipeFreeze=h.freezeAllScrolls(!1)}function o(t){return ionic.tap.pointerCoord(t.gesture.srcEvent).x}function a(t){return(t-x)/y}var s,d,p,m,v,_,y,x,S,E=c.views.swipeBackHitWidth(),$={};m=ionic.onGesture("dragstart",n,e[0]),t.$on("$destroy",function(){ionic.offGesture(m,"dragstart",n),ionic.offGesture(v,"drag",r),ionic.offGesture(_,"release",i),C.element=s=d=null})}}]),a.controller("$ionicRefresher",["$scope","$attrs","$element","$ionicBind","$timeout",function(t,e,n,r,i){function o(t){t.touches=t.touches||[{screenX:t.screenX,screenY:t.screenY}],I=Math.floor(t.touches[0].screenY)}function a(t){t.touches=t.touches||[{screenX:t.screenX,screenY:t.screenY}],I=t.touches[0].screenY;
}function s(){I=null,(L||$)&&($?($=!1,C=0,k>M?(_(),p(M,D)):(p(0,D,v),T=!1)):(C=0,T=!1,f(!1)))}function l(t){if(t.touches=t.touches||[{screenX:t.screenX,screenY:t.screenY}],(I||"mousemove"!=t.type)&&L&&!(t.touches.length>1)){if(null===I&&(I=t.touches[0].screenY),P=t.touches[0].screenY-I,ionic.Platform.isAndroid()&&4.4===ionic.Platform.version()&&!ionic.Platform.isCrosswalk()&&0===x.scrollTop&&P>0&&($=!0,t.preventDefault()),0>=P-C||0!==x.scrollTop)return T&&(T=!1,f(!1)),$&&d(x,P- -1*C),void(0!==k&&h(0));P>0&&0===x.scrollTop&&!T&&(C=P),t.preventDefault(),T||(T=!0,f(!0)),$=!0,h((P-C)/3),!A&&k>M?(A=!0,ionic.requestAnimationFrame(g)):A&&M>k&&(A=!1,ionic.requestAnimationFrame(v))}}function c(t){L=0===t.target.scrollTop||$}function h(t){S.style[ionic.CSS.TRANSFORM]="translateY("+t+"px)",k=t}function d(t,e){t.scrollTop=e;var n=document.createEvent("UIEvents");n.initUIEvent("scroll",!0,!0,window,1),t.dispatchEvent(n)}function f(t){t?ionic.requestAnimationFrame(function(){S.classList.add("overscroll"),y()}):ionic.requestAnimationFrame(function(){S.classList.remove("overscroll"),w(),v()})}function p(t,e,n){function r(t){return--t*t*t+1}function i(){var s=Date.now(),l=Math.min(1,(s-o)/e),u=r(l);h(Math.floor(u*(t-a)+a)),1>l?ionic.requestAnimationFrame(i):(5>t&&t>-5&&(T=!1,f(!1)),n&&n())}var o=Date.now(),a=k;return a===t?void n():void ionic.requestAnimationFrame(i)}function m(){ionic.off(N,a,S),ionic.off(O,l,S),ionic.off(B,s,S),ionic.off("mousedown",o,S),ionic.off("mousemove",l,S),ionic.off("mouseup",s,S),ionic.off("scroll",c,x),x=null,S=null}function g(){n[0].classList.add("active"),t.$onPulling()}function v(){i(function(){n.removeClass("active refreshing refreshing-tail"),A&&(A=!1)},150)}function _(){n[0].classList.add("refreshing");var e=t.$onRefresh();e&&e.then&&e["finally"](function(){t.$broadcast("scroll.refreshComplete")})}function y(){n[0].classList.remove("invisible")}function w(){n[0].classList.add("invisible")}function b(){n[0].classList.add("refreshing-tail")}var x,S,E=this,$=!1,T=!1,C=0,k=0,M=60,A=!1,D=500,I=null,P=null,L=!0;u(e.pullingIcon)||e.$set("pullingIcon","ion-android-arrow-down"),t.showSpinner=!u(e.refreshingIcon)&&"none"!=e.spinner,t.showIcon=u(e.refreshingIcon),r(t,e,{pullingIcon:"@",pullingText:"@",refreshingIcon:"@",refreshingText:"@",spinner:"@",disablePullingRotation:"@",$onRefresh:"&onRefresh",$onPulling:"&onPulling"}),t.$on("scroll.refreshComplete",function(){i(function(){ionic.requestAnimationFrame(b),p(0,D,v),i(function(){T&&(T=!1,f(!1))},D)},D)});var N,O,B;window.navigator.pointerEnabled?(N="pointerdown",O="pointermove",B="pointerup"):window.navigator.msPointerEnabled?(N="MSPointerDown",O="MSPointerMove",B="MSPointerUp"):(N="touchstart",O="touchmove",B="touchend"),E.init=function(){if(x=n.parent().parent()[0],S=n.parent()[0],!(x&&x.classList.contains("ionic-scroll")&&S&&S.classList.contains("scroll")))throw new Error("Refresher must be immediate child of ion-content or ion-scroll");ionic.on(N,a,S),ionic.on(O,l,S),ionic.on(B,s,S),ionic.on("mousedown",o,S),ionic.on("mousemove",l,S),ionic.on("mouseup",s,S),ionic.on("scroll",c,x),t.$on("$destroy",m)},E.getRefresherDomMethods=function(){return{activate:g,deactivate:v,start:_,show:y,hide:w,tail:b}},E.__handleTouchmove=l,E.__getScrollChild=function(){return S},E.__getScrollParent=function(){return x}}]),a.controller("$ionicScroll",["$scope","scrollViewOptions","$timeout","$window","$location","$document","$ionicScrollDelegate","$ionicHistory",function(t,e,n,r,i,o,a,s){var l=this;l.__timeout=n,l._scrollViewOptions=e,l.isNative=function(){return!!e.nativeScrolling};var c,h=l.element=e.el,f=l.$element=d(h);c=l.isNative()?l.scrollView=new ionic.views.ScrollNative(e):l.scrollView=new ionic.views.Scroll(e),(f.parent().length?f.parent():f).data("$$ionicScrollController",l);var p=a._registerInstance(l,e.delegateHandle,function(){return s.isActiveScope(t)});u(e.bouncing)||ionic.Platform.ready(function(){c&&c.options&&(c.options.bouncing=!0,ionic.Platform.isAndroid()&&(c.options.bouncing=!1,c.options.deceleration=.95))});var m=angular.bind(c,c.resize);angular.element(r).on("resize",m);var g=function(e){var n=(e.originalEvent||e).detail||{};t.$onScroll&&t.$onScroll({event:e,scrollTop:n.scrollTop||0,scrollLeft:n.scrollLeft||0})};f.on("scroll",g),t.$on("$destroy",function(){p(),c&&c.__cleanup&&c.__cleanup(),angular.element(r).off("resize",m),f.off("scroll",g),c=l.scrollView=e=l._scrollViewOptions=e.el=l._scrollViewOptions.el=f=l.$element=h=null}),n(function(){c&&c.run&&c.run()}),l.getScrollView=function(){return c},l.getScrollPosition=function(){return c.getValues()},l.resize=function(){return n(m,0,!1).then(function(){f&&f.triggerHandler("scroll-resize")})},l.scrollTop=function(t){l.resize().then(function(){c&&c.scrollTo(0,0,!!t)})},l.scrollBottom=function(t){l.resize().then(function(){if(c){var e=c.getScrollMax();c.scrollTo(e.left,e.top,!!t)}})},l.scrollTo=function(t,e,n){l.resize().then(function(){c&&c.scrollTo(t,e,!!n)})},l.zoomTo=function(t,e,n,r){l.resize().then(function(){c&&c.zoomTo(t,!!e,n,r)})},l.zoomBy=function(t,e,n,r){l.resize().then(function(){c&&c.zoomBy(t,!!e,n,r)})},l.scrollBy=function(t,e,n){l.resize().then(function(){c&&c.scrollBy(t,e,!!n)})},l.anchorScroll=function(t){l.resize().then(function(){if(c){var e=i.hash(),n=e&&o[0].getElementById(e);if(!e||!n)return void c.scrollTo(0,0,!!t);var r=n,a=0,s=0;do null!==r&&(a+=r.offsetLeft),null!==r&&(s+=r.offsetTop),r=r.offsetParent;while(r.attributes!=l.element.attributes&&r.offsetParent);c.scrollTo(a,s,!!t)}})},l.freezeScroll=c.freeze,l.freezeScrollShut=c.freezeShut,l.freezeAllScrolls=function(t){for(var e=0;e<a._instances.length;e++)a._instances[e].freezeScroll(t)},l._setRefresher=function(t,e,n){l.refresher=e;var r=l.refresher.clientHeight||60;c.activatePullToRefresh(r,n)}}]),a.controller("$ionicSideMenus",["$scope","$attrs","$ionicSideMenuDelegate","$ionicPlatform","$ionicBody","$ionicHistory","$ionicScrollDelegate","IONIC_BACK_PRIORITY","$rootScope",function(t,e,n,r,i,o,a,s,l){var u,h,d,p,m,g,v,_=this,y=!0;_.$scope=t,_.initialize=function(t){_.left=t.left,_.right=t.right,_.setContent(t.content),_.dragThresholdX=t.dragThresholdX||10,o.registerHistory(_.$scope)},_.setContent=function(t){t&&(_.content=t,_.content.onDrag=function(t){_._handleDrag(t)},_.content.endDrag=function(t){_._endDrag(t)})},_.isOpenLeft=function(){return _.getOpenAmount()>0},_.isOpenRight=function(){return _.getOpenAmount()<0},_.toggleLeft=function(t){if(!v&&_.left.isEnabled){var e=_.getOpenAmount();0===arguments.length&&(t=0>=e),_.content.enableAnimation(),t?(_.openPercentage(100),l.$emit("$ionicSideMenuOpen","left")):(_.openPercentage(0),l.$emit("$ionicSideMenuClose","left"))}},_.toggleRight=function(t){if(!v&&_.right.isEnabled){var e=_.getOpenAmount();0===arguments.length&&(t=e>=0),_.content.enableAnimation(),t?(_.openPercentage(-100),l.$emit("$ionicSideMenuOpen","right")):(_.openPercentage(0),l.$emit("$ionicSideMenuClose","right"))}},_.toggle=function(t){"right"==t?_.toggleRight():_.toggleLeft()},_.close=function(){_.openPercentage(0),l.$emit("$ionicSideMenuClose","left"),l.$emit("$ionicSideMenuClose","right")},_.getOpenAmount=function(){return _.content&&_.content.getTranslateX()||0},_.getOpenRatio=function(){var t=_.getOpenAmount();return t>=0?t/_.left.width:t/_.right.width},_.isOpen=function(){return 0!==_.getOpenAmount()},_.getOpenPercentage=function(){return 100*_.getOpenRatio()},_.openPercentage=function(t){var e=t/100;_.left&&t>=0?_.openAmount(_.left.width*e):_.right&&0>t&&_.openAmount(_.right.width*e),i.enableClass(0!==t,"menu-open"),_.content.setCanScroll(0==t)},_.openAmount=function(t){var e=_.left&&_.left.width||0,n=_.right&&_.right.width||0;return(_.left&&_.left.isEnabled||!(t>0))&&(_.right&&_.right.isEnabled||!(0>t))?h&&t>e?void _.content.setTranslateX(e):u&&-n>t?void _.content.setTranslateX(-n):(_.content.setTranslateX(t),void(t>=0?(h=!0,u=!1,t>0&&(_.right&&_.right.pushDown&&_.right.pushDown(),_.left&&_.left.bringUp&&_.left.bringUp())):(u=!0,h=!1,_.right&&_.right.bringUp&&_.right.bringUp(),_.left&&_.left.pushDown&&_.left.pushDown()))):void _.content.setTranslateX(0)},_.snapToRest=function(t){_.content.enableAnimation(),d=!1;var e=_.getOpenRatio();if(0===e)return void _.openPercentage(0);var n=.3,r=t.gesture.velocityX,i=t.gesture.direction;e>0&&.5>e&&"right"==i&&n>r?_.openPercentage(0):e>.5&&"left"==i&&n>r?_.openPercentage(100):0>e&&e>-.5&&"left"==i&&n>r?_.openPercentage(0):.5>e&&"right"==i&&n>r?_.openPercentage(-100):"right"==i&&e>=0&&(e>=.5||r>n)?_.openPercentage(100):"left"==i&&0>=e&&(-.5>=e||r>n)?_.openPercentage(-100):_.openPercentage(0)},_.enableMenuWithBackViews=function(t){return arguments.length&&(y=!!t),y},_.isAsideExposed=function(){return!!v},_.exposeAside=function(t){(_.left&&_.left.isEnabled||_.right&&_.right.isEnabled)&&(_.close(),v=t,_.left&&_.left.isEnabled&&_.right&&_.right.isEnabled?_.content.setMarginLeftAndRight(v?_.left.width:0,v?_.right.width:0):_.left&&_.left.isEnabled?_.content.setMarginLeft(v?_.left.width:0):_.right&&_.right.isEnabled&&_.content.setMarginRight(v?_.right.width:0),_.$scope.$emit("$ionicExposeAside",v))},_.activeAsideResizing=function(t){i.enableClass(t,"aside-resizing")},_._endDrag=function(t){v||(d&&_.snapToRest(t),p=null,m=null,g=null)},_._handleDrag=function(e){!v&&t.dragContent&&(p?m=e.gesture.touches[0].pageX:(p=e.gesture.touches[0].pageX,m=p),!d&&Math.abs(m-p)>_.dragThresholdX&&(p=m,d=!0,_.content.disableAnimation(),g=_.getOpenAmount()),d&&_.openAmount(g+(m-p)))},_.canDragContent=function(e){return arguments.length&&(t.dragContent=!!e),t.dragContent},_.edgeThreshold=25,_.edgeThresholdEnabled=!1,_.edgeDragThreshold=function(t){return arguments.length&&(c(t)&&t>0?(_.edgeThreshold=t,_.edgeThresholdEnabled=!0):_.edgeThresholdEnabled=!!t),_.edgeThresholdEnabled},_.isDraggableTarget=function(e){var n=_.edgeThresholdEnabled&&!_.isOpen(),r=e.gesture.startEvent&&e.gesture.startEvent.center&&e.gesture.startEvent.center.pageX,i=!n||r<=_.edgeThreshold||r>=_.content.element.offsetWidth-_.edgeThreshold,a=o.backView(),s=y?!0:!a;if(!s){var l=o.currentView()||{};return i&&a.historyId!==l.historyId}return(t.dragContent||_.isOpen())&&i&&!e.gesture.srcEvent.defaultPrevented&&s&&!e.target.tagName.match(/input|textarea|select|object|embed/i)&&!e.target.isContentEditable&&!(e.target.dataset?e.target.dataset.preventScroll:"true"==e.target.getAttribute("data-prevent-scroll"))},t.sideMenuContentTranslateX=0;var w=f,b=angular.bind(_,_.close);t.$watch(function(){return 0!==_.getOpenAmount()},function(t){w(),t&&(w=r.registerBackButtonAction(b,s.sideMenu))});var x=n._registerInstance(_,e.delegateHandle,function(){return o.isActiveScope(t)});t.$on("$destroy",function(){x(),w(),_.$scope=null,_.content&&(_.content.setCanScroll(!0),_.content.element=null,_.content=null)}),_.initialize({left:{width:275},right:{width:275}})}]),function(t){function e(t,r,i,o){var a,s,l,u=document.createElement(d[t]||t);for(a in r)if(angular.isArray(r[a]))for(s=0;s<r[a].length;s++)if(r[a][s].fn)for(l=0;l<r[a][s].t;l++)e(a,r[a][s].fn(l,o),u,o);else e(a,r[a][s],u,o);else n(u,a,r[a]);i.appendChild(u)}function n(t,e,n){t.setAttribute(d[e]||e,n)}function r(t,e){var n=t.split(";"),r=n.slice(e),i=n.slice(0,n.length-r.length);return n=r.concat(i).reverse(),n.join(";")+";"+n[0]}function i(t,e){return t/=e/2,1>t?.5*t*t*t:(t-=2,.5*(t*t*t+2))}var o="translate(32,32)",s="stroke-opacity",l="round",u="indefinite",c="750ms",h="none",d={a:"animate",an:"attributeName",at:"animateTransform",c:"circle",da:"stroke-dasharray",os:"stroke-dashoffset",f:"fill",lc:"stroke-linecap",rc:"repeatCount",sw:"stroke-width",t:"transform",v:"values"},f={v:"0,32,32;360,32,32",an:"transform",type:"rotate",rc:u,dur:c},p={sw:4,lc:l,line:[{fn:function(t,e){return{y1:"ios"==e?17:12,y2:"ios"==e?29:20,t:o+" rotate("+(30*t+(6>t?180:-180))+")",a:[{fn:function(){return{an:s,dur:c,v:r("0;.1;.15;.25;.35;.45;.55;.65;.7;.85;1",t),rc:u}},t:1}]}},t:12}]},m={android:{c:[{sw:6,da:128,os:82,r:26,cx:32,cy:32,f:h}]},ios:p,"ios-small":p,bubbles:{sw:0,c:[{fn:function(t){return{cx:24*Math.cos(2*Math.PI*t/8),cy:24*Math.sin(2*Math.PI*t/8),t:o,a:[{fn:function(){return{an:"r",dur:c,v:r("1;2;3;4;5;6;7;8",t),rc:u}},t:1}]}},t:8}]},circles:{c:[{fn:function(t){return{r:5,cx:24*Math.cos(2*Math.PI*t/8),cy:24*Math.sin(2*Math.PI*t/8),t:o,sw:0,a:[{fn:function(){return{an:"fill-opacity",dur:c,v:r(".3;.3;.3;.4;.7;.85;.9;1",t),rc:u}},t:1}]}},t:8}]},crescent:{c:[{sw:4,da:128,os:82,r:26,cx:32,cy:32,f:h,at:[f]}]},dots:{c:[{fn:function(t){return{cx:16+16*t,cy:32,sw:0,a:[{fn:function(){return{an:"fill-opacity",dur:c,v:r(".5;.6;.8;1;.8;.6;.5",t),rc:u}},t:1},{fn:function(){return{an:"r",dur:c,v:r("4;5;6;5;4;3;3",t),rc:u}},t:1}]}},t:3}]},lines:{sw:7,lc:l,line:[{fn:function(t){return{x1:10+14*t,x2:10+14*t,a:[{fn:function(){return{an:"y1",dur:c,v:r("16;18;28;18;16",t),rc:u}},t:1},{fn:function(){return{an:"y2",dur:c,v:r("48;44;36;46;48",t),rc:u}},t:1},{fn:function(){return{an:s,dur:c,v:r("1;.8;.5;.4;1",t),rc:u}},t:1}]}},t:4}]},ripple:{f:h,"fill-rule":"evenodd",sw:3,circle:[{fn:function(t){return{cx:32,cy:32,a:[{fn:function(){return{an:"r",begin:-1*t+"s",dur:"2s",v:"0;24",keyTimes:"0;1",keySplines:"0.1,0.2,0.3,1",calcMode:"spline",rc:u}},t:1},{fn:function(){return{an:s,begin:-1*t+"s",dur:"2s",v:".2;1;.2;0",rc:u}},t:1}]}},t:2}]},spiral:{defs:[{linearGradient:[{id:"sGD",gradientUnits:"userSpaceOnUse",x1:55,y1:46,x2:2,y2:46,stop:[{offset:.1,"class":"stop1"},{offset:1,"class":"stop2"}]}]}],g:[{sw:4,lc:l,f:h,path:[{stroke:"url(#sGD)",d:"M4,32 c0,15,12,28,28,28c8,0,16-4,21-9"},{d:"M60,32 C60,16,47.464,4,32,4S4,16,4,32"}],at:[f]}]}},g={android:function(e){function r(){if(!o.stop){var e=i(Date.now()-a,650),h=1,d=0,f=188-58*e,p=182-182*e;s%2&&(h=-1,d=-64,f=128- -58*e,p=182*e);var m=[0,-101,-90,-11,-180,79,-270,-191][s];n(c,"da",Math.max(Math.min(f,188),128)),n(c,"os",Math.max(Math.min(p,182),0)),n(c,"t","scale("+h+",1) translate("+d+",0) rotate("+m+",32,32)"),l+=4.1,l>359&&(l=0),n(u,"t","rotate("+l+",32,32)"),e>=1&&(s++,s>7&&(s=0),a=Date.now()),t.requestAnimationFrame(r)}}var o=this;this.stop=!1;var a,s=0,l=0,u=e.querySelector("g"),c=e.querySelector("circle");return function(){return a=Date.now(),r(),o}}};a.controller("$ionicSpinner",["$element","$attrs","$ionicConfig",function(t,n,r){var i,o;this.init=function(){i=n.icon||r.spinner.icon();var o=document.createElement("div");return e("svg",{viewBox:"0 0 64 64",g:[m[i]]},o,i),t.html(o.innerHTML),this.start(),i},this.start=function(){g[i]&&(o=g[i](t[0])())},this.stop=function(){g[i]&&(o.stop=!0)}}])}(ionic),a.controller("$ionicTab",["$scope","$ionicHistory","$attrs","$location","$state",function(t,e,n,r,i){this.$scope=t,this.hrefMatchesState=function(){return n.href&&0===r.path().indexOf(n.href.replace(/^#/,"").replace(/\/$/,""))},this.srefMatchesState=function(){return n.uiSref&&i.includes(n.uiSref.split("(")[0])},this.navNameMatchesState=function(){return this.navViewName&&e.isCurrentStateNavView(this.navViewName)},this.tabMatchesState=function(){return this.hrefMatchesState()||this.srefMatchesState()||this.navNameMatchesState()}}]),a.controller("$ionicTabs",["$scope","$element","$ionicHistory",function(t,e,n){var r,i=this,o=null,a=null,s=!0;i.tabs=[],i.selectedIndex=function(){return i.tabs.indexOf(o)},i.selectedTab=function(){return o},i.previousSelectedTab=function(){return a},i.add=function(t){n.registerHistory(t),i.tabs.push(t)},i.remove=function(t){var e=i.tabs.indexOf(t);if(-1!==e){if(t.$tabSelected)if(i.deselect(t),1===i.tabs.length);else{var n=e===i.tabs.length-1?e-1:e+1;i.select(i.tabs[n])}i.tabs.splice(e,1)}},i.deselect=function(t){t.$tabSelected&&(a=o,o=r=null,t.$tabSelected=!1,(t.onDeselect||f)(),t.$broadcast&&t.$broadcast("$ionicHistory.deselect"))},i.select=function(e,a){var s;if(c(e)){if(s=e,s>=i.tabs.length)return;e=i.tabs[s]}else s=i.tabs.indexOf(e);1===arguments.length&&(a=!(!e.navViewName&&!e.uiSref)),o&&o.$historyId==e.$historyId?a&&n.goToHistoryRoot(e.$historyId):r!==s&&(l(i.tabs,function(t){i.deselect(t)}),o=e,r=s,i.$scope&&i.$scope.$parent&&(i.$scope.$parent.$activeHistoryId=e.$historyId),e.$tabSelected=!0,(e.onSelect||f)(),a&&t.$emit("$ionicHistory.change",{type:"tab",tabIndex:s,historyId:e.$historyId,navViewName:e.navViewName,hasNavView:!!e.navViewName,title:e.title,url:e.href,uiSref:e.uiSref}))},i.hasActiveScope=function(){for(var t=0;t<i.tabs.length;t++)if(n.isActiveScope(i.tabs[t]))return!0;return!1},i.showBar=function(t){return arguments.length&&(t?e.removeClass("tabs-item-hide"):e.addClass("tabs-item-hide"),s=!!t),s}}]),a.controller("$ionicView",["$scope","$element","$attrs","$compile","$rootScope",function(t,e,n,r,i){function o(){var e=u(n.viewTitle)&&"viewTitle"||u(n.title)&&"title";e&&(a(n[e]),_.push(n.$observe(e,a))),u(n.hideBackButton)&&_.push(t.$watch(n.hideBackButton,function(t){d.showBackButton(!t)})),u(n.hideNavBar)&&_.push(t.$watch(n.hideNavBar,function(t){d.showBar(!t)}))}function a(t){u(t)&&t!==m&&(m=t,d.title(m))}function l(){for(var t=0;t<_.length;t++)_[t]();_=[]}function c(e){return e?r(e)(t.$new()):void 0}function h(e){return!!t.$eval(n[e])}var d,f,p,m,g=this,v={},_=[],y=t.$on("ionNavBar.init",function(t,e){t.stopPropagation(),f=e});g.init=function(){y();var n=e.inheritedData("$ionModalController");d=e.inheritedData("$ionNavViewController"),d&&!n&&(t.$on("$ionicView.beforeEnter",g.beforeEnter),t.$on("$ionicView.afterEnter",o),t.$on("$ionicView.beforeLeave",l))},g.beforeEnter=function(e,r){if(r&&!r.viewNotified){r.viewNotified=!0,i.$$phase||t.$digest(),m=u(n.viewTitle)?n.viewTitle:n.title;var o={};for(var a in v)o[a]=c(v[a]);d.beforeEnter(s(r,{title:m,showBack:!h("hideBackButton"),navBarItems:o,navBarDelegate:f||null,showNavBar:!h("hideNavBar"),hasHeaderBar:!!p})),l()}},g.navElement=function(t,e){v[t]=e}}]),a.directive("ionActionSheet",["$document",function(t){return{restrict:"E",scope:!0,replace:!0,link:function(e,n){var r=function(t){27==t.which&&(e.cancel(),e.$apply())},i=function(t){t.target==n[0]&&(e.cancel(),e.$apply())};e.$on("$destroy",function(){n.remove(),t.unbind("keyup",r)}),t.bind("keyup",r),n.bind("click",i)},template:'<div class="action-sheet-backdrop"><div class="action-sheet-wrapper"><div class="action-sheet" ng-class="{\'action-sheet-has-icons\': $actionSheetHasIcon}"><div class="action-sheet-group action-sheet-options"><div class="action-sheet-title" ng-if="titleText" ng-bind-html="titleText"></div><button class="button action-sheet-option" ng-click="buttonClicked($index)" ng-class="b.className" ng-repeat="b in buttons" ng-bind-html="b.text"></button><button class="button destructive action-sheet-destructive" ng-if="destructiveText" ng-click="destructiveButtonClicked()" ng-bind-html="destructiveText"></button></div><div class="action-sheet-group action-sheet-cancel" ng-if="cancelText"><button class="button" ng-click="cancel()" ng-bind-html="cancelText"></button></div></div></div></div>'}}]),a.directive("ionCheckbox",["$ionicConfig",function(t){return{restrict:"E",replace:!0,require:"?ngModel",transclude:!0,template:'<label class="item item-checkbox"><div class="checkbox checkbox-input-hidden disable-pointer-events"><input type="checkbox"><i class="checkbox-icon"></i></div><div class="item-content disable-pointer-events" ng-transclude></div></label>',compile:function(e,n){var r=e.find("input");l({name:n.name,"ng-value":n.ngValue,"ng-model":n.ngModel,"ng-checked":n.ngChecked,"ng-disabled":n.ngDisabled,"ng-true-value":n.ngTrueValue,"ng-false-value":n.ngFalseValue,"ng-change":n.ngChange,"ng-required":n.ngRequired,required:n.required},function(t,e){u(t)&&r.attr(e,t)});var i=e[0].querySelector(".checkbox");i.classList.add("checkbox-"+t.form.checkbox())}}}]),a.directive("collectionRepeat",t).factory("$ionicCollectionManager",e);var y="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",w=/height:.*?px;\s*width:.*?px/,b=3;t.$inject=["$ionicCollectionManager","$parse","$window","$$rAF","$rootScope","$timeout"],e.$inject=["$rootScope","$window","$$rAF"],a.directive("ionContent",["$timeout","$controller","$ionicBind","$ionicConfig",function(t,e,n,r){return{restrict:"E",require:"^?ionNavView",scope:!0,priority:800,compile:function(t,i){function o(t,r,o){function c(){t.$onScrollComplete({scrollTop:s.scrollView.__scrollTop,scrollLeft:s.scrollView.__scrollLeft})}var h=t.$parent;if(t.$watch(function(){return(h.$hasHeader?" has-header":"")+(h.$hasSubheader?" has-subheader":"")+(h.$hasFooter?" has-footer":"")+(h.$hasSubfooter?" has-subfooter":"")+(h.$hasTabs?" has-tabs":"")+(h.$hasTabsTop?" has-tabs-top":"")},function(t,e){r.removeClass(e),r.addClass(t)}),t.$hasHeader=t.$hasSubheader=t.$hasFooter=t.$hasSubfooter=t.$hasTabs=t.$hasTabsTop=!1,n(t,o,{$onScroll:"&onScroll",$onScrollComplete:"&onScrollComplete",hasBouncing:"@",padding:"@",direction:"@",scrollbarX:"@",scrollbarY:"@",startX:"@",startY:"@",scrollEventInterval:"@"}),t.direction=t.direction||"y",u(o.padding)&&t.$watch(o.padding,function(t){(a||r).toggleClass("padding",!!t)}),"false"===o.scroll);else{var d={};l?(r.addClass("overflow-scroll"),d={el:r[0],delegateHandle:i.delegateHandle,startX:t.$eval(t.startX)||0,startY:t.$eval(t.startY)||0,nativeScrolling:!0}):d={el:r[0],delegateHandle:i.delegateHandle,locking:"true"===(i.locking||"true"),bouncing:t.$eval(t.hasBouncing),startX:t.$eval(t.startX)||0,startY:t.$eval(t.startY)||0,scrollbarX:t.$eval(t.scrollbarX)!==!1,scrollbarY:t.$eval(t.scrollbarY)!==!1,scrollingX:t.direction.indexOf("x")>=0,scrollingY:t.direction.indexOf("y")>=0,scrollEventInterval:parseInt(t.scrollEventInterval,10)||10,scrollingComplete:c},s=e("$ionicScroll",{$scope:t,scrollViewOptions:d}),t.scrollCtrl=s,t.$on("$destroy",function(){d&&(d.scrollingComplete=f,delete d.el),a=null,r=null,i.$$element=null})}}var a,s;t.addClass("scroll-content ionic-scroll"),"false"!=i.scroll?(a=d('<div class="scroll"></div>'),a.append(t.contents()),t.append(a)):t.addClass("scroll-content-false");var l="false"!==i.overflowScroll&&("true"===i.overflowScroll||!r.scrolling.jsScrolling());return l&&(l=!t[0].querySelector("[collection-repeat]")),{pre:o}}}}]),a.directive("exposeAsideWhen",["$window",function(t){return{restrict:"A",require:"^ionSideMenus",link:function(e,n,r,i){function o(){var e="large"==r.exposeAsideWhen?"(min-width:768px)":r.exposeAsideWhen;i.exposeAside(t.matchMedia(e).matches),i.activeAsideResizing(!1)}function a(){i.activeAsideResizing(!0),u()}var s="large"==r.exposeAsideWhen?"(min-width:768px)":r.exposeAsideWhen,l=t.matchMedia(s);l.addListener(function(){a()});var u=ionic.debounce(function(){e.$apply(o)},300,!1);e.$evalAsync(o)}}}]);var x="onHold onTap onDoubleTap onTouch onRelease onDragStart onDrag onDragEnd onDragUp onDragRight onDragDown onDragLeft onSwipe onSwipeUp onSwipeRight onSwipeDown onSwipeLeft".split(" ");x.forEach(function(t){a.directive(t,n(t))}),a.directive("ionHeaderBar",r(!0)).directive("ionFooterBar",r(!1)),a.directive("ionInfiniteScroll",["$timeout",function(t){return{restrict:"E",require:["?^$ionicScroll","ionInfiniteScroll"],template:function(t,e){return e.icon?'<i class="icon {{icon()}} icon-refreshing {{scrollingType}}"></i>':'<ion-spinner icon="{{spinner()}}"></ion-spinner>'},scope:!0,controller:"$ionInfiniteScroll",link:function(e,n,r,i){var o=i[1],a=o.scrollCtrl=i[0],s=o.jsScrolling=!a.isNative();if(s)o.scrollView=a.scrollView,e.scrollingType="js-scrolling",a.$element.on("scroll",o.checkBounds);else{var l=ionic.DomUtil.getParentOrSelfWithClass(n[0].parentNode,"overflow-scroll");if(o.scrollEl=l,!l)throw"Infinite scroll must be used inside a scrollable div";o.scrollEl.addEventListener("scroll",o.checkBounds)}var c=u(r.immediateCheck)?e.$eval(r.immediateCheck):!0;c&&t(function(){o.checkBounds()})}}}]);var S=-1;a.directive("ionInput",[function(){return{restrict:"E",controller:["$scope","$element",function(t,e){this.$scope=t,this.$element=e,this.setInputAriaLabeledBy=function(t){var n=e[0].querySelectorAll("input,textarea");n.length&&n[0].setAttribute("aria-labelledby",t)},this.focus=function(){var t=e[0].querySelectorAll("input,textarea");t.length&&t[0].focus()}}]}}]),a.directive("ionLabel",[function(){return{restrict:"E",require:"?^ionInput",compile:function(){return function(t,e,n,r){var i=e[0];e.addClass("input-label"),e.attr("aria-label",e.text());var o=i.id||"_label-"+ ++S;i.id||e.attr("id",o),r&&(r.setInputAriaLabeledBy(o),e.on("click",function(){r.focus()}))}}}}]),a.directive("inputLabel",[function(){return{restrict:"C",require:"?^ionInput",compile:function(){return function(t,e,n,r){var i=e[0];e.attr("aria-label",e.text());var o=i.id||"_label-"+ ++S;i.id||e.attr("id",o),r&&r.setInputAriaLabeledBy(o)}}}}]),a.directive("ionItem",["$$rAF",function(t){return{restrict:"E",controller:["$scope","$element",function(t,e){this.$scope=t,this.$element=e}],scope:!0,compile:function(e,n){var r=u(n.href)||u(n.ngHref)||u(n.uiSref),i=r||/ion-(delete|option|reorder)-button/i.test(e.html());if(i){var o=d(r?"<a></a>":"<div></div>");o.addClass("item-content"),(u(n.href)||u(n.ngHref))&&(o.attr("ng-href","{{$href()}}"),u(n.target)&&o.attr("target","{{$target()}}")),o.append(e.contents()),e.addClass("item item-complex").append(o)}else e.addClass("item");return function(e,n,r){e.$href=function(){return r.href||r.ngHref},e.$target=function(){return r.target};var i=n[0].querySelector(".item-content");i&&e.$on("$collectionRepeatLeave",function(){i&&i.$$ionicOptionsOpen&&(i.style[ionic.CSS.TRANSFORM]="",i.style[ionic.CSS.TRANSITION]="none",t(function(){i.style[ionic.CSS.TRANSITION]=""}),i.$$ionicOptionsOpen=!1)})}}}}]);var E='<div class="item-left-edit item-delete enable-pointer-events"></div>';a.directive("ionDeleteButton",function(){function t(t){t.stopPropagation()}return{restrict:"E",require:["^^ionItem","^?ionList"],priority:Number.MAX_VALUE,compile:function(e,n){return n.$set("class",(n["class"]||"")+" button icon button-icon",!0),function(e,n,r,i){function o(){s=s||n.controller("ionList"),s&&s.showDelete()&&l.addClass("visible active")}var a=i[0],s=i[1],l=d(E);l.append(n),a.$element.append(l).addClass("item-left-editable"),n.on("click",t),o(),e.$on("$ionic.reconnectScope",o)}}}}),a.directive("itemFloatingLabel",function(){return{restrict:"C",link:function(t,e){var n=e[0],r=n.querySelector("input, textarea"),i=n.querySelector(".input-label");if(r&&i){var o=function(){r.value?i.classList.add("has-input"):i.classList.remove("has-input")};r.addEventListener("input",o);var a=d(r).controller("ngModel");a&&(a.$render=function(){r.value=a.$viewValue||"",o()}),t.$on("$destroy",function(){r.removeEventListener("input",o)})}}}});var $='<div class="item-options invisible"></div>';a.directive("ionOptionButton",[function(){function t(t){t.stopPropagation()}return{restrict:"E",require:"^ionItem",priority:Number.MAX_VALUE,compile:function(e,n){return n.$set("class",(n["class"]||"")+" button",!0),function(e,n,r,i){i.optionsContainer||(i.optionsContainer=d($),i.$element.append(i.optionsContainer)),i.optionsContainer.append(n),i.$element.addClass("item-right-editable"),n.on("click",t)}}}}]);var T='<div data-prevent-scroll="true" class="item-right-edit item-reorder enable-pointer-events"></div>';a.directive("ionReorderButton",["$parse",function(t){return{restrict:"E",require:["^ionItem","^?ionList"],priority:Number.MAX_VALUE,compile:function(e,n){return n.$set("class",(n["class"]||"")+" button icon button-icon",!0),e[0].setAttribute("data-prevent-scroll",!0),function(e,n,r,i){var o=i[0],a=i[1],s=t(r.onReorder);e.$onReorder=function(t,n){s(e,{$fromIndex:t,$toIndex:n})},r.ngClick||r.onClick||r.onclick||(n[0].onclick=function(t){return t.stopPropagation(),!1});var l=d(T);l.append(n),o.$element.append(l).addClass("item-right-editable"),a&&a.showReorder()&&l.addClass("visible active")}}}}]),a.directive("keyboardAttach",function(){return function(t,e){function n(t){if(!ionic.Platform.isAndroid()||ionic.Platform.isFullScreen){var n=t.keyboardHeight||t.detail&&t.detail.keyboardHeight;e.css("bottom",n+"px"),o=e.controller("$ionicScroll"),o&&(o.scrollView.__container.style.bottom=n+i(e[0])+"px")}}function r(){(!ionic.Platform.isAndroid()||ionic.Platform.isFullScreen)&&(e.css("bottom",""),o&&(o.scrollView.__container.style.bottom=""))}ionic.on("native.keyboardshow",n,window),ionic.on("native.keyboardhide",r,window),ionic.on("native.showkeyboard",n,window),ionic.on("native.hidekeyboard",r,window);var o;t.$on("$destroy",function(){ionic.off("native.keyboardshow",n,window),ionic.off("native.keyboardhide",r,window),ionic.off("native.showkeyboard",n,window),ionic.off("native.hidekeyboard",r,window)})}}),a.directive("ionList",["$timeout",function(t){return{restrict:"E",require:["ionList","^?$ionicScroll"],controller:"$ionicList",compile:function(e,n){var r=d('<div class="list">').append(e.contents()).addClass(n.type);return e.append(r),function(e,r,i,o){function a(){function i(t,e){e()&&t.addClass("visible")||t.removeClass("active"),ionic.requestAnimationFrame(function(){e()&&t.addClass("active")||t.removeClass("visible")})}var o=s.listView=new ionic.views.ListView({el:r[0],listEl:r.children()[0],scrollEl:l&&l.element,scrollView:l&&l.scrollView,onReorder:function(e,n,r){var i=d(e).scope();i&&i.$onReorder&&t(function(){i.$onReorder(n,r)})},canSwipe:function(){return s.canSwipeItems()}});e.$on("$destroy",function(){o&&(o.deregister&&o.deregister(),o=null)}),u(n.canSwipe)&&e.$watch("!!("+n.canSwipe+")",function(t){s.canSwipeItems(t)}),u(n.showDelete)&&e.$watch("!!("+n.showDelete+")",function(t){s.showDelete(t)}),u(n.showReorder)&&e.$watch("!!("+n.showReorder+")",function(t){s.showReorder(t)}),e.$watch(function(){return s.showDelete()},function(t,e){if(t||e){t&&s.closeOptionButtons(),s.canSwipeItems(!t),r.children().toggleClass("list-left-editing",t),r.toggleClass("disable-pointer-events",t);var n=d(r[0].getElementsByClassName("item-delete"));i(n,s.showDelete)}}),e.$watch(function(){return s.showReorder()},function(t,e){if(t||e){t&&s.closeOptionButtons(),s.canSwipeItems(!t),r.children().toggleClass("list-right-editing",t),r.toggleClass("disable-pointer-events",t);var n=d(r[0].getElementsByClassName("item-reorder"));i(n,s.showReorder)}})}var s=o[0],l=o[1];t(a)}}}}]),a.directive("menuClose",["$ionicHistory","$timeout",function(t,e){return{restrict:"AC",link:function(n,r){r.bind("click",function(){var n=r.inheritedData("$ionSideMenusController");n&&(t.nextViewOptions({historyRoot:!0,disableAnimate:!0,expire:300}),e(function(){t.nextViewOptions({historyRoot:!1,disableAnimate:!1})},300),n.close())})}}}]),a.directive("menuToggle",function(){return{restrict:"AC",link:function(t,e,n){t.$on("$ionicView.beforeEnter",function(t,n){if(n.enableBack){var r=e.inheritedData("$ionSideMenusController");r.enableMenuWithBackViews()||e.addClass("hide")}else e.removeClass("hide")}),e.bind("click",function(){var t=e.inheritedData("$ionSideMenusController");t&&t.toggle(n.menuToggle)})}}}),a.directive("ionModal",[function(){return{restrict:"E",transclude:!0,replace:!0,controller:[function(){}],template:'<div class="modal-backdrop"><div class="modal-backdrop-bg"></div><div class="modal-wrapper" ng-transclude></div></div>'}}]),a.directive("ionModalView",function(){return{restrict:"E",compile:function(t){t.addClass("modal")}}}),a.directive("ionNavBackButton",["$ionicConfig","$document",function(t,e){return{restrict:"E",require:"^ionNavBar",compile:function(n,r){function i(t){return/ion-|icon/.test(t.className)}var o=e[0].createElement("button");for(var a in r.$attr)o.setAttribute(r.$attr[a],r[a]);r.ngClick||o.setAttribute("ng-click","$ionicGoBack()"),o.className="button back-button hide buttons "+(n.attr("class")||""),o.innerHTML=n.html()||"";for(var s,l,u,c,h=i(n[0]),d=0;d<n[0].childNodes.length;d++)s=n[0].childNodes[d],1===s.nodeType?i(s)?h=!0:s.classList.contains("default-title")?u=!0:s.classList.contains("previous-title")&&(c=!0):l||3!==s.nodeType||(l=!!s.nodeValue.trim());var f=t.backButton.icon();if(!h&&f&&"none"!==f&&(o.innerHTML='<i class="icon '+f+'"></i> '+o.innerHTML,o.className+=" button-clear"),!l){var p=e[0].createElement("span");p.className="back-text",
!u&&t.backButton.text()&&(p.innerHTML+='<span class="default-title">'+t.backButton.text()+"</span>"),!c&&t.backButton.previousTitleText()&&(p.innerHTML+='<span class="previous-title"></span>'),o.appendChild(p)}return n.attr("class","hide"),n.empty(),{pre:function(t,e,n,r){r.navElement("backButton",o.outerHTML),o=null}}}}}]),a.directive("ionNavBar",function(){return{restrict:"E",controller:"$ionicNavBar",scope:!0,link:function(t,e,n,r){r.init()}}}),a.directive("ionNavButtons",["$document",function(t){return{require:"^ionNavBar",restrict:"E",compile:function(e,n){var r="left";/^primary|secondary|right$/i.test(n.side||"")&&(r=n.side.toLowerCase());var i=t[0].createElement("span");i.className=r+"-buttons",i.innerHTML=e.html();var o=r+"Buttons";return e.attr("class","hide"),e.empty(),{pre:function(t,e,n,r){var a=e.parent().data("$ionViewController");a?a.navElement(o,i.outerHTML):r.navElement(o,i.outerHTML),i=null}}}}}]),a.directive("navDirection",["$ionicViewSwitcher",function(t){return{restrict:"A",priority:1e3,link:function(e,n,r){n.bind("click",function(){t.nextDirection(r.navDirection)})}}}]),a.directive("ionNavTitle",["$document",function(t){return{require:"^ionNavBar",restrict:"E",compile:function(e,n){var r="title",i=t[0].createElement("span");for(var o in n.$attr)i.setAttribute(n.$attr[o],n[o]);return i.classList.add("nav-bar-title"),i.innerHTML=e.html(),e.attr("class","hide"),e.empty(),{pre:function(t,e,n,o){var a=e.parent().data("$ionViewController");a?a.navElement(r,i.outerHTML):o.navElement(r,i.outerHTML),i=null}}}}}]),a.directive("navTransition",["$ionicViewSwitcher",function(t){return{restrict:"A",priority:1e3,link:function(e,n,r){n.bind("click",function(){t.nextTransition(r.navTransition)})}}}]),a.directive("ionNavView",["$state","$ionicConfig",function(t,e){return{restrict:"E",terminal:!0,priority:2e3,transclude:!0,controller:"$ionicNavView",compile:function(n,r,i){return n.addClass("view-container"),ionic.DomUtil.cachedAttr(n,"nav-view-transition",e.views.transition()),function(e,n,r,o){function a(e){var n=t.$current&&t.$current.locals[l.name];n&&(e||n!==s)&&(s=n,l.state=n.$$state,o.register(n))}var s;i(e,function(t){n.append(t)});var l=o.init();e.$on("$stateChangeSuccess",function(){a(!1)}),e.$on("$viewContentLoading",function(){a(!1)}),a(!0)}}}}]),a.config(["$provide",function(t){t.decorator("ngClickDirective",["$delegate",function(t){return t.shift(),t}])}]).factory("$ionicNgClick",["$parse",function(t){return function(e,n,r){var i=angular.isFunction(r)?r:t(r);n.on("click",function(t){e.$apply(function(){i(e,{$event:t})})}),n.onclick=f}}]).directive("ngClick",["$ionicNgClick",function(t){return function(e,n,r){t(e,n,r.ngClick)}}]).directive("ionStopEvent",function(){return{restrict:"A",link:function(t,e,n){e.bind(n.ionStopEvent,o)}}}),a.directive("ionPane",function(){return{restrict:"E",link:function(t,e){e.addClass("pane")}}}),a.directive("ionPopover",[function(){return{restrict:"E",transclude:!0,replace:!0,controller:[function(){}],template:'<div class="popover-backdrop"><div class="popover-wrapper" ng-transclude></div></div>'}}]),a.directive("ionPopoverView",function(){return{restrict:"E",compile:function(t){t.append(d('<div class="popover-arrow">')),t.addClass("popover")}}}),a.directive("ionRadio",function(){return{restrict:"E",replace:!0,require:"?ngModel",transclude:!0,template:'<label class="item item-radio"><input type="radio" name="radio-group"><div class="radio-content"><div class="item-content disable-pointer-events" ng-transclude></div><i class="radio-icon disable-pointer-events icon ion-checkmark"></i></div></label>',compile:function(t,e){if(e.icon){var n=t.find("i");n.removeClass("ion-checkmark").addClass(e.icon)}var r=t.find("input");return l({name:e.name,value:e.value,disabled:e.disabled,"ng-value":e.ngValue,"ng-model":e.ngModel,"ng-disabled":e.ngDisabled,"ng-change":e.ngChange,"ng-required":e.ngRequired,required:e.required},function(t,e){u(t)&&r.attr(e,t)}),function(t,e,n){t.getValue=function(){return t.ngValue||n.value}}}}}),a.directive("ionRefresher",[function(){return{restrict:"E",replace:!0,require:["?^$ionicScroll","ionRefresher"],controller:"$ionicRefresher",template:'<div class="scroll-refresher invisible" collection-repeat-ignore><div class="ionic-refresher-content" ng-class="{\'ionic-refresher-with-text\': pullingText || refreshingText}"><div class="icon-pulling" ng-class="{\'pulling-rotation-disabled\':disablePullingRotation}"><i class="icon {{pullingIcon}}"></i></div><div class="text-pulling" ng-bind-html="pullingText"></div><div class="icon-refreshing"><ion-spinner ng-if="showSpinner" icon="{{spinner}}"></ion-spinner><i ng-if="showIcon" class="icon {{refreshingIcon}}"></i></div><div class="text-refreshing" ng-bind-html="refreshingText"></div></div></div>',link:function(t,e,n,r){var i=r[0],o=r[1];!i||i.isNative()?o.init():(e[0].classList.add("js-scrolling"),i._setRefresher(t,e[0],o.getRefresherDomMethods()),t.$on("scroll.refreshComplete",function(){t.$evalAsync(function(){i.scrollView.finishPullToRefresh()})}))}}}]),a.directive("ionScroll",["$timeout","$controller","$ionicBind","$ionicConfig",function(t,e,n,r){return{restrict:"E",scope:!0,controller:function(){},compile:function(t,i){function o(t,r,i){n(t,i,{direction:"@",paging:"@",$onScroll:"&onScroll",scroll:"@",scrollbarX:"@",scrollbarY:"@",zooming:"@",minZoom:"@",maxZoom:"@"}),t.direction=t.direction||"y",u(i.padding)&&t.$watch(i.padding,function(t){a.toggleClass("padding",!!t)}),t.$eval(t.paging)===!0&&a.addClass("scroll-paging"),t.direction||(t.direction="y");var o=t.$eval(t.paging)===!0;s&&r.addClass("overflow-scroll"),r.addClass("scroll-"+t.direction);var l={el:r[0],delegateHandle:i.delegateHandle,locking:"true"===(i.locking||"true"),bouncing:t.$eval(i.hasBouncing),paging:o,scrollbarX:t.$eval(t.scrollbarX)!==!1,scrollbarY:t.$eval(t.scrollbarY)!==!1,scrollingX:t.direction.indexOf("x")>=0,scrollingY:t.direction.indexOf("y")>=0,zooming:t.$eval(t.zooming)===!0,maxZoom:t.$eval(t.maxZoom)||3,minZoom:t.$eval(t.minZoom)||.5,preventDefault:!0,nativeScrolling:s};o&&(l.speedMultiplier=.8,l.bouncing=!1),e("$ionicScroll",{$scope:t,scrollViewOptions:l})}t.addClass("scroll-view ionic-scroll");var a=d('<div class="scroll"></div>');a.append(t.contents()),t.append(a);var s="false"!==i.overflowScroll&&("true"===i.overflowScroll||!r.scrolling.jsScrolling());return{pre:o}}}}]),a.directive("ionSideMenu",function(){return{restrict:"E",require:"^ionSideMenus",scope:!0,compile:function(t,e){return angular.isUndefined(e.isEnabled)&&e.$set("isEnabled","true"),angular.isUndefined(e.width)&&e.$set("width","275"),t.addClass("menu menu-"+e.side),function(t,n,r,i){t.side=r.side||"left";var o=i[t.side]=new ionic.views.SideMenu({width:e.width,el:n[0],isEnabled:!0});t.$watch(r.width,function(t){var e=+t;e&&e==t&&o.setWidth(+t)}),t.$watch(r.isEnabled,function(t){o.setIsEnabled(!!t)})}}}}),a.directive("ionSideMenuContent",["$timeout","$ionicGesture","$window",function(t,e,n){return{restrict:"EA",require:"^ionSideMenus",scope:!0,compile:function(r,i){function o(o,a,s,l){function c(t){0!==l.getOpenAmount()?(l.close(),t.gesture.srcEvent.preventDefault(),m=null,g=null):m||(m=ionic.tap.pointerCoord(t.gesture.srcEvent))}function h(t){l.isDraggableTarget(t)&&"x"==p(t)&&(l._handleDrag(t),t.gesture.srcEvent.preventDefault())}function d(t){"x"==p(t)&&t.gesture.srcEvent.preventDefault()}function f(t){l._endDrag(t),m=null,g=null}function p(t){if(g)return g;if(t&&t.gesture){if(m){var e=ionic.tap.pointerCoord(t.gesture.srcEvent),n=Math.abs(e.x-m.x),r=Math.abs(e.y-m.y),i=r>n?"y":"x";return Math.max(n,r)>30&&(g=i),i}m=ionic.tap.pointerCoord(t.gesture.srcEvent)}return"y"}var m=null,g=null;u(i.dragContent)?o.$watch(i.dragContent,function(t){l.canDragContent(t)}):l.canDragContent(!0),u(i.edgeDragThreshold)&&o.$watch(i.edgeDragThreshold,function(t){l.edgeDragThreshold(t)});var v={element:r[0],onDrag:function(){},endDrag:function(){},setCanScroll:function(t){var e=a[0].querySelector(".scroll");if(e){var n=angular.element(e.parentElement);if(n){var r=n.scope();r.scrollCtrl&&r.scrollCtrl.freezeScrollShut(!t)}}},getTranslateX:function(){return o.sideMenuContentTranslateX||0},setTranslateX:ionic.animationFrameThrottle(function(e){var n=v.offsetX+e;a[0].style[ionic.CSS.TRANSFORM]="translate3d("+n+"px,0,0)",t(function(){o.sideMenuContentTranslateX=e})}),setMarginLeft:ionic.animationFrameThrottle(function(t){t?(t=parseInt(t,10),a[0].style[ionic.CSS.TRANSFORM]="translate3d("+t+"px,0,0)",a[0].style.width=n.innerWidth-t+"px",v.offsetX=t):(a[0].style[ionic.CSS.TRANSFORM]="translate3d(0,0,0)",a[0].style.width="",v.offsetX=0)}),setMarginRight:ionic.animationFrameThrottle(function(t){t?(t=parseInt(t,10),a[0].style.width=n.innerWidth-t+"px",v.offsetX=t):(a[0].style.width="",v.offsetX=0),a[0].style[ionic.CSS.TRANSFORM]="translate3d(0,0,0)"}),setMarginLeftAndRight:ionic.animationFrameThrottle(function(t,e){t=t&&parseInt(t,10)||0,e=e&&parseInt(e,10)||0;var r=t+e;r>0?(a[0].style[ionic.CSS.TRANSFORM]="translate3d("+t+"px,0,0)",a[0].style.width=n.innerWidth-r+"px",v.offsetX=t):(a[0].style[ionic.CSS.TRANSFORM]="translate3d(0,0,0)",a[0].style.width="",v.offsetX=0)}),enableAnimation:function(){o.animationEnabled=!0,a[0].classList.add("menu-animated")},disableAnimation:function(){o.animationEnabled=!1,a[0].classList.remove("menu-animated")},offsetX:0};l.setContent(v);var _={stop_browser_behavior:!1};_.prevent_default_directions=["left","right"];var y=e.on("tap",c,a,_),w=e.on("dragright",h,a,_),b=e.on("dragleft",h,a,_),x=e.on("dragup",d,a,_),S=e.on("dragdown",d,a,_),E=e.on("release",f,a,_);o.$on("$destroy",function(){v&&(v.element=null,v=null),e.off(b,"dragleft",h),e.off(w,"dragright",h),e.off(x,"dragup",d),e.off(S,"dragdown",d),e.off(E,"release",f),e.off(y,"tap",c)})}return r.addClass("menu-content pane"),{pre:o}}}}]),a.directive("ionSideMenus",["$ionicBody",function(t){return{restrict:"ECA",controller:"$ionicSideMenus",compile:function(e,n){function r(e,n,r,i){i.enableMenuWithBackViews(e.$eval(r.enableMenuWithBackViews)),e.$on("$ionicExposeAside",function(n,r){e.$exposeAside||(e.$exposeAside={}),e.$exposeAside.active=r,t.enableClass(r,"aside-open")}),e.$on("$ionicView.beforeEnter",function(t,n){n.historyId&&(e.$activeHistoryId=n.historyId)}),e.$on("$destroy",function(){t.removeClass("menu-open","aside-open")})}return n.$set("class",(n["class"]||"")+" view"),{pre:r}}}}]),a.directive("ionSlideBox",["$animate","$timeout","$compile","$ionicSlideBoxDelegate","$ionicHistory","$ionicScrollDelegate",function(t,e,n,r,i,o){return{restrict:"E",replace:!0,transclude:!0,scope:{autoPlay:"=",doesContinue:"@",slideInterval:"@",showPager:"@",pagerClick:"&",disableScroll:"@",onSlideChanged:"&",activeSlide:"=?",bounce:"@"},controller:["$scope","$element","$attrs",function(t,n,a){function s(t){t&&!l.isScrollFreeze?o.freezeAllScrolls(t):!t&&l.isScrollFreeze&&o.freezeAllScrolls(!1),l.isScrollFreeze=t}var l=this,c=t.$eval(t.doesContinue)===!0,h=t.$eval(t.bounce)!==!1,d=u(a.autoPlay)?!!t.autoPlay:!1,f=d?t.$eval(t.slideInterval)||4e3:0,p=new ionic.views.Slider({el:n[0],auto:f,continuous:c,startSlide:t.activeSlide,bouncing:h,slidesChanged:function(){t.currentSlide=p.currentIndex(),e(function(){})},callback:function(n){t.currentSlide=n,t.onSlideChanged({index:t.currentSlide,$index:t.currentSlide}),t.$parent.$broadcast("slideBox.slideChanged",n),t.activeSlide=n,e(function(){})},onDrag:function(){s(!0)},onDragEnd:function(){s(!1)}});p.enableSlide(t.$eval(a.disableScroll)!==!0),t.$watch("activeSlide",function(t){u(t)&&p.slide(t)}),t.$on("slideBox.nextSlide",function(){p.next()}),t.$on("slideBox.prevSlide",function(){p.prev()}),t.$on("slideBox.setSlide",function(t,e){p.slide(e)}),this.__slider=p;var m=r._registerInstance(p,a.delegateHandle,function(){return i.isActiveScope(t)});t.$on("$destroy",function(){m(),p.kill()}),this.slidesCount=function(){return p.slidesCount()},this.onPagerClick=function(e){t.pagerClick({index:e})},e(function(){p.load()})}],template:'<div class="slider"><div class="slider-slides" ng-transclude></div></div>',link:function(e,r,i){function o(){if(!a){var t=e.$new();a=d("<ion-pager></ion-pager>"),r.append(a),a=n(a)(t)}return a}t.enabled(!1,r),u(i.showPager)||(e.showPager=!0,o().toggleClass("hide",!1)),i.$observe("showPager",function(t){void 0!==t&&(t=e.$eval(t),o().toggleClass("hide",!t))});var a}}}]).directive("ionSlide",function(){return{restrict:"E",require:"?^ionSlideBox",compile:function(t){t.addClass("slider-slide")}}}).directive("ionPager",function(){return{restrict:"E",replace:!0,require:"^ionSlideBox",template:'<div class="slider-pager"><span class="slider-pager-page" ng-repeat="slide in numSlides() track by $index" ng-class="{active: $index == currentSlide}" ng-click="pagerClick($index)"><i class="icon ion-record"></i></span></div>',link:function(t,e,n,r){var i=function(t){for(var n=e[0].children,r=n.length,i=0;r>i;i++)i==t?n[i].classList.add("active"):n[i].classList.remove("active")};t.pagerClick=function(t){r.onPagerClick(t)},t.numSlides=function(){return new Array(r.slidesCount())},t.$watch("currentSlide",function(t){i(t)})}}}),a.directive("ionSlides",["$animate","$timeout","$compile",function(t,e,n){return{restrict:"E",transclude:!0,scope:{options:"=",slider:"="},template:'<div class="swiper-container"><div class="swiper-wrapper" ng-transclude></div><div ng-hide="!showPager" class="swiper-pagination"></div></div>',controller:["$scope","$element",function(t,r){var i=this;this.update=function(){e(function(){i.__slider&&(i.__slider.update(),i._options.loop&&i.__slider.createLoop(),i.__slider.slides.length>10&&(t.showPager=!1))})},this.rapidUpdate=ionic.debounce(function(){i.update()},50),this.getSlider=function(){return i.__slider};var o=t.options||{},a=angular.extend({pagination:".swiper-pagination",paginationClickable:!0,lazyLoading:!0,preloadImages:!1},o);this._options=a,e(function(){var e=new ionic.views.Swiper(r.children()[0],a,t,n);i.__slider=e,t.slider=i.__slider,t.$on("$destroy",function(){e.destroy()})})}],link:function(t){t.showPager=!0}}}]).directive("ionSlidePage",[function(){return{restrict:"E",require:"?^ionSlides",transclude:!0,replace:!0,template:'<div class="swiper-slide" ng-transclude></div>',link:function(t,e,n,r){r.rapidUpdate()}}}]),a.directive("ionSpinner",function(){return{restrict:"E",controller:"$ionicSpinner",link:function(t,e,n,r){var i=r.init();e.addClass("spinner spinner-"+i),e.on("$destroy",function(){r.stop()})}}}),a.directive("ionTab",["$compile","$ionicConfig","$ionicBind","$ionicViewSwitcher",function(t,e,n,r){function i(t,e){return u(e)?" "+t+'="'+e+'"':""}return{restrict:"E",require:["^ionTabs","ionTab"],controller:"$ionicTab",scope:!0,compile:function(o,a){for(var s="<ion-tab-nav"+i("ng-click",a.ngClick)+i("title",a.title)+i("icon",a.icon)+i("icon-on",a.iconOn)+i("icon-off",a.iconOff)+i("badge",a.badge)+i("badge-style",a.badgeStyle)+i("hidden",a.hidden)+i("disabled",a.disabled)+i("class",a["class"])+"></ion-tab-nav>",l=document.createElement("div"),u=0;u<o[0].children.length;u++)l.appendChild(o[0].children[u].cloneNode(!0));var c=l.childElementCount;o.empty();var h,f;return c&&("ION-NAV-VIEW"===l.children[0].tagName&&(h=l.children[0].getAttribute("name"),l.children[0].classList.add("view-container"),f=!0),1===c&&(l=l.children[0]),f||l.classList.add("pane"),l.classList.add("tab-content")),function(i,o,a,u){function f(){y.tabMatchesState()&&_.select(i,!1)}function p(n){n&&c?(w||(g=i.$new(),v=d(l),r.viewEleIsActive(v,!0),_.$element.append(v),t(v)(g),w=!0),r.viewEleIsActive(v,!0)):w&&v&&(e.views.maxCache()>0?r.viewEleIsActive(v,!1):m())}function m(){g&&g.$destroy(),w&&v&&v.remove(),l.innerHTML="",w=g=v=null}var g,v,_=u[0],y=u[1],w=!1;i.$tabSelected=!1,n(i,a,{onSelect:"&",onDeselect:"&",title:"@",uiSref:"@",href:"@"}),_.add(i),i.$on("$destroy",function(){i.$tabsDestroy||_.remove(i),b.isolateScope().$destroy(),b.remove(),b=l=v=null}),o[0].removeAttribute("title"),h&&(y.navViewName=i.navViewName=h),i.$on("$stateChangeSuccess",f),f();var b=d(s);b.data("$ionTabsController",_),b.data("$ionTabController",y),_.$tabsElement.append(t(b)(i)),i.$watch("$tabSelected",p),i.$on("$ionicView.afterEnter",function(){r.viewEleIsActive(v,i.$tabSelected)}),i.$on("$ionicView.clearCache",function(){i.$tabSelected||m()})}}}}]),a.directive("ionTabNav",[function(){return{restrict:"E",replace:!0,require:["^ionTabs","^ionTab"],template:"<a ng-class=\"{'tab-item-active': isTabActive(), 'has-badge':badge, 'tab-hidden':isHidden()}\" "+' ng-disabled="disabled()" class="tab-item"><span class="badge {{badgeStyle}}" ng-if="badge">{{badge}}</span><i class="icon {{getIconOn()}}" ng-if="getIconOn() && isTabActive()"></i><i class="icon {{getIconOff()}}" ng-if="getIconOff() && !isTabActive()"></i><span class="tab-title" ng-bind-html="title"></span></a>',scope:{title:"@",icon:"@",iconOn:"@",iconOff:"@",badge:"=",hidden:"@",disabled:"&",badgeStyle:"@","class":"@"},link:function(t,e,n,r){var i=r[0],o=r[1];e[0].removeAttribute("title"),t.selectTab=function(t){t.preventDefault(),i.select(o.$scope,!0)},n.ngClick||e.on("click",function(e){t.$apply(function(){t.selectTab(e)})}),t.isHidden=function(){return"true"===n.hidden||n.hidden===!0?!0:!1},t.getIconOn=function(){return t.iconOn||t.icon},t.getIconOff=function(){return t.iconOff||t.icon},t.isTabActive=function(){return i.selectedTab()===o.$scope}}}}]),a.directive("ionTabs",["$ionicTabsDelegate","$ionicConfig",function(t,e){return{restrict:"E",scope:!0,controller:"$ionicTabs",compile:function(n){function r(e,n,r,i){function a(t,e){t.stopPropagation();var n=i.previousSelectedTab();n&&n.$broadcast(t.name.replace("NavView","Tabs"),e)}var s=t._registerInstance(i,r.delegateHandle,i.hasActiveScope);i.$scope=e,i.$element=n,i.$tabsElement=d(n[0].querySelector(".tabs")),e.$watch(function(){return n[0].className},function(t){var n=-1!==t.indexOf("tabs-top"),r=-1!==t.indexOf("tabs-item-hide");e.$hasTabs=!n&&!r,e.$hasTabsTop=n&&!r,e.$emit("$ionicTabs.top",e.$hasTabsTop)}),e.$on("$ionicNavView.beforeLeave",a),e.$on("$ionicNavView.afterLeave",a),e.$on("$ionicNavView.leave",a),e.$on("$destroy",function(){e.$tabsDestroy=!0,s(),i.$tabsElement=i.$element=i.$scope=o=null,delete e.$hasTabs,delete e.$hasTabsTop})}function i(t,e,n,r){r.selectedTab()||r.select(0)}var o=d('<div class="tab-nav tabs">');return o.append(n.contents()),n.append(o).addClass("tabs-"+e.tabs.position()+" tabs-"+e.tabs.style()),{pre:r,post:i}}}}]),a.directive("ionTitle",[function(){return{restrict:"E",compile:function(t){t.addClass("title")}}}]),a.directive("ionToggle",["$timeout","$ionicConfig",function(t,e){return{restrict:"E",replace:!0,require:"?ngModel",transclude:!0,template:'<div class="item item-toggle"><div ng-transclude></div><label class="toggle"><input type="checkbox"><div class="track"><div class="handle"></div></div></label></div>',compile:function(t,n){var r=t.find("input");return l({name:n.name,"ng-value":n.ngValue,"ng-model":n.ngModel,"ng-checked":n.ngChecked,"ng-disabled":n.ngDisabled,"ng-true-value":n.ngTrueValue,"ng-false-value":n.ngFalseValue,"ng-change":n.ngChange,"ng-required":n.ngRequired,required:n.required},function(t,e){u(t)&&r.attr(e,t)}),n.toggleClass&&t[0].getElementsByTagName("label")[0].classList.add(n.toggleClass),t.addClass("toggle-"+e.form.toggle()),function(t,e){var n=e[0].getElementsByTagName("label")[0],r=n.children[0],i=n.children[1],o=i.children[0],a=d(r).controller("ngModel");t.toggle=new ionic.views.Toggle({el:n,track:i,checkbox:r,handle:o,onChange:function(){a&&(a.$setViewValue(r.checked),t.$apply())}}),t.$on("$destroy",function(){t.toggle.destroy()})}}}}]),a.directive("ionView",function(){return{restrict:"EA",priority:1e3,controller:"$ionicView",compile:function(t){return t.addClass("pane"),t[0].removeAttribute("title"),function(t,e,n,r){r.init()}}}})}(),function(t,e,n){"use strict";function r(){function t(t,e){return t?i(t)?t.indexOf(e)>=0:t.hasOwnProperty(e):void 0}return["$animate",function(e){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(n,r,o,a,s){var l,u=r[0],c=o.ngMessage||o.when,h=o.ngMessageExp||o.whenExp,d=function(t){l=t?i(t)?t:t.split(/[\s,]+/):null,a.reRender()};h?(d(n.$eval(h)),n.$watchCollection(h,d)):d(c);var f,p;a.register(u,p={test:function(e){return t(l,e)},attach:function(){f||s(n,function(t){e.enter(t,null,r),f=t;var n=f.$$attachId=a.getAttachId();f.on("$destroy",function(){f&&f.$$attachId===n&&(a.deregister(u),p.detach())})})},detach:function(){if(f){var t=f;f=null,e.leave(t)}}})}}}]}var i=e.isArray,o=e.forEach,a=e.isString,s=e.element;e.module("ngMessages",[]).directive("ngMessages",["$animate",function(t){function e(t,e){return a(e)&&0===e.length||n(t.$eval(e))}function n(t){return a(t)?t.length:!!t}var r="ng-active",i="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(a,s,l){function u(t,e){for(var n=e,r=[];n&&n!==t;){var i=n.$$ngMessageNode;if(i&&i.length)return v[i];n.childNodes.length&&-1==r.indexOf(n)?(r.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,r.push(n))}}function c(t,e,n){var r=v[n];if(d.head){var i=u(t,e);i?(r.next=i.next,i.next=r):(r.next=d.head,d.head=r)}else d.head=r}function h(t,e,n){var r=v[n],i=u(t,e);i?i.next=r.next:d.head=r.next}var d=this,f=0,p=0;this.getAttachId=function(){return p++};var m,g,v=this.messages={};this.render=function(u){u=u||{},m=!1,g=u;for(var c=e(s,l.ngMessagesMultiple)||e(s,l.multiple),h=[],f={},p=d.head,v=!1,_=0;null!=p;){_++;var y=p.message,w=!1;v||o(u,function(t,e){if(!w&&n(t)&&y.test(e)){if(f[e])return;f[e]=!0,w=!0,y.attach()}}),w?v=!c:h.push(y),p=p.next}o(h,function(t){t.detach()}),h.length!==_?t.setClass(a,r,i):t.setClass(a,i,r)},s.$watchCollection(l.ngMessages||l["for"],d.render),a.on("$destroy",function(){o(v,function(t){t.message.detach()})}),this.reRender=function(){m||(m=!0,s.$evalAsync(function(){m&&g&&d.render(g)}))},this.register=function(t,e){var n=f.toString();v[n]={message:e},c(a[0],t,n),t.$$ngMessageNode=n,f++,d.reRender()},this.deregister=function(t){var e=t.$$ngMessageNode;delete t.$$ngMessageNode,h(a[0],t,e),delete v[e],d.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(t,e,n){return{restrict:"AE",require:"^^ngMessages",link:function(r,i,o){var a=o.ngMessagesInclude||o.src;t(a).then(function(t){n(t)(r,function(t){i.after(t);var r=n.$$createComment?n.$$createComment("ngMessagesInclude",a):e[0].createComment(" ngMessagesInclude: "+a+" "),o=s(r);i.after(o),i.remove()})})}}}]).directive("ngMessage",r()).directive("ngMessageExp",r())}(window,window.angular),angular.module("angularUUID2",[]).factory("uuid2",[function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return{newuuid:function(){for(var t=[],e="0123456789abcdef",n=0;36>n;n++)t[n]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},newguid:function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}}]),angular.module("angular-timeline",[]),angular.module("angular-timeline").directive("timelineBadge",function(){return{require:"^timelineEvent",restrict:"AE",transclude:!0,template:'<div ng-transclude class="timeline-badge"></div>'}}),angular.module("angular-timeline").directive("timeline",function(){return{restrict:"AE",transclude:!0,template:'<ul class="timeline" ng-transclude></ul>',controller:function(){}}}),angular.module("angular-timeline").directive("timelineEvent",function(){return{require:"^timeline",restrict:"AE",transclude:!0,template:'<li ng-class-odd="oddClass" ng-class-even="evenClass" ng-transclude></li>',link:function(t,e,n,r){var i=function(t,e){var n="",r="timeline-inverted";return"left"===t||!t&&e===!0?n:"alternate"!==t&&t||e!==!1?"right"===t?r:n:r},o=function(e){t.oddClass=i(e,!0),t.evenClass=i(e,!1)};n.$observe("side",function(t){o(t)}),o(n.side)}}}),angular.module("angular-timeline").directive("timelineFooter",function(){return{require:"^timelinePanel",restrict:"AE",transclude:!0,template:'<div class="timeline-footer" ng-transclude></div>'}}),angular.module("angular-timeline").directive("timelineHeading",function(){return{require:"^timelinePanel",restrict:"AE",transclude:!0,template:'<div class="timeline-heading" ng-transclude></div>'}}),angular.module("angular-timeline").directive("timelinePanel",function(){return{require:"^timeline",restrict:"AE",transclude:!0,template:'<div class="timeline-panel" ng-transclude></div>'}});var idbModules={util:{cleanInterface:!1}};!function(){"use strict";var t={test:!0};if(Object.defineProperty)try{Object.defineProperty(t,"test",{enumerable:!1}),t.test&&(idbModules.util.cleanInterface=!0)}catch(e){}}(),function(t){"use strict";function e(t,e,n){n.target=e,"function"==typeof e[t]&&e[t].apply(e,[n])}var n=function(){this.length=0,this._items=[],t.util.cleanInterface&&Object.defineProperty(this,"_items",{enumerable:!1})};if(n.prototype={contains:function(t){return-1!==this._items.indexOf(t)},item:function(t){return this._items[t]},indexOf:function(t){return this._items.indexOf(t)},push:function(t){this._items.push(t),this.length+=1;for(var e=0;e<this._items.length;e++)this[e]=this._items[e]},splice:function(){this._items.splice.apply(this._items,arguments),this.length=this._items.length;for(var t in this)t===String(parseInt(t,10))&&delete this[t];for(t=0;t<this._items.length;t++)this[t]=this._items[t]}},t.util.cleanInterface)for(var r in{indexOf:!1,push:!1,splice:!1})Object.defineProperty(n.prototype,r,{enumerable:!1});t.util.callback=e,t.util.StringList=n,t.util.quote=function(t){return'"'+t+'"'}}(idbModules),function(t){"use strict";function e(){(navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/))&&n()}function n(){var t=IDBFactory.prototype.cmp,e=IDBDatabase.prototype.createObjectStore,n=IDBObjectStore.prototype.createIndex,o=IDBObjectStore.prototype.add,u=IDBObjectStore.prototype.put,c=IDBIndex.prototype.get,h=IDBIndex.prototype.getKey,d=IDBIndex.prototype.openCursor,f=IDBIndex.prototype.openKeyCursor,p=IDBObjectStore.prototype.get,m=IDBObjectStore.prototype["delete"],g=IDBObjectStore.prototype.openCursor,v=IDBObjectStore.prototype.openKeyCursor,_=IDBKeyRange.bound,y=IDBKeyRange.upperBound,w=IDBKeyRange.lowerBound,b=IDBKeyRange.only,x=Object.getOwnPropertyDescriptor(IDBRequest.prototype,"result"),S=Object.getOwnPropertyDescriptor(IDBCursor.prototype,"primaryKey"),E=Object.getOwnPropertyDescriptor(IDBCursor.prototype,"key"),$=Object.getOwnPropertyDescriptor(IDBCursorWithValue.prototype,"value");IDBFactory.prototype.cmp=function(e,n){var r=Array.prototype.slice.call(arguments);return e instanceof Array&&(r[0]=l(e)),n instanceof Array&&(r[1]=l(n)),t.apply(this,r)},IDBDatabase.prototype.createObjectStore=function(t,n){return n&&n.keyPath instanceof Array&&(n.keyPath=i(n.keyPath)),e.apply(this,arguments)},IDBObjectStore.prototype.createIndex=function(t,e,r){var o=Array.prototype.slice.call(arguments);return e instanceof Array&&(o[1]=i(e)),n.apply(this,o)},IDBObjectStore.prototype.add=function(t,e){return this.__insertData(o,arguments)},IDBObjectStore.prototype.put=function(t,e){return this.__insertData(u,arguments)},IDBObjectStore.prototype.__insertData=function(t,e){e=Array.prototype.slice.call(e);var n=e[0],i=e[1];if(i instanceof Array&&(e[1]=l(i)),"object"==typeof n){r(this.keyPath)&&a(n,this.keyPath);for(var o=0;o<this.indexNames.length;o++){var s=this.index(this.indexNames[o]);if(r(s.keyPath))try{a(n,s.keyPath)}catch(u){}}}return t.apply(this,e)},IDBIndex.prototype.get=function(t){var e=Array.prototype.slice.call(arguments);return t instanceof Array&&(e[0]=l(t)),c.apply(this,e)},IDBIndex.prototype.getKey=function(t){var e=Array.prototype.slice.call(arguments);return t instanceof Array&&(e[0]=l(t)),h.apply(this,e)},IDBIndex.prototype.openCursor=function(t){var e=Array.prototype.slice.call(arguments);return t instanceof Array&&(e[0]=l(t)),d.apply(this,e)},IDBIndex.prototype.openKeyCursor=function(t){var e=Array.prototype.slice.call(arguments);return t instanceof Array&&(e[0]=l(t)),f.apply(this,e)},IDBObjectStore.prototype.get=function(t){var e=Array.prototype.slice.call(arguments);return t instanceof Array&&(e[0]=l(t)),p.apply(this,e)},IDBObjectStore.prototype["delete"]=function(t){var e=Array.prototype.slice.call(arguments);return t instanceof Array&&(e[0]=l(t)),m.apply(this,e)},IDBObjectStore.prototype.openCursor=function(t){var e=Array.prototype.slice.call(arguments);return t instanceof Array&&(e[0]=l(t)),g.apply(this,e)},IDBObjectStore.prototype.openKeyCursor=function(t){var e=Array.prototype.slice.call(arguments);return t instanceof Array&&(e[0]=l(t)),v.apply(this,e)},IDBKeyRange.bound=function(t,e,n,r){var i=Array.prototype.slice.call(arguments);return t instanceof Array&&(i[0]=l(t)),e instanceof Array&&(i[1]=l(e)),_.apply(IDBKeyRange,i)},IDBKeyRange.upperBound=function(t,e){var n=Array.prototype.slice.call(arguments);return t instanceof Array&&(n[0]=l(t)),y.apply(IDBKeyRange,n)},IDBKeyRange.lowerBound=function(t,e){var n=Array.prototype.slice.call(arguments);return t instanceof Array&&(n[0]=l(t)),w.apply(IDBKeyRange,n)},IDBKeyRange.only=function(t){var e=Array.prototype.slice.call(arguments);return t instanceof Array&&(e[0]=l(t)),b.apply(IDBKeyRange,e)},Object.defineProperty(IDBRequest.prototype,"result",{enumerable:x.enumerable,configurable:x.configurable,get:function(){var t=x.get.call(this);return s(t)}}),Object.defineProperty(IDBCursor.prototype,"primaryKey",{enumerable:S.enumerable,configurable:S.configurable,get:function(){var t=S.get.call(this);return s(t)}}),Object.defineProperty(IDBCursor.prototype,"key",{enumerable:E.enumerable,configurable:E.configurable,get:function(){var t=E.get.call(this);return s(t)}}),Object.defineProperty(IDBCursorWithValue.prototype,"value",{enumerable:$.enumerable,configurable:$.configurable,get:function(){var t=$.get.call(this);return s(t)}});try{IDBTransaction.VERSION_CHANGE||(IDBTransaction.VERSION_CHANGE="versionchange")}catch(T){}}function r(t){return t&&0===t.indexOf(h+".")}function i(t){for(var e=0;e<t.length;e++)t[e]=t[e].replace(/\./g,f);return h+"."+t.join(p)}function o(t){t=t.substr(h.length+1),t=t.split(p);for(var e=0;e<t.length;e++)t[e]=t[e].replace(d,".");return t}function a(e,n){var r=o(n),i=t.Key.getValue(e,r),a=l(i);n=n.substr(h.length+1),e[h]=e[h]||{},e[h][n]=a}function s(t){return"string"==typeof t&&r(t)?u(t):(t&&"object"==typeof t[h]&&delete t[h],t)}function l(e){return t.Key.validate(e),e=t.Key.encode(e),e=h+"."+e,c(e),e}function u(e){return c(e),e=e.substr(h.length+1),e=t.Key.decode(e)}function c(e){if(e.length>889)throw t.util.createDOMException("DataError","The encoded key is "+e.length+" characters long, but IE only allows 889 characters. Consider replacing numeric keys with strings to reduce the encoded length.")}var h="__$$compoundKey",d=/\$\$/g,f="$$$$",p="$_$";t.polyfill=e}(idbModules),function(idbModules){"use strict";var Sca=function(){return{decycle:function(object,callback){function checkForCompletion(){0===queuedObjects.length&&returnCallback(derezObj)}function readBlobAsDataURL(t,e){var n=new FileReader;n.onloadend=function(n){var r=n.target.result,i="Blob";t instanceof File,updateEncodedBlob(r,e,i)},n.readAsDataURL(t)}function updateEncodedBlob(dataURL,path,blobtype){var encoded=queuedObjects.indexOf(path);path=path.replace("$","derezObj"),eval(path+'.$enc="'+dataURL+'"'),eval(path+'.$type="'+blobtype+'"'),queuedObjects.splice(encoded,1),checkForCompletion()}function derez(t,e){var n,r,i;if(!("object"!=typeof t||null===t||t instanceof Boolean||t instanceof Date||t instanceof Number||t instanceof RegExp||t instanceof Blob||t instanceof String)){for(n=0;n<objects.length;n+=1)if(objects[n]===t)return{$ref:paths[n]};if(objects.push(t),paths.push(e),"[object Array]"===Object.prototype.toString.apply(t))for(i=[],n=0;n<t.length;n+=1)i[n]=derez(t[n],e+"["+n+"]");else{i={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=derez(t[r],e+"["+JSON.stringify(r)+"]"));
}return i}return t instanceof Blob?(queuedObjects.push(e),readBlobAsDataURL(t,e)):t instanceof Boolean?t={$type:"Boolean",$enc:t.toString()}:t instanceof Date?t={$type:"Date",$enc:t.getTime()}:t instanceof Number?t={$type:"Number",$enc:t.toString()}:t instanceof RegExp?t={$type:"RegExp",$enc:t.toString()}:"number"==typeof t?t={$type:"number",$enc:t+""}:void 0===t&&(t={$type:"undefined"}),t}var objects=[],paths=[],queuedObjects=[],returnCallback=callback,derezObj=derez(object,"$");checkForCompletion()},retrocycle:function retrocycle($){function dataURLToBlob(t){var e,n,r,i=";base64,";if(-1===t.indexOf(i))return n=t.split(","),e=n[0].split(":")[1],r=n[1],new Blob([r],{type:e});n=t.split(i),e=n[0].split(":")[1],r=window.atob(n[1]);for(var o=r.length,a=new Uint8Array(o),s=0;o>s;++s)a[s]=r.charCodeAt(s);return new Blob([a.buffer],{type:e})}function rez(value){var i,item,name,path;if(value&&"object"==typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)item=value[i],item&&"object"==typeof item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[i]=eval(path):value[i]=rez(item));else if(void 0!==value.$type)switch(value.$type){case"Blob":case"File":value=dataURLToBlob(value.$enc);break;case"Boolean":value=Boolean("true"===value.$enc);break;case"Date":value=new Date(value.$enc);break;case"Number":value=Number(value.$enc);break;case"RegExp":value=eval(value.$enc);break;case"number":value=parseFloat(value.$enc);break;case"undefined":value=void 0}else for(name in value)"object"==typeof value[name]&&(item=value[name],item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[name]=eval(path):value[name]=rez(item)));return value}var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return rez($)},encode:function(t,e){function n(t){e(JSON.stringify(t))}this.decycle(t,n)},decode:function(t){return this.retrocycle(JSON.parse(t))}}}();idbModules.Sca=Sca}(idbModules),function(idbModules){"use strict";function padBase32Exponent(t){return t=t.toString(32),1===t.length?"0"+t:t}function padBase32Mantissa(t){return(t+zeros(11)).slice(0,11)}function flipBase32(t){for(var e="",n=0;n<t.length;n++)e+=(31-parseInt(t[n],32)).toString(32);return e}function pow32(t,e){var n,r,i;return e=parseInt(e,32),0>e?roundToPrecision(parseInt(t,32)*Math.pow(32,e-10)):11>e?(n=t.slice(0,e),n=parseInt(n,32),r=t.slice(e),r=parseInt(r,32)*Math.pow(32,e-11),roundToPrecision(n+r)):(i=t+zeros(e-11),parseInt(i,32))}function roundToPrecision(t,e){return e=e||16,parseFloat(t.toPrecision(e))}function zeros(t){for(var e="";t--;)e+="0";return e}function negate(t){return"-"+t}function getType(t){return t instanceof Date?"date":t instanceof Array?"array":typeof t}function validate(t){var e=getType(t);if("array"===e)for(var n=0;n<t.length;n++)validate(t[n]);else if(!types[e]||"string"!==e&&isNaN(t))throw idbModules.util.createDOMException("DataError","Not a valid key")}function getValue(source,keyPath){try{if(keyPath instanceof Array){for(var arrayValue=[],i=0;i<keyPath.length;i++)arrayValue.push(eval("source."+keyPath[i]));return arrayValue}return eval("source."+keyPath)}catch(e){return}}function setValue(t,e,n){for(var r=e.split("."),i=0;i<r.length-1;i++){var o=r[i];t=t[o]=t[o]||{}}t[r[r.length-1]]=n}function isMultiEntryMatch(t,e){var n=collations[e.substring(0,1)];return"array"===n?e.indexOf(t)>1:e===t}function isKeyInRange(t,e){var n=void 0===e.lower,r=void 0===e.upper,i=idbModules.Key.encode(t,!0);return void 0!==e.lower&&(e.lowerOpen&&i>e.__lower&&(n=!0),!e.lowerOpen&&i>=e.__lower&&(n=!0)),void 0!==e.upper&&(e.upperOpen&&i<e.__upper&&(r=!0),!e.upperOpen&&i<=e.__upper&&(r=!0)),n&&r}function findMultiEntryMatches(t,e){var n=[];if(t instanceof Array)for(var r=0;r<t.length;r++){var i=t[r];if(i instanceof Array){if(e.lower===e.upper)continue;if(1!==i.length){var o=findMultiEntryMatches(i,e);o.length>0&&n.push(i);continue}i=i[0]}isKeyInRange(i,e)&&n.push(i)}else isKeyInRange(t,e)&&n.push(t);return n}var collations=["undefined","number","date","string","array"],signValues=["negativeInfinity","bigNegative","smallNegative","smallPositive","bigPositive","positiveInfinity"],types={undefined:{encode:function(t){return collations.indexOf("undefined")+"-"},decode:function(t){}},date:{encode:function(t){return collations.indexOf("date")+"-"+t.toJSON()},decode:function(t){return new Date(t.substring(2))}},number:{encode:function(t){var e=Math.abs(t).toString(32),n=e.indexOf(".");e=-1!==n?e.replace(".",""):e;var r=e.search(/[^0]/);e=e.slice(r);var i,o=zeros(2),a=zeros(11);return isFinite(t)?0>t?t>-1?(i=signValues.indexOf("smallNegative"),o=padBase32Exponent(r),a=flipBase32(padBase32Mantissa(e))):(i=signValues.indexOf("bigNegative"),o=flipBase32(padBase32Exponent(-1!==n?n:e.length)),a=flipBase32(padBase32Mantissa(e))):1>t?(i=signValues.indexOf("smallPositive"),o=flipBase32(padBase32Exponent(r)),a=padBase32Mantissa(e)):(i=signValues.indexOf("bigPositive"),o=padBase32Exponent(-1!==n?n:e.length),a=padBase32Mantissa(e)):i=signValues.indexOf(t>0?"positiveInfinity":"negativeInfinity"),collations.indexOf("number")+"-"+i+o+a},decode:function(t){var e=+t.substr(2,1),n=t.substr(3,2),r=t.substr(5,11);switch(signValues[e]){case"negativeInfinity":return-(1/0);case"positiveInfinity":return 1/0;case"bigPositive":return pow32(r,n);case"smallPositive":return n=negate(flipBase32(n)),pow32(r,n);case"smallNegative":return n=negate(n),r=flipBase32(r),-pow32(r,n);case"bigNegative":return n=flipBase32(n),r=flipBase32(r),-pow32(r,n);default:throw new Error("Invalid number.")}}},string:{encode:function(t,e){return e&&(t=t.replace(/(.)/g,"-$1")+" "),collations.indexOf("string")+"-"+t},decode:function(t,e){return t=t.substring(2),e&&(t=t.substr(0,t.length-1).replace(/-(.)/g,"$1")),t}},array:{encode:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i=idbModules.Key.encode(r,!0);e[n]=i}return e.push(collations.indexOf("undefined")+"-"),collations.indexOf("array")+"-"+JSON.stringify(e)},decode:function(t){var e=JSON.parse(t.substring(2));e.pop();for(var n=0;n<e.length;n++){var r=e[n],i=idbModules.Key.decode(r,!0);e[n]=i}return e}}};idbModules.Key={encode:function(t,e){return void 0===t?null:types[getType(t)].encode(t,e)},decode:function(t,e){return"string"!=typeof t?void 0:types[collations[t.substring(0,1)]].decode(t,e)},validate:validate,getValue:getValue,setValue:setValue,isMultiEntryMatch:isMultiEntryMatch,findMultiEntryMatches:findMultiEntryMatches}}(idbModules),function(t){"use strict";function e(t,e){var n=new Event(t);return n.debug=e,Object.defineProperty(n,"target",{writable:!0}),n}function n(t,e){this.type=t,this.debug=e,this.bubbles=!1,this.cancelable=!1,this.eventPhase=0,this.timeStamp=(new Date).valueOf()}var r=!1;try{var i=e("test type","test debug"),o={test:"test target"};i.target=o,i instanceof Event&&"test type"===i.type&&"test debug"===i.debug&&i.target===o&&(r=!0)}catch(a){}r?(t.Event=Event,t.IDBVersionChangeEvent=Event,t.util.createEvent=e):(t.Event=n,t.IDBVersionChangeEvent=n,t.util.createEvent=function(t,e){return new n(t,e)})}(idbModules),function(t){"use strict";function e(t,e){var n=new DOMException.prototype.constructor(0,e);return n.name=t||"DOMException",n.message=e,n}function n(t,e){t=t||"DOMError";var n=new DOMError(t,e);return n.name===t||(n.name=t),n.message===e||(n.message=e),n}function r(t,e){var n=new Error(e);return n.name=t||"DOMException",n.message=e,n}t.util.logError=function(e,n,r){if(t.DEBUG){r&&r.message&&(r=r.message);var i="function"==typeof console.error?"error":"log";console[i](e+": "+n+". "+(r||"")),console.trace&&console.trace()}},t.util.findError=function(t){var e;if(t){if(1===t.length)return t[0];for(var n=0;n<t.length;n++){var r=t[n];if(r instanceof Error||r instanceof DOMException)return r;r&&"string"==typeof r.message&&(e=r)}}return e};var i,o=!1,a=!1;try{i=e("test name","test message"),i instanceof DOMException&&"test name"===i.name&&"test message"===i.message&&(o=!0)}catch(s){}try{i=n("test name","test message"),i instanceof DOMError&&"test name"===i.name&&"test message"===i.message&&(a=!0)}catch(s){}o?(t.DOMException=DOMException,t.util.createDOMException=function(n,r,i){return t.util.logError(n,r,i),e(n,r)}):(t.DOMException=Error,t.util.createDOMException=function(e,n,i){return t.util.logError(e,n,i),r(e,n)}),a?(t.DOMError=DOMError,t.util.createDOMError=function(e,r,i){return t.util.logError(e,r,i),n(e,r)}):(t.DOMError=Error,t.util.createDOMError=function(e,n,i){return t.util.logError(e,n,i),r(e,n)})}(idbModules),function(t){"use strict";function e(){this.onsuccess=this.onerror=this.result=this.error=this.source=this.transaction=null,this.readyState="pending"}function n(){this.onblocked=this.onupgradeneeded=null}n.prototype=new e,n.prototype.constructor=n,t.IDBRequest=e,t.IDBOpenDBRequest=n}(idbModules),function(t,e){"use strict";function n(n,r,i,o){n!==e&&t.Key.validate(n),r!==e&&t.Key.validate(r),this.lower=n,this.upper=r,this.lowerOpen=!!i,this.upperOpen=!!o}n.only=function(t){return new n(t,t,!1,!1)},n.lowerBound=function(t,r){return new n(t,e,r,e)},n.upperBound=function(t,r){return new n(e,t,e,r)},n.bound=function(t,e,r,i){return new n(t,e,r,i)},t.IDBKeyRange=n}(idbModules),function(t,e){"use strict";function n(n,r,i,o,a,s,l){if(null===n&&(n=e),n===e||n instanceof t.IDBKeyRange||(n=new t.IDBKeyRange(n,n,!1,!1)),i.transaction.__assertActive(),r!==e&&-1===["next","prev","nextunique","prevunique"].indexOf(r))throw new TypeError(r+"is not a valid cursor direction");this.source=o,this.direction=r||"next",this.key=e,this.primaryKey=e,this.__store=i,this.__range=n,this.__req=new t.IDBRequest,this.__keyColumnName=a,this.__valueColumnName=s,this.__valueDecoder="value"===s?t.Sca:t.Key,this.__count=l,this.__offset=-1,this.__lastKeyContinued=e,this.__multiEntryIndex=o instanceof t.IDBIndex?o.multiEntry:!1,this.__unique=-1!==this.direction.indexOf("unique"),n!==e&&(n.__lower=n.lower!==e&&t.Key.encode(n.lower,this.__multiEntryIndex),n.__upper=n.upper!==e&&t.Key.encode(n.upper,this.__multiEntryIndex)),this["continue"]()}n.prototype.__find=function(){var t=Array.prototype.slice.call(arguments);this.__multiEntryIndex?this.__findMultiEntry.apply(this,t):this.__findBasic.apply(this,t)},n.prototype.__findBasic=function(n,r,i,o,a){a=a||1;var s=this,l=t.util.quote(s.__keyColumnName),u=["SELECT * FROM",t.util.quote(s.__store.name)],c=[];u.push("WHERE",l,"NOT NULL"),!s.__range||s.__range.lower===e&&s.__range.upper===e||(u.push("AND"),s.__range.lower!==e&&(u.push(l,s.__range.lowerOpen?">":">=","?"),c.push(s.__range.__lower)),s.__range.lower!==e&&s.__range.upper!==e&&u.push("AND"),s.__range.upper!==e&&(u.push(l,s.__range.upperOpen?"<":"<=","?"),c.push(s.__range.__upper))),"undefined"!=typeof n&&(s.__lastKeyContinued=n,s.__offset=0),s.__lastKeyContinued!==e&&(u.push("AND",l,">= ?"),t.Key.validate(s.__lastKeyContinued),c.push(t.Key.encode(s.__lastKeyContinued)));var h="prev"===s.direction||"prevunique"===s.direction?"DESC":"ASC";s.__count||(u.push("ORDER BY",l,h),u.push("LIMIT",a,"OFFSET",s.__offset)),u=u.join(" "),t.DEBUG&&console.log(u,c),s.__prefetchedData=null,s.__prefetchedIndex=0,r.executeSql(u,c,function(n,r){s.__count?i(e,r.rows.length,e):r.rows.length>1?(s.__prefetchedData=r.rows,s.__prefetchedIndex=0,t.DEBUG&&console.log("Preloaded "+s.__prefetchedData.length+" records for cursor"),s.__decode(r.rows.item(0),i)):1===r.rows.length?s.__decode(r.rows.item(0),i):(t.DEBUG&&console.log("Reached end of cursors"),i(e,e,e))},function(e,n){t.DEBUG&&console.log("Could not execute Cursor.continue",u,c),o(n)})},n.prototype.__findMultiEntry=function(n,r,i,o){var a=this;if(a.__prefetchedData&&a.__prefetchedData.length===a.__prefetchedIndex)return t.DEBUG&&console.log("Reached end of multiEntry cursor"),void i(e,e,e);var s=t.util.quote(a.__keyColumnName),l=["SELECT * FROM",t.util.quote(a.__store.name)],u=[];l.push("WHERE",s,"NOT NULL"),a.__range&&a.__range.lower!==e&&a.__range.upper!==e&&0===a.__range.upper.indexOf(a.__range.lower)&&(l.push("AND",s,"LIKE ?"),u.push("%"+a.__range.__lower.slice(0,-1)+"%")),"undefined"!=typeof n&&(a.__lastKeyContinued=n,a.__offset=0),a.__lastKeyContinued!==e&&(l.push("AND",s,">= ?"),t.Key.validate(a.__lastKeyContinued),u.push(t.Key.encode(a.__lastKeyContinued)));var c="prev"===a.direction||"prevunique"===a.direction?"DESC":"ASC";a.__count||l.push("ORDER BY key",c),l=l.join(" "),t.DEBUG&&console.log(l,u),a.__prefetchedData=null,a.__prefetchedIndex=0,r.executeSql(l,u,function(n,r){if(a.__multiEntryOffset=r.rows.length,r.rows.length>0){for(var o=[],s=0;s<r.rows.length;s++)for(var l=r.rows.item(s),u=t.Key.decode(l[a.__keyColumnName],!0),c=t.Key.findMultiEntryMatches(u,a.__range),h=0;h<c.length;h++){var d=c[h],f={matchingKey:t.Key.encode(d,!0),key:l.key};f[a.__keyColumnName]=l[a.__keyColumnName],f[a.__valueColumnName]=l[a.__valueColumnName],o.push(f)}var p=0===a.direction.indexOf("prev");o.sort(function(t,e){return t.matchingKey.replace("[","z")<e.matchingKey.replace("[","z")?p?1:-1:t.matchingKey.replace("[","z")>e.matchingKey.replace("[","z")?p?-1:1:t.key<e.key?"prev"===a.direction?1:-1:t.key>e.key?"prev"===a.direction?-1:1:0}),a.__prefetchedData={data:o,length:o.length,item:function(t){return this.data[t]}},a.__prefetchedIndex=0,a.__count?i(e,o.length,e):o.length>1?(t.DEBUG&&console.log("Preloaded "+a.__prefetchedData.length+" records for multiEntry cursor"),a.__decode(o[0],i)):1===o.length?(t.DEBUG&&console.log("Reached end of multiEntry cursor"),a.__decode(o[0],i)):(t.DEBUG&&console.log("Reached end of multiEntry cursor"),i(e,e,e))}else t.DEBUG&&console.log("Reached end of multiEntry cursor"),i(e,e,e)},function(e,n){t.DEBUG&&console.log("Could not execute Cursor.continue",l,u),o(n)})},n.prototype.__onsuccess=function(t){var n=this;return function(r,i,o){if(n.__count)t(i,n.__req);else{n.key=r===e?null:r,n.value=i===e?null:i,n.primaryKey=o===e?null:o;var a=r===e?null:n;t(a,n.__req)}}},n.prototype.__decode=function(n,r){if(this.__multiEntryIndex&&this.__unique){if(this.__matchedKeys||(this.__matchedKeys={}),this.__matchedKeys[n.matchingKey])return void r(e,e,e);this.__matchedKeys[n.matchingKey]=!0}var i=t.Key.decode(this.__multiEntryIndex?n.matchingKey:n[this.__keyColumnName],this.__multiEntryIndex),o=this.__valueDecoder.decode(n[this.__valueColumnName]),a=t.Key.decode(n.key);r(i,o,a)},n.prototype["continue"]=function(e){var n=t.cursorPreloadPackSize||100,r=this;this.__store.transaction.__pushToQueue(r.__req,function(t,i,o,a){return r.__offset++,r.__prefetchedData&&(r.__prefetchedIndex++,r.__prefetchedIndex<r.__prefetchedData.length)?void r.__decode(r.__prefetchedData.item(r.__prefetchedIndex),r.__onsuccess(o)):void r.__find(e,t,r.__onsuccess(o),a,n)})},n.prototype.advance=function(n){if(0>=n)throw t.util.createDOMException("Type Error","Count is invalid - 0 or negative",n);var r=this;this.__store.transaction.__pushToQueue(r.__req,function(t,i,o,a){r.__offset+=n,r.__find(e,t,r.__onsuccess(o),a)})},n.prototype.update=function(n){var r=this;return r.__store.transaction.__assertWritable(),r.__store.transaction.__addToTransactionQueue(function(i,o,a,s){t.Sca.encode(n,function(o){r.__find(e,i,function(e,l,u){var c=r.__store,h=[o],d=["UPDATE",t.util.quote(c.name),"SET value = ?"];t.Key.validate(u);for(var f=0;f<c.indexNames.length;f++){var p=c.__indexes[c.indexNames[f]],m=t.Key.getValue(n,p.keyPath);d.push(",",t.util.quote(p.name),"= ?"),h.push(t.Key.encode(m,p.multiEntry))}d.push("WHERE key = ?"),h.push(t.Key.encode(u)),t.DEBUG&&console.log(d.join(" "),o,e,u),i.executeSql(d.join(" "),h,function(t,n){r.__prefetchedData=null,r.__prefetchedIndex=0,1===n.rowsAffected?a(e):s("No rows with key found"+e)},function(t,e){s(e)})},s)})})},n.prototype["delete"]=function(){var n=this;return n.__store.transaction.__assertWritable(),this.__store.transaction.__addToTransactionQueue(function(r,i,o,a){n.__find(e,r,function(i,s,l){var u="DELETE FROM  "+t.util.quote(n.__store.name)+" WHERE key = ?";t.DEBUG&&console.log(u,i,l),t.Key.validate(l),r.executeSql(u,[t.Key.encode(l)],function(t,r){n.__prefetchedData=null,n.__prefetchedIndex=0,1===r.rowsAffected?(n.__offset--,o(e)):a("No rows with key found"+i)},function(t,e){a(e)})},a)})},t.IDBCursor=n}(idbModules),function(t,e){"use strict";function n(t,e){this.objectStore=t,this.name=e.columnName,this.keyPath=e.keyPath,this.multiEntry=e.optionalParams&&e.optionalParams.multiEntry,this.unique=e.optionalParams&&e.optionalParams.unique,this.__deleted=!!e.__deleted}n.__clone=function(t,e){return new n(e,{columnName:t.name,keyPath:t.keyPath,optionalParams:{multiEntry:t.multiEntry,unique:t.unique}})},n.__createIndex=function(e,r){var i=!!e.__indexes[r.name]&&e.__indexes[r.name].__deleted;e.__indexes[r.name]=r,e.indexNames.push(r.name);var o=e.transaction;o.__addToTransactionQueue(function(o,a,s,l){function u(e,n){l(t.util.createDOMException(0,'Could not create index "'+r.name+'"',n))}function c(i){n.__updateIndexList(e,i,function(){i.executeSql("SELECT * FROM "+t.util.quote(e.name),[],function(n,i){function o(a){if(a<i.rows.length)try{var l=t.Sca.decode(i.rows.item(a).value),c=t.Key.getValue(l,r.keyPath);c=t.Key.encode(c,r.multiEntry),n.executeSql("UPDATE "+t.util.quote(e.name)+" set "+t.util.quote(r.name)+" = ? where key = ?",[c,i.rows.item(a).key],function(t,e){o(a+1)},u)}catch(h){o(a+1)}else s(e)}t.DEBUG&&console.log("Adding existing "+e.name+" records to the "+r.name+" index"),o(0)},u)},u)}if(i)c(o);else{var h=["ALTER TABLE",t.util.quote(e.name),"ADD",t.util.quote(r.name),"BLOB"].join(" ");t.DEBUG&&console.log(h),o.executeSql(h,[],c,u)}})},n.__deleteIndex=function(e,r){e.__indexes[r.name].__deleted=!0,e.indexNames.splice(e.indexNames.indexOf(r.name),1);var i=e.transaction;i.__addToTransactionQueue(function(i,o,a,s){function l(e,n){s(t.util.createDOMException(0,'Could not delete index "'+r.name+'"',n))}n.__updateIndexList(e,i,a,l)})},n.__updateIndexList=function(e,n,r,i){for(var o={},a=0;a<e.indexNames.length;a++){var s=e.__indexes[e.indexNames[a]];o[s.name]={columnName:s.name,keyPath:s.keyPath,optionalParams:{unique:s.unique,multiEntry:s.multiEntry},deleted:!!s.deleted}}t.DEBUG&&console.log("Updating the index list for "+e.name,o),n.executeSql("UPDATE __sys__ set indexList = ? where name = ?",[JSON.stringify(o),e.name],function(){r(e)},i)},n.prototype.__fetchIndexData=function(n,r){var i,o,a=this;return 1===arguments.length?(r=n,i=!1):(t.Key.validate(n),o=t.Key.encode(n,a.multiEntry),i=!0),a.objectStore.transaction.__addToTransactionQueue(function(n,s,l,u){var c=["SELECT * FROM",t.util.quote(a.objectStore.name),"WHERE",t.util.quote(a.name),"NOT NULL"],h=[];i&&(a.multiEntry?(c.push("AND",t.util.quote(a.name),"LIKE ?"),h.push("%"+o+"%")):(c.push("AND",t.util.quote(a.name),"= ?"),h.push(o))),t.DEBUG&&console.log("Trying to fetch data for Index",c.join(" "),h),n.executeSql(c.join(" "),h,function(n,s){var u=0,c=null;if(a.multiEntry)for(var h=0;h<s.rows.length;h++){var d=s.rows.item(h),f=t.Key.decode(d[a.name]);i&&t.Key.isMultiEntryMatch(o,d[a.name])?(u++,c=c||d):i||f===e||(u+=f instanceof Array?f.length:1,c=c||d)}else u=s.rows.length,c=u&&s.rows.item(0);l("count"===r?u:0===u?e:"key"===r?t.Key.decode(c.key):t.Sca.decode(c.value))},u)})},n.prototype.openCursor=function(e,n){return new t.IDBCursor(e,n,this.objectStore,this,this.name,"value").__req},n.prototype.openKeyCursor=function(e,n){return new t.IDBCursor(e,n,this.objectStore,this,this.name,"key").__req},n.prototype.get=function(t){if(0===arguments.length)throw new TypeError("No key was specified");return this.__fetchIndexData(t,"value")},n.prototype.getKey=function(t){if(0===arguments.length)throw new TypeError("No key was specified");return this.__fetchIndexData(t,"key")},n.prototype.count=function(n){return n===e?this.__fetchIndexData("count"):n instanceof t.IDBKeyRange?new t.IDBCursor(n,"next",this.objectStore,this,this.name,"value",!0).__req:this.__fetchIndexData(n,"count")},t.IDBIndex=n}(idbModules),function(t){"use strict";function e(e,n){this.name=e.name,this.keyPath=JSON.parse(e.keyPath),this.transaction=n,this.autoIncrement="string"==typeof e.autoInc?"true"===e.autoInc:!!e.autoInc,this.__indexes={},this.indexNames=new t.util.StringList;var r=JSON.parse(e.indexList);for(var i in r)if(r.hasOwnProperty(i)){var o=new t.IDBIndex(this,r[i]);this.__indexes[o.name]=o,o.__deleted||this.indexNames.push(o.name)}}e.__clone=function(t,n){var r=new e({name:t.name,keyPath:JSON.stringify(t.keyPath),autoInc:JSON.stringify(t.autoIncrement),indexList:"{}"},n);return r.__indexes=t.__indexes,r.indexNames=t.indexNames,r},e.__createObjectStore=function(e,n){e.__objectStores[n.name]=n,e.objectStoreNames.push(n.name);var r=e.__versionTransaction;t.IDBTransaction.__assertVersionChange(r),r.__addToTransactionQueue(function(e,r,i,o){function a(e,r){throw t.util.createDOMException(0,'Could not create object store "'+n.name+'"',r)}var s=["CREATE TABLE",t.util.quote(n.name),"(key BLOB",n.autoIncrement?"UNIQUE, inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY",", value BLOB)"].join(" ");t.DEBUG&&console.log(s),e.executeSql(s,[],function(t,e){t.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?)",[n.name,JSON.stringify(n.keyPath),n.autoIncrement,"{}"],function(){i(n)},a)},a)})},e.__deleteObjectStore=function(e,n){e.__objectStores[n.name]=void 0,e.objectStoreNames.splice(e.objectStoreNames.indexOf(n.name),1);var r=e.__versionTransaction;t.IDBTransaction.__assertVersionChange(r),r.__addToTransactionQueue(function(e,r,i,o){function a(e,n){o(t.util.createDOMException(0,"Could not delete ObjectStore",n))}e.executeSql("SELECT * FROM __sys__ where name = ?",[n.name],function(e,r){r.rows.length>0&&e.executeSql("DROP TABLE "+t.util.quote(n.name),[],function(){e.executeSql("DELETE FROM __sys__ WHERE name = ?",[n.name],function(){i()},a)},a)})})},e.prototype.__validateKey=function(e,n){if(this.keyPath){if("undefined"!=typeof n)throw t.util.createDOMException("DataError","The object store uses in-line keys and the key parameter was provided",this);if(!e||"object"!=typeof e)throw t.util.createDOMException("DataError","KeyPath was specified, but value was not an object");if(n=t.Key.getValue(e,this.keyPath),void 0===n){if(this.autoIncrement)return;throw t.util.createDOMException("DataError","Could not eval key from keyPath")}}else if("undefined"==typeof n){if(this.autoIncrement)return;throw t.util.createDOMException("DataError","The object store uses out-of-line keys and has no key generator and the key parameter was not provided. ",this)}t.Key.validate(n)},e.prototype.__deriveKey=function(e,n,r,i,o){function a(n){e.executeSql("SELECT * FROM sqlite_sequence where name like ?",[s.name],function(t,e){n(1!==e.rows.length?1:e.rows.item(0).seq+1)},function(e,n){o(t.util.createDOMException("DataError","Could not get the auto increment value for key",n))})}var s=this;if(s.keyPath){var l=t.Key.getValue(n,s.keyPath);void 0===l&&s.autoIncrement?a(function(e){try{t.Key.setValue(n,s.keyPath,e),i(e)}catch(r){o(t.util.createDOMException("DataError","Could not assign a generated value to the keyPath",r))}}):i(l)}else"undefined"==typeof r&&s.autoIncrement?a(i):i(r)},e.prototype.__insertData=function(e,n,r,i,o,a){try{var s={};"undefined"!=typeof i&&(t.Key.validate(i),s.key=t.Key.encode(i));for(var l=0;l<this.indexNames.length;l++){var u=this.__indexes[this.indexNames[l]];s[u.name]=t.Key.encode(t.Key.getValue(r,u.keyPath),u.multiEntry)}var c=["INSERT INTO ",t.util.quote(this.name),"("],h=[" VALUES ("],d=[];for(var f in s)c.push(t.util.quote(f)+","),h.push("?,"),d.push(s[f]);c.push("value )"),h.push("?)"),d.push(n);var p=c.join(" ")+h.join(" ");t.DEBUG&&console.log("SQL for adding",p,d),e.executeSql(p,d,function(e,n){t.Sca.encode(i,function(e){e=t.Sca.decode(e),o(e)})},function(e,n){a(t.util.createDOMError("ConstraintError",n.message,n))})}catch(m){a(m)}},e.prototype.add=function(e,n){var r=this;if(0===arguments.length)throw new TypeError("No value was specified");this.__validateKey(e,n),r.transaction.__assertWritable();var i=r.transaction.__createRequest();return r.transaction.__pushToQueue(i,function(i,o,a,s){r.__deriveKey(i,e,n,function(n){t.Sca.encode(e,function(t){r.__insertData(i,t,e,n,a,s)})},s)}),i},e.prototype.put=function(e,n){var r=this;if(0===arguments.length)throw new TypeError("No value was specified");this.__validateKey(e,n),r.transaction.__assertWritable();var i=r.transaction.__createRequest();return r.transaction.__pushToQueue(i,function(i,o,a,s){r.__deriveKey(i,e,n,function(n){t.Sca.encode(e,function(o){t.Key.validate(n);var l="DELETE FROM "+t.util.quote(r.name)+" where key = ?";i.executeSql(l,[t.Key.encode(n)],function(i,l){t.DEBUG&&console.log("Did the row with the",n,"exist? ",l.rowsAffected),r.__insertData(i,o,e,n,a,s)},function(t,e){s(e)})})},s)}),i},e.prototype.get=function(e){var n=this;if(0===arguments.length)throw new TypeError("No key was specified");t.Key.validate(e);var r=t.Key.encode(e);return n.transaction.__addToTransactionQueue(function(e,i,o,a){t.DEBUG&&console.log("Fetching",n.name,r),e.executeSql("SELECT * FROM "+t.util.quote(n.name)+" where key = ?",[r],function(e,n){t.DEBUG&&console.log("Fetched data",n);var r;try{if(0===n.rows.length)return o();r=t.Sca.decode(n.rows.item(0).value)}catch(i){t.DEBUG&&console.log(i)}o(r)},function(t,e){a(e)})})},e.prototype["delete"]=function(e){var n=this;if(0===arguments.length)throw new TypeError("No key was specified");n.transaction.__assertWritable(),t.Key.validate(e);var r=t.Key.encode(e);return n.transaction.__addToTransactionQueue(function(e,i,o,a){t.DEBUG&&console.log("Fetching",n.name,r),e.executeSql("DELETE FROM "+t.util.quote(n.name)+" where key = ?",[r],function(e,n){t.DEBUG&&console.log("Deleted from database",n.rowsAffected),o()},function(t,e){a(e)})})},e.prototype.clear=function(){var e=this;return e.transaction.__assertWritable(),e.transaction.__addToTransactionQueue(function(n,r,i,o){n.executeSql("DELETE FROM "+t.util.quote(e.name),[],function(e,n){t.DEBUG&&console.log("Cleared all records from database",n.rowsAffected),i()},function(t,e){o(e)})})},e.prototype.count=function(e){if(e instanceof t.IDBKeyRange)return new t.IDBCursor(e,"next",this,this,"key","value",!0).__req;var n=this,r=!1;return void 0!==e&&(r=!0,t.Key.validate(e)),n.transaction.__addToTransactionQueue(function(i,o,a,s){var l="SELECT * FROM "+t.util.quote(n.name)+(r?" WHERE key = ?":""),u=[];r&&u.push(t.Key.encode(e)),i.executeSql(l,u,function(t,e){a(e.rows.length)},function(t,e){s(e)})})},e.prototype.openCursor=function(e,n){return new t.IDBCursor(e,n,this,this,"key","value").__req},e.prototype.index=function(e){if(0===arguments.length)throw new TypeError("No index name was specified");var n=this.__indexes[e];if(!n)throw t.util.createDOMException("NotFoundError",'Index "'+e+'" does not exist on '+this.name);return t.IDBIndex.__clone(n,this)},e.prototype.createIndex=function(e,n,r){if(0===arguments.length)throw new TypeError("No index name was specified");if(1===arguments.length)throw new TypeError("No key path was specified");if(n instanceof Array&&r&&r.multiEntry)throw t.util.createDOMException("InvalidAccessError","The keyPath argument was an array and the multiEntry option is true.");if(this.__indexes[e]&&!this.__indexes[e].__deleted)throw t.util.createDOMException("ConstraintError",'Index "'+e+'" already exists on '+this.name);this.transaction.__assertVersionChange(),r=r||{};var i={columnName:e,keyPath:n,optionalParams:{unique:!!r.unique,multiEntry:!!r.multiEntry}},o=new t.IDBIndex(this,i);return t.IDBIndex.__createIndex(this,o),o},e.prototype.deleteIndex=function(e){if(0===arguments.length)throw new TypeError("No index name was specified");var n=this.__indexes[e];if(!n)throw t.util.createDOMException("NotFoundError",'Index "'+e+'" does not exist on '+this.name);this.transaction.__assertVersionChange(),t.IDBIndex.__deleteIndex(this,n)},t.IDBObjectStore=e}(idbModules),function(t){"use strict";function e(t,e,r){this.__id=++n,this.__active=!0,this.__running=!1,this.__errored=!1,this.__requests=[],this.__storeNames=e,this.mode=r,this.db=t,this.error=null,this.onabort=this.onerror=this.oncomplete=null;var i=this;setTimeout(function(){i.__executeRequests()},0)}var n=0;e.prototype.__executeRequests=function(){function e(e){if(t.util.logError("Error","An error occurred in a transaction",e),!r.__errored){if(r.__errored=!0,!r.__active)throw e;try{r.error=e;var n=t.util.createEvent("error");t.util.callback("onerror",r,n),t.util.callback("onerror",r.db,n)}finally{r.abort()}}}function n(){t.DEBUG&&console.log("Transaction completed");var e=t.util.createEvent("complete");try{t.util.callback("oncomplete",r,e),t.util.callback("__oncomplete",r,e)}catch(n){throw r.__errored=!0,n}}if(this.__running)return void(t.DEBUG&&console.log("Looks like the request set is already running",this.mode));this.__running=!0;var r=this;r.db.__db.transaction(function(i){function o(e,n){n&&(l.req=n),l.req.readyState="done",l.req.result=e,delete l.req.error;var r=t.util.createEvent("success");t.util.callback("onsuccess",l.req,r),u++,s()}function a(n,r){r=t.util.findError(arguments);try{l.req.readyState="done",l.req.error=r||"DOMError",l.req.result=void 0;var i=t.util.createEvent("error",r);t.util.callback("onerror",l.req,i)}finally{e(r)}}function s(){if(u>=r.__requests.length)r.__requests=[],r.__active&&(r.__active=!1,n());else try{l=r.__requests[u],l.op(i,l.args,o,a)}catch(t){a(t)}}r.__tx=i;var l=null,u=0;s()},function(t){e(t)})},e.prototype.__createRequest=function(){var e=new t.IDBRequest;return e.source=this.db,e.transaction=this,e},e.prototype.__addToTransactionQueue=function(t,e){var n=this.__createRequest();return this.__pushToQueue(n,t,e),n},e.prototype.__pushToQueue=function(t,e,n){this.__assertActive(),this.__requests.push({op:e,args:n,req:t})},e.prototype.__assertActive=function(){if(!this.__active)throw t.util.createDOMException("TransactionInactiveError","A request was placed against a transaction which is currently not active, or which is finished")},e.prototype.__assertWritable=function(){if(this.mode===e.READ_ONLY)throw t.util.createDOMException("ReadOnlyError","The transaction is read only")},e.prototype.__assertVersionChange=function(){e.__assertVersionChange(this)},e.__assertVersionChange=function(n){if(!n||n.mode!==e.VERSION_CHANGE)throw t.util.createDOMException("InvalidStateError","Not a version transaction")},e.prototype.objectStore=function(n){if(0===arguments.length)throw new TypeError("No object store name was specified");if(!this.__active)throw t.util.createDOMException("InvalidStateError","A request was placed against a transaction which is currently not active, or which is finished");if(-1===this.__storeNames.indexOf(n)&&this.mode!==e.VERSION_CHANGE)throw t.util.createDOMException("NotFoundError",n+" is not participating in this transaction");var r=this.db.__objectStores[n];if(!r)throw t.util.createDOMException("NotFoundError",n+" does not exist in "+this.db.name);return t.IDBObjectStore.__clone(r,this)},e.prototype.abort=function(){var e=this;t.DEBUG&&console.log("The transaction was aborted",e),e.__active=!1;var n=t.util.createEvent("abort");setTimeout(function(){t.util.callback("onabort",e,n)},0)},e.READ_ONLY="readonly",e.READ_WRITE="readwrite",e.VERSION_CHANGE="versionchange",t.IDBTransaction=e}(idbModules),function(t){"use strict";function e(e,n,r,i){this.__db=e,this.__closed=!1,this.version=r,this.name=n,this.onabort=this.onerror=this.onversionchange=null,this.__objectStores={},this.objectStoreNames=new t.util.StringList;for(var o=0;o<i.rows.length;o++){var a=new t.IDBObjectStore(i.rows.item(o));this.__objectStores[a.name]=a,this.objectStoreNames.push(a.name)}}e.prototype.createObjectStore=function(e,n){if(0===arguments.length)throw new TypeError("No object store name was specified");if(this.__objectStores[e])throw t.util.createDOMException("ConstraintError",'Object store "'+e+'" already exists in '+this.name);this.__versionTransaction.__assertVersionChange(),n=n||{};var r={name:e,keyPath:JSON.stringify(n.keyPath||null),autoInc:JSON.stringify(n.autoIncrement),
indexList:"{}"},i=new t.IDBObjectStore(r,this.__versionTransaction);return t.IDBObjectStore.__createObjectStore(this,i),i},e.prototype.deleteObjectStore=function(e){if(0===arguments.length)throw new TypeError("No object store name was specified");var n=this.__objectStores[e];if(!n)throw t.util.createDOMException("NotFoundError",'Object store "'+e+'" does not exist in '+this.name);this.__versionTransaction.__assertVersionChange(),t.IDBObjectStore.__deleteObjectStore(this,n)},e.prototype.close=function(){this.__closed=!0},e.prototype.transaction=function(e,n){if(this.__closed)throw t.util.createDOMException("InvalidStateError","An attempt was made to start a new transaction on a database connection that is not open");if("number"==typeof n?(n=1===n?IDBTransaction.READ_WRITE:IDBTransaction.READ_ONLY,t.DEBUG&&console.log("Mode should be a string, but was specified as ",n)):n=n||IDBTransaction.READ_ONLY,n!==IDBTransaction.READ_ONLY&&n!==IDBTransaction.READ_WRITE)throw new TypeError("Invalid transaction mode: "+n);if(e="string"==typeof e?[e]:e,0===e.length)throw t.util.createDOMException("InvalidAccessError","No object store names were specified");for(var r=0;r<e.length;r++)if(!this.objectStoreNames.contains(e[r]))throw t.util.createDOMException("NotFoundError",'The "'+e[r]+'" object store does not exist');var i=new t.IDBTransaction(this,e,n);return i},t.IDBDatabase=e}(idbModules),function(t){"use strict";function e(e,n){function o(e,r){r=t.util.findError(arguments),t.DEBUG&&console.log("Error in sysdb transaction - when creating dbVersions",r),n(r)}r?e():(r=window.openDatabase("__sysdb__",1,"System Database",i),r.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);",[],e,o)},o))}function n(){this.modules=t}var r,i=4194304;n.prototype.open=function(n,o){function a(e,n){if(!u){n=t.util.findError(arguments),u=!0;var r=t.util.createEvent("error",arguments);l.readyState="done",l.error=n||"DOMError",t.util.callback("onerror",l,r)}}function s(e){var s=window.openDatabase(n,1,n,i);if(l.readyState="done","undefined"==typeof o&&(o=e||1),0>=o||e>o){var u=t.util.createDOMError("VersionError","An attempt was made to open a database using a lower version than the existing version.",o);return void a(u)}s.transaction(function(i){i.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)",[],function(){i.executeSql("SELECT * FROM __sys__",[],function(i,u){var c=t.util.createEvent("success");l.source=l.result=new t.IDBDatabase(s,n,o,u),o>e?r.transaction(function(r){r.executeSql("UPDATE dbVersions set version = ? where name = ?",[o,n],function(){var n=t.util.createEvent("upgradeneeded");n.oldVersion=e,n.newVersion=o,l.transaction=l.result.__versionTransaction=new t.IDBTransaction(l.source,[],t.IDBTransaction.VERSION_CHANGE),l.transaction.__addToTransactionQueue(function(e,r,i){t.util.callback("onupgradeneeded",l,n),i()}),l.transaction.__oncomplete=function(){l.transaction=null;var e=t.util.createEvent("success");t.util.callback("onsuccess",l,e)}},a)},a):t.util.callback("onsuccess",l,c)},a)},a)},a)}var l=new t.IDBOpenDBRequest,u=!1;if(0===arguments.length)throw new TypeError("Database name is required");if(2===arguments.length&&(o=parseFloat(o),isNaN(o)||!isFinite(o)||0>=o))throw new TypeError("Invalid database version: "+o);return n+="",e(function(){r.transaction(function(t){t.executeSql("SELECT * FROM dbVersions where name = ?",[n],function(t,e){0===e.rows.length?t.executeSql("INSERT INTO dbVersions VALUES (?,?)",[n,o||1],function(){s(0)},a):s(e.rows.item(0).version)},a)},a)},a),l},n.prototype.deleteDatabase=function(n){function o(e,n){if(!l){n=t.util.findError(arguments),s.readyState="done",s.error=n||"DOMError";var r=t.util.createEvent("error");r.debug=arguments,t.util.callback("onerror",s,r),l=!0}}function a(){r.transaction(function(e){e.executeSql("DELETE FROM dbVersions where name = ? ",[n],function(){s.result=void 0;var e=t.util.createEvent("success");e.newVersion=null,e.oldVersion=u,t.util.callback("onsuccess",s,e)},o)},o)}var s=new t.IDBOpenDBRequest,l=!1,u=null;if(0===arguments.length)throw new TypeError("Database name is required");return n+="",e(function(){r.transaction(function(e){e.executeSql("SELECT * FROM dbVersions where name = ?",[n],function(e,r){if(0===r.rows.length){s.result=void 0;var l=t.util.createEvent("success");return l.newVersion=null,l.oldVersion=u,void t.util.callback("onsuccess",s,l)}u=r.rows.item(0).version;var c=window.openDatabase(n,1,n,i);c.transaction(function(e){e.executeSql("SELECT * FROM __sys__",[],function(e,n){var r=n.rows;!function i(n){n>=r.length?e.executeSql("DROP TABLE IF EXISTS __sys__",[],function(){a()},o):e.executeSql("DROP TABLE "+t.util.quote(r.item(n).name),[],function(){i(n+1)},function(){i(n+1)})}(0)},function(t){a()})})},o)},o)},o),s},n.prototype.cmp=function(e,n){if(arguments.length<2)throw new TypeError("You must provide two keys to be compared");t.Key.validate(e),t.Key.validate(n);var r=t.Key.encode(e),i=t.Key.encode(n),o=r>i?1:r===i?0:-1;if(t.DEBUG){var a=t.Key.decode(r),s=t.Key.decode(i);"object"==typeof e&&(e=JSON.stringify(e),a=JSON.stringify(a)),"object"==typeof n&&(n=JSON.stringify(n),s=JSON.stringify(s)),a!==e&&console.warn(e+" was incorrectly encoded as "+a),s!==n&&console.warn(n+" was incorrectly encoded as "+s)}return o},t.shimIndexedDB=new n,t.IDBFactory=n}(idbModules),function(t,e){"use strict";function n(e,n){try{t[e]=n}catch(r){}if(t[e]!==n&&Object.defineProperty){try{Object.defineProperty(t,e,{value:n})}catch(r){}t[e]!==n&&t.console&&console.warn&&console.warn("Unable to shim "+e)}}n("shimIndexedDB",e.shimIndexedDB),t.shimIndexedDB&&(t.shimIndexedDB.__useShim=function(){"undefined"!=typeof t.openDatabase?(n("indexedDB",e.shimIndexedDB),n("IDBFactory",e.IDBFactory),n("IDBDatabase",e.IDBDatabase),n("IDBObjectStore",e.IDBObjectStore),n("IDBIndex",e.IDBIndex),n("IDBTransaction",e.IDBTransaction),n("IDBCursor",e.IDBCursor),n("IDBKeyRange",e.IDBKeyRange),n("IDBRequest",e.IDBRequest),n("IDBOpenDBRequest",e.IDBOpenDBRequest),n("IDBVersionChangeEvent",e.IDBVersionChangeEvent)):"object"==typeof t.indexedDB&&e.polyfill()},t.shimIndexedDB.__debug=function(t){e.DEBUG=t}),"indexedDB"in t||(t.indexedDB=t.indexedDB||t.webkitIndexedDB||t.mozIndexedDB||t.oIndexedDB||t.msIndexedDB);var r=!1;if((navigator.userAgent.match(/Android 2/)||navigator.userAgent.match(/Android 3/)||navigator.userAgent.match(/Android 4\.[0-3]/))&&(navigator.userAgent.match(/Chrome/)||(r=!0)),"undefined"!=typeof t.indexedDB&&t.indexedDB&&!r||"undefined"==typeof t.openDatabase){t.IDBDatabase=t.IDBDatabase||t.webkitIDBDatabase,t.IDBTransaction=t.IDBTransaction||t.webkitIDBTransaction,t.IDBCursor=t.IDBCursor||t.webkitIDBCursor,t.IDBKeyRange=t.IDBKeyRange||t.webkitIDBKeyRange,t.IDBTransaction||(t.IDBTransaction={});try{t.IDBTransaction.READ_ONLY=t.IDBTransaction.READ_ONLY||"readonly",t.IDBTransaction.READ_WRITE=t.IDBTransaction.READ_WRITE||"readwrite"}catch(i){}}else t.shimIndexedDB.__useShim()}(window,idbModules),function(){"use strict";var t=[].slice;angular.module("indexedDB",[]).provider("$indexedDB",function(){var e,n,r,i,o,a,s,l,u,c,h,d,f,p,m,g;p=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,e=window.IDBKeyRange||window.mozIDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange,l={readonly:"readonly",readwrite:"readwrite"},m={pending:"pending"},a={next:"next",nextunique:"nextunique",prev:"prev",prevunique:"prevunique"},r={ascending:a.next,descending:a.prev},u="",h=1,s=null,g={},c=null,n=[],d={useIndex:void 0,keyRange:null,direction:a.next},o=function(t,e,n,r,i){var o;for(o in g)!g.hasOwnProperty(o)||t>=o||(i.log("$indexedDB: Running upgrade : "+o+" from "+t),g[o](e,n,r))},f=function(t){return t.target.readyState===m.pending?"Error: Operation pending":t.target.webkitErrorMessage||t.target.error.message||t.target.errorCode},i=function(t,e){return void 0!==e?t.then(function(){return e}):t},this.connection=function(t){return u=t,this},this.upgradeDatabase=function(t,e){return g[t]=e,h=Math.max.apply(null,Object.keys(g)),this},this.$get=["$q","$rootScope","$log",function(m,g,v){var _,y,w,b,x,S,E,$,T,C,k,M;return k=function(t){return function(e){return g.$apply(function(){return t.reject(f(e))})}},E=function(){var t,e;return e=m.defer(),t=p.open(u,parseInt(h)||1),t.onsuccess=function(){s=t.result,g.$apply(function(){e.resolve(s)})},t.onblocked=t.onerror=k(e),t.onupgradeneeded=function(t){var e;s=t.target.result,e=t.target.transaction,v.log("$indexedDB: Upgrading database '"+s.name+"' from version "+t.oldVersion+" to version "+t.newVersion+" ..."),o(t.oldVersion,t,s,e,v)},e.promise},T=function(){return c||(c=E())},S=function(){return T().then(function(){return s.close(),s=null,c=null})},M=function(t){var e,n,r,i;for(e=!0,r=0,i=t.length;i>r;r++)n=t[r],e&=s.objectStoreNames.contains(n);return e},C=function(t,e){return null==e&&(e=l.readonly),T().then(function(){return M(t)?new b(t,e):m.reject("Object stores "+t+" do not exist.")})},$=function(t){return t.beginKey&&t.endKey?e.bound(t.beginKey,t.endKey):void 0},x=function(t){return n.push(t.promise),t.promise["finally"](function(){var e;return e=n.indexOf(t.promise),e>-1?n.splice(e,1):void 0})},b=function(){function t(t,e){null==e&&(e=l.readonly),this.transaction=s.transaction(t,e),this.defer=m.defer(),this.promise=this.defer.promise,this.setupCallbacks()}return t.prototype.setupCallbacks=function(){return this.transaction.oncomplete=function(t){return function(){return g.$apply(function(){return t.defer.resolve("Transaction Completed")})}}(this),this.transaction.onabort=function(t){return function(e){return g.$apply(function(){return t.defer.reject("Transaction Aborted",e)})}}(this),this.transaction.onerror=function(t){return function(e){return g.$apply(function(){return t.defer.reject("Transaction Error",e)})}}(this),x(this)},t.prototype.objectStore=function(t){return this.transaction.objectStore(t)},t.prototype.abort=function(){return this.transaction.abort()},t}(),_=function(){function e(){this.q=m.defer(),this.promise=this.q.promise}return e.prototype.reject=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],g.$apply(function(t){return function(){var n;return(n=t.q).reject.apply(n,e)}}(this))},e.prototype.rejectWith=function(t){return t.onerror=t.onblocked=function(t){return function(e){return t.reject(f(e))}}(this)},e.prototype.resolve=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],g.$apply(function(t){return function(){var n;return(n=t.q).resolve.apply(n,e)}}(this))},e.prototype.notify=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],g.$apply(function(t){return function(){var n;return(n=t.q).notify.apply(n,e)}}(this))},e.prototype.dbErrorFunction=function(){return function(t){return function(e){return g.$apply(function(){return t.q.reject(f(e))})}}(this)},e.prototype.resolveWith=function(t){return this.rejectWith(t),t.onsuccess=function(t){return function(e){return t.resolve(e.target.result)}}(this)},e}(),y=function(){function t(t,e){this.storeName=t,this.store=e.objectStore(t),this.transaction=e}return t.prototype.defer=function(){return new _},t.prototype._mapCursor=function(t,e,n){var r;return null==n&&(n=this.store.openCursor()),r=[],t.rejectWith(n),n.onsuccess=function(n){var i;return(i=n.target.result)?(r.push(e(i)),t.notify(e(i)),i["continue"]()):t.resolve(r)}},t.prototype._arrayOperation=function(t,e){var n,r,i,o,a,s;for(n=this.defer(),angular.isArray(t)||(t=[t]),a=0,s=t.length;s>a;a++)r=t[a],i=e(r),o=[],n.rejectWith(i),i.onsuccess=function(e){return o.push(e.target.result),n.notify(e.target.result),o.length>=t.length?n.resolve(o):void 0};return 0===t.length?m.when([]):n.promise},t.prototype.getAllKeys=function(){var t,e;return t=this.defer(),this.store.getAllKeys?(e=this.store.getAllKeys(),t.resolveWith(e)):this._mapCursor(t,function(t){return t.key}),t.promise},t.prototype.clear=function(){var t,e;return t=this.defer(),e=this.store.clear(),t.resolveWith(e),t.promise},t.prototype["delete"]=function(t){var e;return e=this.defer(),e.resolveWith(this.store["delete"](t)),e.promise},t.prototype.upsert=function(t){return this._arrayOperation(t,function(t){return function(e){return t.store.put(e)}}(this))},t.prototype.insert=function(t){return this._arrayOperation(t,function(t){return function(e){return t.store.add(e)}}(this))},t.prototype.getAll=function(){var t;return t=this.defer(),this.store.getAll?t.resolveWith(this.store.getAll()):this._mapCursor(t,function(t){return t.value}),t.promise},t.prototype.eachWhere=function(t){var e,n,r,i,o;return e=this.defer(),r=t.indexName,i=t.keyRange,n=t.direction,o=r?this.store.index(r).openCursor(i,n):this.store.openCursor(i,n),this._mapCursor(e,function(t){return t.value},o),e.promise},t.prototype.findWhere=function(t){return this.eachWhere(t)},t.prototype.each=function(t){return null==t&&(t={}),this.eachBy(void 0,t)},t.prototype.eachBy=function(t,e){var n;return null==t&&(t=void 0),null==e&&(e={}),n=new w,n.indexName=t,n.keyRange=$(e),n.direction=e.direction||d.direction,this.eachWhere(n)},t.prototype.count=function(){var t;return t=this.defer(),t.resolveWith(this.store.count()),t.promise},t.prototype.find=function(t){var e,n;return e=this.defer(),n=this.store.get(t),e.rejectWith(n),n.onsuccess=function(n){return function(r){return r.target.result?e.resolve(r.target.result):e.reject(""+n.storeName+":"+t+" not found.")}}(this),e.promise},t.prototype.findBy=function(t,e){var n;return n=this.defer(),n.resolveWith(this.store.index(t).get(e)),n.promise},t.prototype.query=function(){return new w},t}(),w=function(){function t(){this.indexName=void 0,this.keyRange=void 0,this.direction=a.next}return t.prototype.$lt=function(t){return this.keyRange=e.upperBound(t,!0),this},t.prototype.$gt=function(t){return this.keyRange=e.lowerBound(t,!0),this},t.prototype.$lte=function(t){return this.keyRange=e.upperBound(t),this},t.prototype.$gte=function(t){return this.keyRange=e.lowerBound(t),this},t.prototype.$eq=function(t){return this.keyRange=e.only(t),this},t.prototype.$between=function(t,n,r,i){return null==r&&(r=!1),null==i&&(i=!1),this.keyRange=e.bound(t,n,r,i),this},t.prototype.$desc=function(t){return this.direction=t?a.prevunique:a.prev,this},t.prototype.$asc=function(t){return this.direction=t?a.nextunique:a.next,this},t.prototype.$index=function(t){return this.indexName=t,this},t}(),{openStore:function(t,e,n){return null==n&&(n=l.readwrite),C([t],n).then(function(n){var r;return r=e(new y(t,n)),i(n.promise,r)})},openStores:function(t,e,n){return null==n&&(n=l.readwrite),C(t,n).then(function(n){var r,o,a;return r=function(){var e,r,i;for(i=[],e=0,r=t.length;r>e;e++)a=t[e],i.push(new y(a,n));return i}(),o=e.apply(null,r),i(n.promise,o)})},openAllStores:function(t,e){return null==e&&(e=l.readwrite),T().then(function(n){return function(){var n,r,o,a,l;return a=Array.prototype.slice.apply(s.objectStoreNames),l=new b(a,e),n=function(){var t,e,n;for(n=[],t=0,e=a.length;e>t;t++)o=a[t],n.push(new y(o,l));return n}(),r=t.apply(null,n),i(l.promise,r)}}(this))},closeDatabase:function(){return S()},deleteDatabase:function(){return S().then(function(){var t;return t=new _,t.resolveWith(p.deleteDatabase(u)),t.promise})["finally"](function(){return v.log("$indexedDB: "+u+" database deleted.")})},queryDirection:r,flush:function(){return n.length>0?m.all(n):m.when([])},databaseInfo:function(){return T().then(function(){var t,e;return e=null,t=Array.prototype.slice.apply(s.objectStoreNames),C(t,l.readonly).then(function(e){var n,r,i;return i=function(){var i,o,a;for(a=[],i=0,o=t.length;o>i;i++)r=t[i],n=e.objectStore(r),a.push({name:r,keyPath:n.keyPath,autoIncrement:n.autoIncrement,indices:Array.prototype.slice.apply(n.indexNames)});return a}(),e.promise.then(function(){return{name:s.name,version:s.version,objectStores:i}})})})}}}]})}.call(this),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function r(t){return null===t?NaN:+t}function i(t){return!isNaN(t)}function o(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function a(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function u(){this._=Object.create(null)}function c(t){return(t+="")===ma||t[0]===ga?ga+t:t}function h(t){return(t+="")[0]===ga?t.slice(1):t}function d(t){return c(t)in this._}function f(t){return(t=c(t))in this._&&delete this._[t]}function p(){var t=[];for(var e in this._)t.push(h(e));return t}function m(){var t=0;for(var e in this._)++t;return t}function g(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function _(t){return t}function y(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function w(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=va.length;r>n;++n){var i=va[n]+e;if(i in t)return i}}function b(){}function x(){}function S(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new u;return e.on=function(e,i){var o,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function E(){na.event.preventDefault()}function $(){for(var t,e=na.event;t=e.sourceEvent;)e=t;return e}function T(t){for(var e=new x,n=0,r=arguments.length;++n<r;)e[arguments[n]]=S(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=na.event;i.target=t,na.event=i,e[i.type].apply(n,r)}finally{na.event=o}}},e}function C(t){return ya(t,Sa),t}function k(t){return"function"==typeof t?t:function(){return wa(t,this)}}function M(t){return"function"==typeof t?t:function(){return ba(t,this)}}function A(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=na.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function D(t){return t.trim().replace(/\s+/g," ")}function I(t){return new RegExp("(?:^|\\s+)"+na.requote(t)+"(?:\\s+|$)","g")}function P(t){return(t+"").trim().split(/^|\s+/)}function L(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=P(t).map(N);var i=t.length;return"function"==typeof e?r:n}function N(t){var e=I(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",D(i+" "+t))):n.setAttribute("class",D(i.replace(e," ")))}}function O(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function B(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function R(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=na.ns.qualify(t)).local?n:e}function V(){var t=this.parentNode;t&&t.removeChild(this)}function U(t){return{__data__:t}}function F(t){return function(){return xa(this,t)}}function z(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function H(t,e){for(var n=0,r=t.length;r>n;n++)for(var i,o=t[n],a=0,s=o.length;s>a;a++)(i=o[a])&&e(i,a,n);return t}function j(t){return ya(t,$a),t}function q(t){var e,n;return function(r,i,o){var a,s=t[o].update,l=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<l;);return a}}function Y(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function i(){var i=l(e,ia(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=n),i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+na.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),l=W;s>0&&(t=t.slice(0,s));var u=Ta.get(t);return u&&(t=u,l=G),s?e?i:r:e?b:o}function W(t,e){return function(n){var r=na.event;na.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{na.event=r}}}function G(t,e){var n=W(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function K(n){var r=".dragsuppress-"+ ++ka,i="click"+r,o=na.select(e(n)).on("touchmove"+r,E).on("dragstart"+r,E).on("selectstart"+r,E);if(null==Ca&&(Ca="onselectstart"in n?!1:w(n.style,"userSelect")),Ca){var a=t(n).style,s=a[Ca];a[Ca]="none"}return function(t){if(o.on(r,null),Ca&&(a[Ca]=s),t){var e=function(){o.on(i,null)};o.on(i,function(){E(),e()},!0),setTimeout(e,0)}}}function X(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(0>Ma){var o=e(t);if(o.scrollX||o.scrollY){r=na.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=r[0][0].getScreenCTM();Ma=!(a.f||a.e),r.remove()}}return Ma?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function Z(){return na.event.changedTouches[0].identifier}function Q(t){return t>0?1:0>t?-1:0}function J(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:-1>t?Ia:Math.acos(t)}function et(t){return t>1?Na:-1>t?-Na:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function rt(t){return((t=Math.exp(t))+1/t)/2}function it(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):bt(""+t,xt,st):new st(t,e,n)}function lt(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(a-o)*t/60:180>t?a:240>t?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+e):n+e-n*e,o=2*n-a,new vt(i(t+120),i(t),i(t-120))}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.c,t.l):t instanceof ht?ft(t.l,t.a,t.b):ft((t=St((t=na.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ut(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ht(n,Math.cos(t*=Oa)*e,Math.sin(t)*e)}function ht(t,e,n){return this instanceof ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ht?new ht(t.l,t.a,t.b):t instanceof ut?ct(t.h,t.c,t.l):St((t=vt(t)).r,t.g,t.b):new ht(t,e,n)}function dt(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return i=pt(i)*Wa,r=pt(r)*Ga,o=pt(o)*Ka,new vt(gt(3.2404542*i-1.5371385*r-.4985314*o),gt(-.969266*i+1.8760108*r+.041556*o),gt(.0556434*i-.2040259*r+1.0572252*o))}function ft(t,e,n){return t>0?new ut(Math.atan2(n,e)*Ba,Math.sqrt(e*e+n*n),t):new ut(NaN,NaN,t)}function pt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function mt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function gt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):bt(""+t,vt,lt):new vt(t,e,n)}function _t(t){return new vt(t>>16,t>>8&255,255&t)}function yt(t){return _t(t)+""}function wt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function bt(t,e,n){var r,i,o,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e($t(i[0]),$t(i[1]),$t(i[2]))}return(o=Qa.get(t.toLowerCase()))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,l=15&o,l=l<<4|l):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),e(a,s,l))}function xt(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,l=(a+o)/2;return s?(i=.5>l?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=l>0&&1>l?0:r),new st(r,i,l)}function St(t,e,n){t=Et(t),e=Et(e),n=Et(n);var r=mt((.4124564*t+.3575761*e+.1804375*n)/Wa),i=mt((.2126729*t+.7151522*e+.072175*n)/Ga),o=mt((.0193339*t+.119192*e+.9503041*n)/Ka);return ht(116*i-16,500*(r-i),200*(i-o))}function Et(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function $t(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Tt(t){return"function"==typeof t?t:function(){return t}}function Ct(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),kt(e,n,t,r)}}function kt(t,e,n,r){function i(){var t,e=l.status;if(!e&&At(l)||e>=200&&300>e||304===e){try{t=n.call(o,l)}catch(r){return void a.error.call(o,r)}a.load.call(o,t)}else a.error.call(o,l)}var o={},a=na.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(t){var e=na.event;na.event=t;try{a.progress.call(o,l)}finally{na.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(ia(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),a.beforesend.call(o,l),l.send(null==r?null:r),o},o.abort=function(){return l.abort(),o},na.rebind(o,a,"on"),null==r?o:o.get(Mt(r))}function Mt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function At(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Dt(){var t=It(),e=Pt()-t;e>24?(isFinite(e)&&(clearTimeout(ns),ns=setTimeout(Dt,e)),es=0):(es=1,is(Dt))}function It(){var t=Date.now();for(rs=Ja;rs;)t>=rs.t&&(rs.f=rs.c(t-rs.t)),rs=rs.n;return t}function Pt(){for(var t,e=Ja,n=1/0;e;)e.f?e=t?t.n=e.n:Ja=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return ts=t,n}function Lt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Nt(t,e){var n=Math.pow(10,3*pa(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ot(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,o=[],a=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>e));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:_;return function(t){var n=as.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],h=n[7],d=n[8],f=n[9],p=1,m="",g="",v=!1,_=!0;switch(d&&(d=+d.substring(1)),(u||"0"===r&&"="===a)&&(u=r="0",a="="),f){case"n":h=!0,f="g";break;case"%":p=100,g="%",f="f";break;case"p":p=100,g="%",f="r";break;case"b":case"o":case"x":case"X":"#"===l&&(m="0"+f.toLowerCase());case"c":_=!1;case"d":v=!0,d=0;break;case"s":p=-1,f="r"}"$"===l&&(m=i[0],g=i[1]),"r"!=f||d||(f="g"),null!=d&&("g"==f?d=Math.max(1,Math.min(21,d)):("e"==f||"f"==f)&&(d=Math.max(0,Math.min(20,d)))),f=ss.get(f)||Bt;var y=u&&h;return function(t){var n=g;if(v&&t%1)return"";var i=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>p){var l=na.formatPrefix(t,d);t=l.scale(t),n=l.symbol+g}else t*=p;t=f(t,d);var w,b,x=t.lastIndexOf(".");if(0>x){var S=_?t.lastIndexOf("e"):-1;0>S?(w=t,b=""):(w=t.substring(0,S),b=t.substring(S))}else w=t.substring(0,x),b=e+t.substring(x+1);!u&&h&&(w=o(w,1/0));var E=m.length+w.length+b.length+(y?0:i.length),$=c>E?new Array(E=c-E+1).join(r):"";return y&&(w=o($+w,$.length?c-b.length:1/0)),i+=m,t=w+b,("<"===a?i+t+$:">"===a?$+i+t:"^"===a?$.substring(0,E>>=1)+i+t+$.substring(E):i+(y?t:$+t))+n}}}function Bt(t){return t+""}function Rt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Vt(t,e,n){function r(e){var n=t(e),r=o(n,1);return r-e>e-n?n:r}function i(n){return e(n=t(new us(n-1)),1),n}function o(t,n){return e(t=new us(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;r>a;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{us=Rt;var r=new Rt;return r._=t,a(r,e,n)}finally{us=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var l=t.utc=Ut(t);return l.floor=l,l.round=Ut(r),l.ceil=Ut(i),l.offset=Ut(o),l.range=s,t}function Ut(t){return function(e,n){try{us=Rt;var r=new Rt;return r._=e,t(r,n)._}finally{us=Date}}}function Ft(t){function e(t){function e(e){for(var n,i,o,a=[],s=-1,l=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=hs[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=k[n])&&(n=o(e,null==i?"e"===n?" ":"0":i)),a.push(n),l=s+1);return a.push(t.slice(l,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,t,e,0);if(i!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&us!==Rt,a=new(o?Rt:us);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?a._:a},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,o,a,s=0,l=e.length,u=n.length;l>s;){if(r>=u)return-1;if(i=e.charCodeAt(s++),37===i){if(a=e.charAt(s++),o=M[a in hs?e.charAt(s++):a],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){x.lastIndex=0;var r=x.exec(e.slice(n));return r?(t.w=S.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){w.lastIndex=0;var r=w.exec(e.slice(n));return r?(t.w=b.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){T.lastIndex=0;var r=T.exec(e.slice(n));return r?(t.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){E.lastIndex=0;var r=E.exec(e.slice(n));return r?(t.m=$.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,k.c.toString(),e,r)}function l(t,e,r){return n(t,k.x.toString(),e,r)}function u(t,e,r){return n(t,k.X.toString(),e,r)}function c(t,e,n){var r=y.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var h=t.dateTime,d=t.date,f=t.time,p=t.periods,m=t.days,g=t.shortDays,v=t.months,_=t.shortMonths;e.utc=function(t){function n(t){
try{us=Rt;var e=new us;return e._=t,r(e)}finally{us=Date}}var r=e(t);return n.parse=function(t){try{us=Rt;var e=r.parse(t);return e&&e._}finally{us=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=se;var y=na.map(),w=Ht(m),b=jt(m),x=Ht(g),S=jt(g),E=Ht(v),$=jt(v),T=Ht(_),C=jt(_);p.forEach(function(t,e){y.set(t.toLowerCase(),e)});var k={a:function(t){return g[t.getDay()]},A:function(t){return m[t.getDay()]},b:function(t){return _[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(h),d:function(t,e){return zt(t.getDate(),e,2)},e:function(t,e){return zt(t.getDate(),e,2)},H:function(t,e){return zt(t.getHours(),e,2)},I:function(t,e){return zt(t.getHours()%12||12,e,2)},j:function(t,e){return zt(1+ls.dayOfYear(t),e,3)},L:function(t,e){return zt(t.getMilliseconds(),e,3)},m:function(t,e){return zt(t.getMonth()+1,e,2)},M:function(t,e){return zt(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return zt(t.getSeconds(),e,2)},U:function(t,e){return zt(ls.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return zt(ls.mondayOfYear(t),e,2)},x:e(d),X:e(f),y:function(t,e){return zt(t.getFullYear()%100,e,2)},Y:function(t,e){return zt(t.getFullYear()%1e4,e,4)},Z:oe,"%":function(){return"%"}},M={a:r,A:i,b:o,B:a,c:s,d:Jt,e:Jt,H:ee,I:ee,j:te,L:ie,m:Qt,M:ne,p:c,S:re,U:Yt,w:qt,W:Wt,x:l,X:u,y:Kt,Y:Gt,Z:Xt,"%":ae};return e}function zt(t,e,n){var r=0>t?"-":"",i=(r?-t:t)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(e)+i:i)}function Ht(t){return new RegExp("^(?:"+t.map(na.requote).join("|")+")","i")}function jt(t){for(var e=new u,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function qt(t,e,n){ds.lastIndex=0;var r=ds.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Yt(t,e,n){ds.lastIndex=0;var r=ds.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Wt(t,e,n){ds.lastIndex=0;var r=ds.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Gt(t,e,n){ds.lastIndex=0;var r=ds.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Kt(t,e,n){ds.lastIndex=0;var r=ds.exec(e.slice(n,n+2));return r?(t.y=Zt(+r[0]),n+r[0].length):-1}function Xt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Zt(t){return t+(t>68?1900:2e3)}function Qt(t,e,n){ds.lastIndex=0;var r=ds.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Jt(t,e,n){ds.lastIndex=0;var r=ds.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function te(t,e,n){ds.lastIndex=0;var r=ds.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ee(t,e,n){ds.lastIndex=0;var r=ds.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ne(t,e,n){ds.lastIndex=0;var r=ds.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function re(t,e,n){ds.lastIndex=0;var r=ds.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ie(t,e,n){ds.lastIndex=0;var r=ds.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oe(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=pa(e)/60|0,i=pa(e)%60;return n+zt(r,"0",2)+zt(i,"0",2)}function ae(t,e,n){fs.lastIndex=0;var r=fs.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function se(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function le(){}function ue(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function ce(t,e){t&&vs.hasOwnProperty(t.type)&&vs[t.type](t,e)}function he(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function de(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)he(t[n],e,1);e.polygonEnd()}function fe(){function t(t,e){t*=Oa,e=e*Oa/2+Ia/4;var n=t-r,a=n>=0?1:-1,s=a*n,l=Math.cos(e),u=Math.sin(e),c=o*u,h=i*l+c*Math.cos(s),d=c*a*Math.sin(s);ys.add(Math.atan2(d,h)),r=t,i=l,o=u}var e,n,r,i,o;ws.point=function(a,s){ws.point=t,r=(e=a)*Oa,i=Math.cos(s=(n=s)*Oa/2+Ia/4),o=Math.sin(s)},ws.lineEnd=function(){t(e,n)}}function pe(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ge(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ve(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function _e(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ye(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function we(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function be(t,e){return pa(t[0]-e[0])<Aa&&pa(t[1]-e[1])<Aa}function xe(t,e){t*=Oa;var n=Math.cos(e*=Oa);Se(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Se(t,e,n){++bs,Ss+=(t-Ss)/bs,Es+=(e-Es)/bs,$s+=(n-$s)/bs}function Ee(){function t(t,i){t*=Oa;var o=Math.cos(i*=Oa),a=o*Math.cos(t),s=o*Math.sin(t),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=n*l-r*s)*u+(u=r*a-e*l)*u+(u=e*s-n*a)*u),e*a+n*s+r*l);xs+=u,Ts+=u*(e+(e=a)),Cs+=u*(n+(n=s)),ks+=u*(r+(r=l)),Se(e,n,r)}var e,n,r;Is.point=function(i,o){i*=Oa;var a=Math.cos(o*=Oa);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Is.point=t,Se(e,n,r)}}function $e(){Is.point=xe}function Te(){function t(t,e){t*=Oa;var n=Math.cos(e*=Oa),a=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=i*l-o*s,c=o*a-r*l,h=r*s-i*a,d=Math.sqrt(u*u+c*c+h*h),f=r*a+i*s+o*l,p=d&&-tt(f)/d,m=Math.atan2(d,f);Ms+=p*u,As+=p*c,Ds+=p*h,xs+=m,Ts+=m*(r+(r=a)),Cs+=m*(i+(i=s)),ks+=m*(o+(o=l)),Se(r,i,o)}var e,n,r,i,o;Is.point=function(a,s){e=a,n=s,Is.point=t,a*=Oa;var l=Math.cos(s*=Oa);r=l*Math.cos(a),i=l*Math.sin(a),o=Math.sin(s),Se(r,i,o)},Is.lineEnd=function(){t(e,n),Is.lineEnd=$e,Is.point=xe}}function Ce(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function ke(){return!0}function Me(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(be(n,r)){i.lineStart();for(var s=0;e>s;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var l=new De(n,t,null,!0),u=new De(n,null,l,!1);l.o=u,o.push(l),a.push(u),l=new De(r,t,null,!1),u=new De(r,null,l,!0),l.o=u,o.push(l),a.push(u)}}),a.sort(e),Ae(o),Ae(a),o.length){for(var s=0,l=n,u=a.length;u>s;++s)a[s].e=l=!l;for(var c,h,d=o[0];;){for(var f=d,p=!0;f.v;)if((f=f.n)===d)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var s=0,u=c.length;u>s;++s)i.point((h=c[s])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p){c=f.p.z;for(var s=c.length-1;s>=0;--s)i.point((h=c[s])[0],h[1])}else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,p=!p}while(!f.v);i.lineEnd()}}}function Ae(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function De(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ie(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);g.point(n[0],n[1])}function l(){_.point=s,g.lineStart()}function u(){_.point=a,g.lineEnd()}function c(t,e){m.push([t,e]);var n=i(t,e);w.point(n[0],n[1])}function h(){w.lineStart(),m=[]}function d(){c(m[0][0],m[0][1]),w.lineEnd();var t,e=w.clean(),n=y.buffer(),r=n.length;if(m.pop(),p.push(m),m=null,r)if(1&e){t=n[0];var i,r=t.length-1,a=-1;if(r>0){for(b||(o.polygonStart(),b=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter(Pe))}var f,p,m,g=e(o),v=i.invert(r[0],r[1]),_={point:a,lineStart:l,lineEnd:u,polygonStart:function(){_.point=c,_.lineStart=h,_.lineEnd=d,f=[],p=[]},polygonEnd:function(){_.point=a,_.lineStart=l,_.lineEnd=u,f=na.merge(f);var t=Ve(v,p);f.length?(b||(o.polygonStart(),b=!0),Me(f,Ne,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),f=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},y=Le(),w=e(y),b=!1;return _}}function Pe(t){return t.length>1}function Le(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:b,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ne(t,e){return((t=t.x)[0]<0?t[1]-Na-Aa:Na-t[1])-((e=e.x)[0]<0?e[1]-Na-Aa:Na-e[1])}function Oe(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ia:-Ia,l=pa(o-n);pa(l-Ia)<Aa?(t.point(n,r=(r+a)/2>0?Na:-Na),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=Ia&&(pa(n-i)<Aa&&(n-=i*Aa),pa(o-s)<Aa&&(o-=s*Aa),r=Be(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function Be(t,e,n,r){var i,o,a=Math.sin(t-n);return pa(a)>Aa?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function Re(t,e,n,r){var i;if(null==t)i=n*Na,r.point(-Ia,i),r.point(0,i),r.point(Ia,i),r.point(Ia,0),r.point(Ia,-i),r.point(0,-i),r.point(-Ia,-i),r.point(-Ia,0),r.point(-Ia,i);else if(pa(t[0]-e[0])>Aa){var o=t[0]<e[0]?Ia:-Ia;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Ve(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;ys.reset();for(var s=0,l=e.length;l>s;++s){var u=e[s],c=u.length;if(c)for(var h=u[0],d=h[0],f=h[1]/2+Ia/4,p=Math.sin(f),m=Math.cos(f),g=1;;){g===c&&(g=0),t=u[g];var v=t[0],_=t[1]/2+Ia/4,y=Math.sin(_),w=Math.cos(_),b=v-d,x=b>=0?1:-1,S=x*b,E=S>Ia,$=p*y;if(ys.add(Math.atan2($*x*Math.sin(S),m*w+$*Math.cos(S))),o+=E?b+x*Pa:b,E^d>=n^v>=n){var T=ge(pe(h),pe(t));ye(T);var C=ge(i,T);ye(C);var k=(E^b>=0?-1:1)*et(C[2]);(r>k||r===k&&(T[0]||T[1]))&&(a+=E^b>=0?1:-1)}if(!g++)break;d=v,p=y,m=w,h=t}}return(-Aa>o||Aa>o&&0>ys)^1&a}function Ue(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,d){var f,p=[h,d],m=e(h,d),g=a?m?0:i(h,d):m?i(h+(0>h?Ia:-Ia),d):0;if(!n&&(u=l=m)&&t.lineStart(),m!==l&&(f=r(n,p),(be(n,f)||be(p,f))&&(p[0]+=Aa,p[1]+=Aa,m=e(p[0],p[1]))),m!==l)c=0,m?(t.lineStart(),f=r(p,n),t.point(f[0],f[1])):(f=r(n,p),t.point(f[0],f[1]),t.lineEnd()),n=f;else if(s&&n&&a^m){var v;g&o||!(v=r(p,n,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||n&&be(n,p)||t.point(p[0],p[1]),n=p,l=m,o=g},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function r(t,e,n){var r=pe(t),i=pe(e),a=[1,0,0],s=ge(r,i),l=me(s,s),u=s[0],c=l-u*u;if(!c)return!n&&t;var h=o*l/c,d=-o*u/c,f=ge(a,s),p=_e(a,h),m=_e(s,d);ve(p,m);var g=f,v=me(p,g),_=me(g,g),y=v*v-_*(me(p,p)-1);if(!(0>y)){var w=Math.sqrt(y),b=_e(g,(-v-w)/_);if(ve(b,p),b=we(b),!n)return b;var x,S=t[0],E=e[0],$=t[1],T=e[1];S>E&&(x=S,S=E,E=x);var C=E-S,k=pa(C-Ia)<Aa,M=k||Aa>C;if(!k&&$>T&&(x=$,$=T,T=x),M?k?$+T>0^b[1]<(pa(b[0]-S)<Aa?$:T):$<=b[1]&&b[1]<=T:C>Ia^(S<=b[0]&&b[0]<=E)){var A=_e(g,(-v+w)/_);return ve(A,p),[b,we(A)]}}}function i(e,n){var r=a?t:Ia-t,i=0;return-r>e?i|=1:e>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var o=Math.cos(t),a=o>0,s=pa(o)>Aa,l=pn(t,6*Oa);return Ie(e,n,l,a?[0,-t]:[-Ia,t-Ia])}function Fe(t,e,n,r){return function(i){var o,a=i.a,s=i.b,l=a.x,u=a.y,c=s.x,h=s.y,d=0,f=1,p=c-l,m=h-u;if(o=t-l,p||!(o>0)){if(o/=p,0>p){if(d>o)return;f>o&&(f=o)}else if(p>0){if(o>f)return;o>d&&(d=o)}if(o=n-l,p||!(0>o)){if(o/=p,0>p){if(o>f)return;o>d&&(d=o)}else if(p>0){if(d>o)return;f>o&&(f=o)}if(o=e-u,m||!(o>0)){if(o/=m,0>m){if(d>o)return;f>o&&(f=o)}else if(m>0){if(o>f)return;o>d&&(d=o)}if(o=r-u,m||!(0>o)){if(o/=m,0>m){if(o>f)return;o>d&&(d=o)}else if(m>0){if(d>o)return;f>o&&(f=o)}return d>0&&(i.a={x:l+d*p,y:u+d*m}),1>f&&(i.b={x:l+f*p,y:u+f*m}),i}}}}}}function ze(t,e,n,r){function i(r,i){return pa(r[0]-t)<Aa?i>0?0:3:pa(r[0]-n)<Aa?i>0?2:1:pa(r[1]-e)<Aa?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=g.length,r=t[1],i=0;n>i;++i)for(var o,a=1,s=g[i],l=s.length,u=s[0];l>a;++a)o=s[a],u[1]<=r?o[1]>r&&J(u,o,t)>0&&++e:o[1]<=r&&J(u,o,t)<0&&--e,u=o;return 0!==e}function u(o,s,l,u){var c=0,h=0;if(null==o||(c=i(o,l))!==(h=i(s,l))||a(o,s)<0^l>0){do u.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+l+4)%4)!==h)}else u.point(s[0],s[1])}function c(i,o){return i>=t&&n>=i&&o>=e&&r>=o}function h(t,e){c(t,e)&&s.point(t,e)}function d(){M.point=p,g&&g.push(v=[]),E=!0,S=!1,b=x=NaN}function f(){m&&(p(_,y),w&&S&&C.rejoin(),m.push(C.buffer())),M.point=h,S&&s.lineEnd()}function p(t,e){t=Math.max(-Ls,Math.min(Ls,t)),e=Math.max(-Ls,Math.min(Ls,e));var n=c(t,e);if(g&&v.push([t,e]),E)_=t,y=e,w=n,E=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&S)s.point(t,e);else{var r={a:{x:b,y:x},b:{x:t,y:e}};k(r)?(S||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),$=!1):n&&(s.lineStart(),s.point(t,e),$=!1)}b=t,x=e,S=n}var m,g,v,_,y,w,b,x,S,E,$,T=s,C=Le(),k=Fe(t,e,n,r),M={point:h,lineStart:d,lineEnd:f,polygonStart:function(){s=C,m=[],g=[],$=!0},polygonEnd:function(){s=T,m=na.merge(m);var e=l([t,r]),n=$&&e,i=m.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),i&&Me(m,o,e,u,s),s.polygonEnd()),m=g=v=null}};return M}}function He(t){var e=0,n=Ia/3,r=an(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Ia/180,n=t[1]*Ia/180):[e/Ia*180,n/Ia*180]},i}function je(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,et((o-(t*t+n*n)*i*i)/(2*i))]},n}function qe(){function t(t,e){Os+=i*t-r*e,r=t,i=e}var e,n,r,i;Fs.point=function(o,a){Fs.point=t,e=r=o,n=i=a},Fs.lineEnd=function(){t(e,n)}}function Ye(t,e){Bs>t&&(Bs=t),t>Vs&&(Vs=t),Rs>e&&(Rs=e),e>Us&&(Us=e)}function We(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=Ge(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=Ge(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Ge(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ke(t,e){Ss+=t,Es+=e,++$s}function Xe(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);Ts+=a*(e+t)/2,Cs+=a*(n+r)/2,ks+=a,Ke(e=t,n=r)}var e,n;Hs.point=function(r,i){Hs.point=t,Ke(e=r,n=i)}}function Ze(){Hs.point=Ke}function Qe(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);Ts+=a*(r+t)/2,Cs+=a*(i+e)/2,ks+=a,a=i*t-r*e,Ms+=a*(r+t),As+=a*(i+e),Ds+=3*a,Ke(r=t,i=e)}var e,n,r,i;Hs.point=function(o,a){Hs.point=t,Ke(e=r=o,n=i=a)},Hs.lineEnd=function(){t(e,n)}}function Je(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Pa)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:b};return s}function tn(t){function e(t){return(s?r:n)(t)}function n(e){return rn(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){y=NaN,E.point=o,e.lineStart()}function o(n,r){var o=pe([n,r]),a=t(n,r);i(y,w,_,b,x,S,y=a[0],w=a[1],_=n,b=o[0],x=o[1],S=o[2],s,e),e.point(y,w)}function a(){E.point=n,e.lineEnd()}function l(){r(),E.point=u,E.lineEnd=c}function u(t,e){o(h=t,d=e),f=y,p=w,m=b,g=x,v=S,E.point=o}function c(){i(y,w,_,b,x,S,f,p,h,m,g,v,s,e),E.lineEnd=a,a()}var h,d,f,p,m,g,v,_,y,w,b,x,S,E={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),E.lineStart=l},polygonEnd:function(){e.polygonEnd(),E.lineStart=r}};return E}function i(e,n,r,s,l,u,c,h,d,f,p,m,g,v){var _=c-e,y=h-n,w=_*_+y*y;if(w>4*o&&g--){var b=s+f,x=l+p,S=u+m,E=Math.sqrt(b*b+x*x+S*S),$=Math.asin(S/=E),T=pa(pa(S)-1)<Aa||pa(r-d)<Aa?(r+d)/2:Math.atan2(x,b),C=t(T,$),k=C[0],M=C[1],A=k-e,D=M-n,I=y*A-_*D;(I*I/w>o||pa((_*A+y*D)/w-.5)>.3||a>s*f+l*p+u*m)&&(i(e,n,r,s,l,u,k,M,T,b/=E,x/=E,S,g,v),v.point(k,M),i(k,M,T,b,x,S,c,h,d,f,p,m,g,v))}}var o=.5,a=Math.cos(30*Oa),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function en(t){var e=tn(function(e,n){return t([e*Ba,n*Ba])});return function(t){return sn(e(t))}}function nn(t){this.stream=t}function rn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function on(t){return an(function(){return t})()}function an(t){function e(t){return t=s(t[0]*Oa,t[1]*Oa),[t[0]*d+l,u-t[1]*d]}function n(t){return t=s.invert((t[0]-l)/d,(u-t[1])/d),t&&[t[0]*Ba,t[1]*Ba]}function r(){s=Ce(a=cn(v,y,w),o);var t=o(m,g);return l=f-t[0]*d,u=p+t[1]*d,i()}function i(){return c&&(c.valid=!1,c=null),e}var o,a,s,l,u,c,h=tn(function(t,e){return t=o(t,e),[t[0]*d+l,u-t[1]*d]}),d=150,f=480,p=250,m=0,g=0,v=0,y=0,w=0,b=Ps,x=_,S=null,E=null;return e.stream=function(t){return c&&(c.valid=!1),c=sn(b(a,h(x(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(S=t,Ps):Ue((S=+t)*Oa),i()):S},e.clipExtent=function(t){return arguments.length?(E=t,x=t?ze(t[0][0],t[0][1],t[1][0],t[1][1]):_,i()):E},e.scale=function(t){return arguments.length?(d=+t,r()):d},e.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],r()):[f,p]},e.center=function(t){return arguments.length?(m=t[0]%360*Oa,g=t[1]%360*Oa,r()):[m*Ba,g*Ba]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Oa,y=t[1]%360*Oa,w=t.length>2?t[2]%360*Oa:0,r()):[v*Ba,y*Ba,w*Ba]},na.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function sn(t){return rn(t,function(e,n){t.point(e*Oa,n*Oa)})}function ln(t,e){return[t,e]}function un(t,e){return[t>Ia?t-Pa:-Ia>t?t+Pa:t,e]}function cn(t,e,n){return t?e||n?Ce(dn(t),fn(e,n)):dn(t):e||n?fn(e,n):un}function hn(t){return function(e,n){return e+=t,[e>Ia?e-Pa:-Ia>e?e+Pa:e,n]}}function dn(t){var e=hn(t);return e.invert=hn(-t),e}function fn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*r+s*i;return[Math.atan2(l*o-c*a,s*r-u*i),et(c*o+l*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*o-l*a;return[Math.atan2(l*o+u*a,s*r+c*i),et(c*r-s*i)]},n}function pn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var l=a*e;null!=i?(i=mn(n,i),o=mn(n,o),(a>0?o>i:i>o)&&(i+=a*Pa)):(i=t+a*Pa,o=t-.5*l);for(var u,c=i;a>0?c>o:o>c;c-=l)s.point((u=we([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function mn(t,e){var n=pe(e);n[0]-=t,ye(n);var r=tt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Aa)%(2*Math.PI)}function gn(t,e,n){var r=na.range(t,e-Aa,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function vn(t,e,n){var r=na.range(t,e-Aa,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function _n(t){return t.source}function yn(t){return t.target}function wn(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),l=i*Math.cos(t),u=i*Math.sin(t),c=a*Math.cos(n),h=a*Math.sin(n),d=2*Math.asin(Math.sqrt(ot(r-e)+i*a*ot(n-t))),f=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*f,n=Math.sin(d-t)*f,r=n*l+e*c,i=n*u+e*h,a=n*o+e*s;return[Math.atan2(i,r)*Ba,Math.atan2(a,Math.sqrt(r*r+i*i))*Ba]}:function(){return[t*Ba,e*Ba]};return p.distance=d,p}function bn(){function t(t,i){var o=Math.sin(i*=Oa),a=Math.cos(i),s=pa((t*=Oa)-e),l=Math.cos(s);js+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*l)*s),n*o+r*a*l),e=t,n=o,r=a}var e,n,r;qs.point=function(i,o){e=i*Oa,n=Math.sin(o*=Oa),r=Math.cos(o),qs.point=t},qs.lineEnd=function(){qs.point=qs.lineEnd=b}}function xn(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function Sn(t,e){function n(t,e){a>0?-Na+Aa>e&&(e=-Na+Aa):e>Na-Aa&&(e=Na-Aa);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Ia/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=Q(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Na]},n):$n}function En(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return pa(i)<Aa?ln:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-Q(i)*Math.sqrt(t*t+n*n)]},n)}function $n(t,e){return[t,Math.log(Math.tan(Ia/4+e/2))]}function Tn(t){var e,n=on(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Ia*r(),l=i();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Cn(t,e){return[Math.log(Math.tan(Ia/4+e/2)),-t]}function kn(t){return t[0]}function Mn(t){return t[1]}function An(t){for(var e=t.length,n=[0,1],r=2,i=2;e>i;i++){for(;r>1&&J(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Dn(t,e){return t[0]-e[0]||t[1]-e[1]}function In(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Pn(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,l=t[1],u=n[1],c=e[1]-l,h=r[1]-u,d=(s*(l-u)-h*(i-o))/(h*a-s*c);return[i+d*a,l+d*c]}function Ln(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Nn(){nr(this),this.edge=this.site=this.circle=null}function On(t){var e=rl.pop()||new Nn;return e.site=t,e}function Bn(t){Wn(t),tl.remove(t),rl.push(t),nr(t)}function Rn(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Bn(t);for(var l=o;l.circle&&pa(n-l.circle.x)<Aa&&pa(r-l.circle.cy)<Aa;)o=l.P,s.unshift(l),Bn(l),l=o;s.unshift(l),Wn(l);for(var u=a;u.circle&&pa(n-u.circle.x)<Aa&&pa(r-u.circle.cy)<Aa;)a=u.N,s.push(u),Bn(u),u=a;s.push(u),Wn(u);var c,h=s.length;for(c=1;h>c;++c)u=s[c],l=s[c-1],Jn(u.edge,l.site,u.site,i);l=s[0],u=s[h-1],u.edge=Zn(l.site,u.site,null,i),Yn(l),Yn(u)}function Vn(t){for(var e,n,r,i,o=t.x,a=t.y,s=tl._;s;)if(r=Un(s,a)-o,r>Aa)s=s.L;else{if(i=o-Fn(s,a),!(i>Aa)){r>-Aa?(e=s.P,n=s):i>-Aa?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=On(t);if(tl.insert(e,l),e||n){if(e===n)return Wn(e),n=On(e.site),tl.insert(l,n),l.edge=n.edge=Zn(e.site,l.site),Yn(e),void Yn(n);if(!n)return void(l.edge=Zn(e.site,l.site));Wn(e),Wn(n);var u=e.site,c=u.x,h=u.y,d=t.x-c,f=t.y-h,p=n.site,m=p.x-c,g=p.y-h,v=2*(d*g-f*m),_=d*d+f*f,y=m*m+g*g,w={x:(g*_-f*y)/v+c,y:(d*y-m*_)/v+h};Jn(n.edge,u,p,w),l.edge=Zn(u,t,null,w),n.edge=Zn(t,p,null,w),Yn(e),Yn(n)}}function Un(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n.x,l=n.y,u=l-e;if(!u)return s;var c=s-r,h=1/o-1/u,d=c/u;return h?(-d+Math.sqrt(d*d-2*h*(c*c/(-2*u)-l+u/2+i-o/2)))/h+r:(r+s)/2}function Fn(t,e){var n=t.N;if(n)return Un(n,e);var r=t.site;return r.y===e?r.x:1/0}function zn(t){this.site=t,this.edges=[]}function Hn(t){for(var e,n,r,i,o,a,s,l,u,c,h=t[0][0],d=t[1][0],f=t[0][1],p=t[1][1],m=Js,g=m.length;g--;)if(o=m[g],o&&o.prepare())for(s=o.edges,l=s.length,a=0;l>a;)c=s[a].end(),r=c.x,i=c.y,u=s[++a%l].start(),e=u.x,n=u.y,(pa(r-e)>Aa||pa(i-n)>Aa)&&(s.splice(a,0,new tr(Qn(o.site,c,pa(r-h)<Aa&&p-i>Aa?{x:h,y:pa(e-h)<Aa?n:p}:pa(i-p)<Aa&&d-r>Aa?{x:pa(n-p)<Aa?e:d,y:p}:pa(r-d)<Aa&&i-f>Aa?{x:d,y:pa(e-d)<Aa?n:f}:pa(i-f)<Aa&&r-h>Aa?{x:pa(n-f)<Aa?e:h,y:f}:null),o.site,null)),++l)}function jn(t,e){return e.angle-t.angle}function qn(){nr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Yn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,l=r.x-a,u=r.y-s,c=o.x-a,h=o.y-s,d=2*(l*h-u*c);if(!(d>=-Da)){var f=l*l+u*u,p=c*c+h*h,m=(h*f-u*p)/d,g=(l*p-c*f)/d,h=g+s,v=il.pop()||new qn;v.arc=t,v.site=i,v.x=m+a,v.y=h+Math.sqrt(m*m+g*g),v.cy=h,t.circle=v;for(var _=null,y=nl._;y;)if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(!y.L){_=y.P;break}y=y.L}else{if(!y.R){_=y;break}y=y.R}nl.insert(_,v),_||(el=v)}}}}function Wn(t){var e=t.circle;e&&(e.P||(el=e.N),nl.remove(e),il.push(e),nr(e),t.circle=null)}function Gn(t){for(var e,n=Qs,r=Fe(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!Kn(e,t)||!r(e)||pa(e.a.x-e.b.x)<Aa&&pa(e.a.y-e.b.y)<Aa)&&(e.a=e.b=null,n.splice(i,1))}function Kn(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,h=t.r,d=c.x,f=c.y,p=h.x,m=h.y,g=(d+p)/2,v=(f+m)/2;if(m===f){if(a>g||g>=s)return;if(d>p){if(o){if(o.y>=u)return}else o={x:g,y:l};n={x:g,y:u}}else{if(o){if(o.y<l)return}else o={x:g,y:u};n={x:g,y:l}}}else if(r=(d-p)/(m-f),i=v-r*g,-1>r||r>1)if(d>p){if(o){if(o.y>=u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(m>f){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Xn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Zn(t,e,n,r){var i=new Xn(t,e);return Qs.push(i),n&&Jn(i,t,e,n),r&&Jn(i,e,t,r),Js[t.i].edges.push(new tr(i,t,e)),Js[e.i].edges.push(new tr(i,e,t)),i}function Qn(t,e,n){var r=new Xn(t,null);return r.a=e,r.b=n,Qs.push(r),r}function Jn(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function tr(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function er(){this._=null}function nr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function rr(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ir(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function or(t){for(;t.L;)t=t.L;return t}function ar(t,e){var n,r,i,o=t.sort(sr).pop();for(Qs=[],Js=new Array(t.length),tl=new er,nl=new er;;)if(i=el,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))(o.x!==n||o.y!==r)&&(Js[o.i]=new zn(o),Vn(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Rn(i.arc)}e&&(Gn(e),Hn(e));var a={cells:Js,edges:Qs};return tl=nl=Qs=Js=null,a}function sr(t,e){return e.y-t.y||e.x-t.x}function lr(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ur(t){return t.x}function cr(t){return t.y}function hr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function dr(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),l=e.nodes;l[0]&&dr(t,l[0],n,r,a,s),l[1]&&dr(t,l[1],a,r,i,s),l[2]&&dr(t,l[2],n,s,a,o),l[3]&&dr(t,l[3],a,s,i,o)}}function fr(t,e,n,r,i,o,a){var s,l=1/0;return function u(t,c,h,d,f){if(!(c>o||h>a||r>d||i>f)){if(p=t.point){var p,m=e-t.x,g=n-t.y,v=m*m+g*g;if(l>v){var _=Math.sqrt(l=v);r=e-_,i=n-_,o=e+_,a=n+_,s=p}}for(var y=t.nodes,w=.5*(c+d),b=.5*(h+f),x=e>=w,S=n>=b,E=S<<1|x,$=E+4;$>E;++E)if(t=y[3&E])switch(3&E){case 0:u(t,c,h,w,b);break;case 1:u(t,w,h,d,b);break;case 2:u(t,c,b,w,f);break;case 3:u(t,w,b,d,f)}}}(t,r,i,o,a),s}function pr(t,e){t=na.rgb(t),e=na.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+wt(Math.round(n+o*t))+wt(Math.round(r+a*t))+wt(Math.round(i+s*t))}}function mr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=_r(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function gr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vr(t,e){var n,r,i,o=al.lastIndex=sl.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=al.exec(t))&&(r=sl.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:gr(n,r)})),o=sl.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;e>r;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function _r(t,e){for(var n,r=na.interpolators.length;--r>=0&&!(n=na.interpolators[r](t,e)););return n}function yr(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)r.push(_r(t[n],e[n]));for(;o>n;++n)i[n]=t[n];for(;a>n;++n)i[n]=e[n];return function(t){for(n=0;s>n;++n)i[n]=r[n](t);return i}}function wr(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function br(t){return function(e){return 1-t(1-e)}}function xr(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Sr(t){return t*t}function Er(t){return t*t*t}function $r(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Tr(t){return function(e){return Math.pow(e,t)}}function Cr(t){return 1-Math.cos(t*Na)}function kr(t){return Math.pow(2,10*(t-1))}function Mr(t){return 1-Math.sqrt(1-t*t)}function Ar(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Pa*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Pa/e)}}function Dr(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Ir(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Pr(t,e){t=na.hcl(t),e=na.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ct(n+o*t,r+a*t,i+s*t)+""}}function Lr(t,e){t=na.hsl(t),e=na.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return lt(n+o*t,r+a*t,i+s*t)+""}}function Nr(t,e){t=na.lab(t),e=na.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return dt(n+o*t,r+a*t,i+s*t)+""}}function Or(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Br(t){var e=[t.a,t.b],n=[t.c,t.d],r=Vr(e),i=Rr(e,n),o=Vr(Ur(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ba,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ba:0}function Rr(t,e){return t[0]*e[0]+t[1]*e[1]}function Vr(t){var e=Math.sqrt(Rr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Ur(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Fr(t,e){var n,r=[],i=[],o=na.transform(t),a=na.transform(e),s=o.translate,l=a.translate,u=o.rotate,c=a.rotate,h=o.skew,d=a.skew,f=o.scale,p=a.scale;return s[0]!=l[0]||s[1]!=l[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:gr(s[0],l[0])},{i:3,x:gr(s[1],l[1])})):l[0]||l[1]?r.push("translate("+l+")"):r.push(""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:gr(u,c)})):c&&r.push(r.pop()+"rotate("+c+")"),h!=d?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:gr(h,d)}):d&&r.push(r.pop()+"skewX("+d+")"),f[0]!=p[0]||f[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:gr(f[0],p[0])},{i:n-2,x:gr(f[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function zr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Hr(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function jr(t){for(var e=t.source,n=t.target,r=Yr(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function qr(t){
for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Yr(t,e){if(t===e)return t;for(var n=qr(t),r=qr(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Wr(t){t.fixed|=2}function Gr(t){t.fixed&=-7}function Kr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Xr(t){t.fixed&=-5}function Zr(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,l=-1;++l<s;)o=a[l],null!=o&&(Zr(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,i+=u*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function Qr(t,e){return na.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=ii,t}function Jr(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function ti(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function ei(t){return t.children}function ni(t){return t.value}function ri(t,e){return e.value-t.value}function ii(t){return na.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function oi(t){return t.x}function ai(t){return t.y}function si(t,e,n){t.y0=e,t.y=n}function li(t){return na.range(t.length)}function ui(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function ci(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function hi(t){return t.reduce(di,0)}function di(t,e){return t+e[1]}function fi(t,e){return pi(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function pi(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function mi(t){return[na.min(t),na.max(t)]}function gi(t,e){return t.value-e.value}function vi(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function _i(t,e){t._pack_next=e,e._pack_prev=t}function yi(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function wi(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),d=Math.min(t.y-t.r,d),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(u=n.length)){var n,r,i,o,a,s,l,u,c=1/0,h=-(1/0),d=1/0,f=-(1/0);if(n.forEach(bi),r=n[0],r.x=-r.r,r.y=0,e(r),u>1&&(i=n[1],i.x=i.r,i.y=0,e(i),u>2))for(o=n[2],Ei(r,i,o),e(o),vi(r,o),r._pack_prev=o,vi(o,i),i=r._pack_next,a=3;u>a;a++){Ei(r,i,o=n[a]);var p=0,m=1,g=1;for(s=i._pack_next;s!==i;s=s._pack_next,m++)if(yi(s,o)){p=1;break}if(1==p)for(l=r._pack_prev;l!==s._pack_prev&&!yi(l,o);l=l._pack_prev,g++);p?(g>m||m==g&&i.r<r.r?_i(r,i=s):_i(r=l,i),a--):(vi(r,o),i=o,e(o))}var v=(c+h)/2,_=(d+f)/2,y=0;for(a=0;u>a;a++)o=n[a],o.x-=v,o.y-=_,y=Math.max(y,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=y,n.forEach(xi)}}function bi(t){t._pack_next=t._pack_prev=t}function xi(t){delete t._pack_next,delete t._pack_prev}function Si(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Si(i[o],e,n,r)}function Ei(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o;a*=a,r*=r;var l=.5+(r-a)/(2*s),u=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+l*i+u*o,n.y=t.y+l*o-u*i}else n.x=t.x+r,n.y=t.y}function $i(t,e){return t.parent==e.parent?1:2}function Ti(t){var e=t.children;return e.length?e[0]:t.t}function Ci(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ki(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Mi(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Ai(t,e,n){return t.a.parent===e.parent?t.a:n}function Di(t){return 1+na.max(t,function(t){return t.y})}function Ii(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Pi(t){var e=t.children;return e&&e.length?Pi(e[0]):t}function Li(t){var e,n=t.children;return n&&(e=n.length)?Li(n[e-1]):t}function Ni(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Oi(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Bi(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Ri(t){return t.rangeExtent?t.rangeExtent():Bi(t.range())}function Vi(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Ui(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Fi(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:_l}function zi(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=na.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function Hi(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?zi:Vi,l=r?Hr:zr;return a=i(t,e,l,n),s=i(e,t,l,_r),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(Or)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return Wi(t,e)},o.tickFormat=function(e,n){return Gi(t,e,n)},o.nice=function(e){return qi(t,e),i()},o.copy=function(){return Hi(t,e,n,r)},i()}function ji(t,e){return na.rebind(t,e,"range","rangeRound","interpolate","clamp")}function qi(t,e){return Ui(t,Fi(Yi(t,e)[2]))}function Yi(t,e){null==e&&(e=10);var n=Bi(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Wi(t,e){return na.range.apply(na,Yi(t,e))}function Gi(t,e,n){var r=Yi(t,e);if(n){var i=as.exec(n);if(i.shift(),"s"===i[8]){var o=na.formatPrefix(Math.max(pa(r[0]),pa(r[1])));return i[7]||(i[7]="."+Ki(o.scale(r[2]))),i[8]="f",n=na.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+Xi(i[8],r)),n=i.join("")}else n=",."+Ki(r[2])+"f";return na.format(n)}function Ki(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Xi(t,e){var n=Ki(e[2]);return t in yl?Math.abs(n-Ki(Math.max(pa(e[0]),pa(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Zi(t,e,n,r){function i(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=Ui(r.map(i),n?Math:bl);return t.domain(e),r=e.map(o),a},a.ticks=function(){var t=Bi(r),a=[],s=t[0],l=t[1],u=Math.floor(i(s)),c=Math.ceil(i(l)),h=e%1?2:e;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var d=1;h>d;d++)a.push(o(u)*d);a.push(o(u))}else for(a.push(o(u));u++<c;)for(var d=h-1;d>0;d--)a.push(o(u)*d);for(u=0;a[u]<s;u++);for(c=a.length;a[c-1]>l;c--);a=a.slice(u,c)}return a},a.tickFormat=function(t,e){if(!arguments.length)return wl;arguments.length<2?e=wl:"function"!=typeof e&&(e=na.format(e));var r,s=Math.max(.1,t/a.ticks().length),l=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(l(i(t)+r))<=s?e(t):""}},a.copy=function(){return Zi(t.copy(),e,n,r)},ji(a,t)}function Qi(t,e,n){function r(e){return t(i(e))}var i=Ji(e),o=Ji(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return Wi(n,t)},r.tickFormat=function(t,e){return Gi(n,t,e)},r.nice=function(t){return r.domain(qi(n,t))},r.exponent=function(a){return arguments.length?(i=Ji(e=a),o=Ji(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return Qi(t.copy(),e,n)},ji(r,t)}function Ji(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function to(t,e){function n(n){return o[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):NaN))-1)%o.length]}function r(e,n){return na.range(t.length).map(function(t){return e+n*t})}var i,o,a;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new u;for(var o,a=-1,s=r.length;++a<s;)i.has(o=r[a])||i.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+s);return o=r(l+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+s)|0;return o=r(l+Math.round(c*s/2+(u-l-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],h=i[1-u],d=(h-c)/(t.length-s+2*l);return o=r(c+d*l,d),u&&o.reverse(),a=d*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],h=i[1-u],d=Math.floor((h-c)/(t.length-s+2*l));return o=r(c+Math.round((h-c-(t.length-s)*d)/2),d),u&&o.reverse(),a=Math.round(d*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Bi(e.a[0])},n.copy=function(){return to(t,e)},n.domain(t)}function eo(t,e){function o(){var n=0,r=e.length;for(s=[];++n<r;)s[n-1]=na.quantile(t,n/r);return a}function a(t){return isNaN(t=+t)?void 0:e[na.bisect(s,t)]}var s;return a.domain=function(e){return arguments.length?(t=e.map(r).filter(i).sort(n),o()):t},a.range=function(t){return arguments.length?(e=t,o()):e},a.quantiles=function(){return s},a.invertExtent=function(n){return n=e.indexOf(n),0>n?[NaN,NaN]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},a.copy=function(){return eo(t,e)},o()}function no(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/o+t,[e,e+1/o]},r.copy=function(){return no(t,e,n)},i()}function ro(t,e){function n(n){return n>=n?e[na.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ro(t,e)},n}function io(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Wi(t,e)},e.tickFormat=function(e,n){return Gi(t,e,n)},e.copy=function(){return io(t)},e}function oo(){return 0}function ao(t){return t.innerRadius}function so(t){return t.outerRadius}function lo(t){return t.startAngle}function uo(t){return t.endAngle}function co(t){return t&&t.padAngle}function ho(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function fo(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),l=s*a,u=-s*o,c=t[0]+l,h=t[1]+u,d=e[0]+l,f=e[1]+u,p=(c+d)/2,m=(h+f)/2,g=d-c,v=f-h,_=g*g+v*v,y=n-r,w=c*f-d*h,b=(0>v?-1:1)*Math.sqrt(y*y*_-w*w),x=(w*v-g*b)/_,S=(-w*g-v*b)/_,E=(w*v+g*b)/_,$=(-w*g+v*b)/_,T=x-p,C=S-m,k=E-p,M=$-m;return T*T+C*C>k*k+M*M&&(x=E,S=$),[[x-l,S-u],[x*n/y,S*n/y]]}function po(t){function e(e){function a(){u.push("M",o(t(c),s))}for(var l,u=[],c=[],h=-1,d=e.length,f=Tt(n),p=Tt(r);++h<d;)i.call(this,l=e[h],h)?c.push([+f.call(this,l,h),+p.call(this,l,h)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var n=kn,r=Mn,i=ke,o=mo,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Cl.get(t)||mo).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function mo(t){return t.join("L")}function go(t){return mo(t)+"Z"}function vo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function _o(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function yo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function wo(t,e){return t.length<4?mo(t):t[1]+So(t.slice(1,-1),Eo(t,e))}function bo(t,e){return t.length<3?mo(t):t[0]+So((t.push(t[0]),t),Eo([t[t.length-2]].concat(t,[t[1]]),e))}function xo(t,e){return t.length<3?mo(t):t[0]+So(t,Eo(t,e))}function So(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return mo(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,l=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],l=2),e.length>1){s=e[1],o=t[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)o=t[l],s=e[u],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[l];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Eo(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function $o(t){if(t.length<3)return mo(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],l=[i,",",o,"L",Mo(Al,a),",",Mo(Al,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Ao(l,a,s);return t.pop(),l.push("L",r),l.join("")}function To(t){if(t.length<4)return mo(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(Mo(Al,o)+","+Mo(Al,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Ao(n,o,a);return n.join("")}function Co(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[Mo(Al,a),",",Mo(Al,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ao(e,a,s);return e.join("")}function ko(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,l=t[n][1]-a,u=-1;++u<=n;)r=t[u],i=u/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*l);return $o(t)}function Mo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ao(t,e,n){t.push("C",Mo(kl,e),",",Mo(kl,n),",",Mo(Ml,e),",",Mo(Ml,n),",",Mo(Al,e),",",Mo(Al,n))}function Do(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Io(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Do(i,o);++e<n;)r[e]=(a+(a=Do(i=o,o=t[e+1])))/2;return r[e]=a,r}function Po(t){for(var e,n,r,i,o=[],a=Io(t),s=-1,l=t.length-1;++s<l;)e=Do(t[s],t[s+1]),pa(e)<Aa?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Lo(t){return t.length<3?mo(t):t[0]+So(t,Po(t))}function No(t){for(var e,n,r,i=-1,o=t.length;++i<o;)e=t[i],n=e[0],r=e[1]-Na,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Oo(t){function e(e){function l(){m.push("M",s(t(v),h),c,u(t(g.reverse()),h),"Z")}for(var d,f,p,m=[],g=[],v=[],_=-1,y=e.length,w=Tt(n),b=Tt(i),x=n===r?function(){return f}:Tt(r),S=i===o?function(){return p}:Tt(o);++_<y;)a.call(this,d=e[_],_)?(g.push([f=+w.call(this,d,_),p=+b.call(this,d,_)]),v.push([+x.call(this,d,_),+S.call(this,d,_)])):g.length&&(l(),g=[],v=[]);return g.length&&l(),m.length?m.join(""):null}var n=kn,r=kn,i=0,o=Mn,a=ke,s=mo,l=s.key,u=s,c="L",h=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=Cl.get(t)||mo).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Bo(t){return t.radius}function Ro(t){return[t.x,t.y]}function Vo(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Na;return[n*Math.cos(r),n*Math.sin(r)]}}function Uo(){return 64}function Fo(){return"circle"}function zo(t){var e=Math.sqrt(t/Ia);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Ho(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function jo(t,e,n){return ya(t,Bl),t.namespace=e,t.id=n,t}function qo(t,e,n,r){var i=t.id,o=t.namespace;return H(t,"function"==typeof n?function(t,a,s){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function Yo(t){return null==t&&(t=""),function(){this.textContent=t}}function Wo(t){return null==t?"__transition__":"__transition_"+t+"__"}function Go(t,e,n,r,i){var o=t[n]||(t[n]={active:0,count:0}),a=o[r];if(!a){var s=i.time;a=o[r]={tween:new u,time:s,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++o.count,na.timer(function(i){function l(n){if(o.active>r)return c();var i=o[o.active];i&&(--o.count,delete o[o.active],i.event&&i.event.interrupt.call(t,t.__data__,i.index)),o.active=r,a.event&&a.event.start.call(t,t.__data__,e),a.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&m.push(r)}),d=a.ease,h=a.duration,na.timer(function(){return p.c=u(n||1)?ke:u,1},0,s)}function u(n){if(o.active!==r)return 1;for(var i=n/h,s=d(i),l=m.length;l>0;)m[--l].call(t,s);return i>=1?(a.event&&a.event.end.call(t,t.__data__,e),c()):void 0}function c(){return--o.count?delete o[r]:delete t[n],1}var h,d,f=a.delay,p=rs,m=[];return p.t=f+s,i>=f?l(i-f):void(p.c=l)},0,s)}}function Ko(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function Xo(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function Zo(t){return t.toISOString()}function Qo(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,o=na.bisect(Yl,i);return o==Yl.length?[e.year,Yi(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/Yl[o-1]<Yl[o]/i?o-1:o]:[Kl,Yi(t,n)[2]]}return r.invert=function(e){return Jo(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Jo)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Jo(+n+1),e).length}var o=r.domain(),a=Bi(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);return s&&(t=s[0],e=s[1]),r.domain(Ui(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Jo(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Jo(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Bi(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Jo(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Qo(t.copy(),e,n)},ji(r,t)}function Jo(t){return new Date(t)}function ta(t){return JSON.parse(t.responseText)}function ea(t){var e=oa.createRange();return e.selectNode(oa.body),e.createContextualFragment(t.responseText)}var na={version:"3.5.5"},ra=[].slice,ia=function(t){return ra.call(t)},oa=this.document;if(oa)try{ia(oa.documentElement.childNodes)[0].nodeType}catch(aa){ia=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),oa)try{oa.createElement("DIV").style.setProperty("opacity",0,"")}catch(sa){var la=this.Element.prototype,ua=la.setAttribute,ca=la.setAttributeNS,ha=this.CSSStyleDeclaration.prototype,da=ha.setProperty;la.setAttribute=function(t,e){ua.call(this,t,e+"")},la.setAttributeNS=function(t,e,n){ca.call(this,t,e,n+"")},ha.setProperty=function(t,e,n){da.call(this,t,e+"",n)}}na.ascending=n,na.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},na.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},na.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},na.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},na.sum=function(t,e){var n,r=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)i(n=+t[a])&&(r+=n);else for(;++a<o;)i(n=+e.call(t,t[a],a))&&(r+=n);return r},na.mean=function(t,e){var n,o=0,a=t.length,s=-1,l=a;if(1===arguments.length)for(;++s<a;)i(n=r(t[s]))?o+=n:--l;else for(;++s<a;)i(n=r(e.call(t,t[s],s)))?o+=n:--l;return l?o/l:void 0},na.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},na.median=function(t,e){var o,a=[],s=t.length,l=-1;if(1===arguments.length)for(;++l<s;)i(o=r(t[l]))&&a.push(o);else for(;++l<s;)i(o=r(e.call(t,t[l],l)))&&a.push(o);return a.length?na.quantile(a.sort(n),.5):void 0},na.variance=function(t,e){var n,o,a=t.length,s=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<a;)i(n=r(t[u]))&&(o=n-s,s+=o/++c,l+=o*(n-s));else for(;++u<a;)i(n=r(e.call(t,t[u],u)))&&(o=n-s,s+=o/++c,l+=o*(n-s));return c>1?l/(c-1):void 0},na.deviation=function(){var t=na.variance.apply(this,arguments);return t?Math.sqrt(t):t};var fa=o(n);na.bisectLeft=fa.left,na.bisect=na.bisectRight=fa.right,na.bisector=function(t){return o(1===t.length?function(e,r){return n(t(e),r)}:t)},na.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,2>o&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},na.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},na.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],o=new Array(0>r?0:r);r>n;)o[n]=[e=i,i=t[++n]];return o},na.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=na.min(arguments,a),n=new Array(e);++t<e;)for(var r,i=-1,o=n[t]=new Array(r);++i<r;)o[i]=arguments[i][t];return n},na.transpose=function(t){return na.zip.apply(na,t)},na.keys=function(t){var e=[];for(var n in t)e.push(n);return e},na.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},na.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},na.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n};var pa=Math.abs;na.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],o=s(pa(n)),a=-1;if(t*=o,e*=o,n*=o,0>n)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},na.map=function(t,e){var n=new u;if(t instanceof u)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var ma="__proto__",ga="\x00";l(u,{has:d,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:f,keys:p,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:h(e),value:this._[e]});return t},size:m,empty:g,forEach:function(t){for(var e in this._)t.call(this,h(e),this._[e])}}),na.nest=function(){function t(e,a,s){if(s>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var l,c,h,d,f=-1,p=a.length,m=o[s++],g=new u;++f<p;)(d=g.get(l=m(c=a[f])))?d.push(c):g.set(l,[c]);return e?(c=e(),h=function(n,r){c.set(n,t(e,r,s))}):(c={},h=function(n,r){c[n]=t(e,r,s)}),g.forEach(h),c}function e(t,n){if(n>=o.length)return t;var r=[],i=a[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(na.map,n,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return a[o.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},na.set=function(t){var e=new v;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},l(v,{has:d,add:function(t){return this._[c(t+="")]=!0,t},remove:f,values:p,size:m,empty:g,forEach:function(t){for(var e in this._)t.call(this,h(e))}}),na.behavior={},na.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=y(t,e,e[n]);return t};var va=["webkit","ms","moz","Moz","o","O"];na.dispatch=function(){for(var t=new x,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=S(t);return t},x.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},na.event=null,na.requote=function(t){return t.replace(_a,"\\$&")};var _a=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ya={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},wa=function(t,e){return e.querySelector(t)},ba=function(t,e){return e.querySelectorAll(t)},xa=function(t,e){var n=t.matches||t[w(t,"matchesSelector")];return(xa=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(wa=function(t,e){return Sizzle(t,e)[0]||null},ba=Sizzle,xa=Sizzle.matchesSelector),na.selection=function(){return na.select(oa.documentElement)};var Sa=na.selection.prototype=[];Sa.select=function(t){var e,n,r,i,o=[];t=k(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return C(o)},Sa.selectAll=function(t){var e,n,r=[];t=M(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,l=a.length;++s<l;)(n=a[s])&&(r.push(e=ia(t.call(n,n.__data__,s,i))),e.parentNode=n);return C(r)};var Ea={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};na.ns={prefix:Ea,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),Ea.hasOwnProperty(n)?{space:Ea[n],local:t}:t}},Sa.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=na.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(A(e,t[e]));return this}return this.each(A(t,e))},Sa.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=P(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!I(t[i]).test(e))return!1;return!0}for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},Sa.style=function(t,n,r){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(n="");for(r in t)this.each(O(r,t[r],n));return this}if(2>i){var o=this.node();return e(o).getComputedStyle(o,null).getPropertyValue(t)}r=""}return this.each(O(t,n,r))},Sa.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(B(e,t[e]));return this}return this.each(B(t,e))},Sa.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Sa.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Sa.append=function(t){return t=R(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Sa.insert=function(t,e){return t=R(t),e=k(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Sa.remove=function(){return this.each(V)},Sa.data=function(t,e){function n(t,n){var r,i,o,a=t.length,h=n.length,d=Math.min(a,h),f=new Array(h),p=new Array(h),m=new Array(a);if(e){var g,v=new u,_=new Array(a);for(r=-1;++r<a;)v.has(g=e.call(i=t[r],i.__data__,r))?m[r]=i:v.set(g,i),_[r]=g;for(r=-1;++r<h;)(i=v.get(g=e.call(n,o=n[r],r)))?i!==!0&&(f[r]=i,i.__data__=o):p[r]=U(o),v.set(g,!0);for(r=-1;++r<a;)v.get(_[r])!==!0&&(m[r]=t[r])}else{for(r=-1;++r<d;)i=t[r],o=n[r],i?(i.__data__=o,f[r]=i):p[r]=U(o);for(;h>r;++r)p[r]=U(n[r]);for(;a>r;++r)m[r]=t[r]}p.update=f,p.parentNode=f.parentNode=m.parentNode=t.parentNode,s.push(p),l.push(f),c.push(m)}var r,i,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(t[o]=i.__data__);return t}var s=j([]),l=C([]),c=C([]);if("function"==typeof t)for(;++o<a;)n(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],t);return l.enter=function(){return s},l.exit=function(){return c},l},Sa.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Sa.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=F(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;l>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return C(i)},Sa.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Sa.sort=function(t){t=z.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Sa.each=function(t){return H(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Sa.call=function(t){var e=ia(arguments);return t.apply(e[0]=this,e),this},Sa.empty=function(){return!this.node()},Sa.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},Sa.size=function(){var t=0;return H(this,function(){++t}),t};var $a=[];na.selection.enter=j,na.selection.enter.prototype=$a,$a.append=Sa.append,$a.empty=Sa.empty,$a.node=Sa.node,$a.call=Sa.call,$a.size=Sa.size,$a.select=function(t){for(var e,n,r,i,o,a=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(o=i[u])?(e.push(r[u]=n=t.call(i.parentNode,o.__data__,u,s)),n.__data__=o.__data__):e.push(null)}return C(a)},$a.insert=function(t,e){return arguments.length<2&&(e=q(this)),Sa.insert.call(this,t,e)},na.select=function(e){var n;return"string"==typeof e?(n=[wa(e,oa)],n.parentNode=oa.documentElement):(n=[e],n.parentNode=t(e)),C([n])},na.selectAll=function(t){var e;return"string"==typeof t?(e=ia(ba(t,oa)),e.parentNode=oa.documentElement):(e=t,e.parentNode=null),C([e])},Sa.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e=!1);for(n in t)this.each(Y(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(Y(t,e,n))};var Ta=na.map({mouseenter:"mouseover",mouseleave:"mouseout"});oa&&Ta.forEach(function(t){"on"+t in oa&&Ta.remove(t);
});var Ca,ka=0;na.mouse=function(t){return X(t,$())};var Ma=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;na.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=$().changedTouches),e)for(var r,i=0,o=e.length;o>i;++i)if((r=e[i]).identifier===n)return X(t,r)},na.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function n(t,e,n,o,a){return function(){function s(){var t,n,r=e(d,m);r&&(t=r[0]-y[0],n=r[1]-y[1],p|=t|n,y=r,f({type:"drag",x:r[0]+u[0],y:r[1]+u[1],dx:t,dy:n}))}function l(){e(d,m)&&(v.on(o+g,null).on(a+g,null),_(p&&na.event.target===h),f({type:"dragend"}))}var u,c=this,h=na.event.target,d=c.parentNode,f=r.of(c,arguments),p=0,m=t(),g=".drag"+(null==m?"":"-"+m),v=na.select(n(h)).on(o+g,s).on(a+g,l),_=K(h),y=e(d,m);i?(u=i.apply(c,arguments),u=[u.x-y[0],u.y-y[1]]):u=[0,0],f({type:"dragstart"})}}var r=T(t,"drag","dragstart","dragend"),i=null,o=n(b,na.mouse,e,"mousemove","mouseup"),a=n(Z,na.touch,_,"touchmove","touchend");return t.origin=function(e){return arguments.length?(i=e,t):i},na.rebind(t,r,"on")},na.touches=function(t,e){return arguments.length<2&&(e=$().touches),e?ia(e).map(function(e){var n=X(t,e);return n.identifier=e.identifier,n}):[]};var Aa=1e-6,Da=Aa*Aa,Ia=Math.PI,Pa=2*Ia,La=Pa-Aa,Na=Ia/2,Oa=Ia/180,Ba=180/Ia,Ra=Math.SQRT2,Va=2,Ua=4;na.interpolateZoom=function(t,e){function n(t){var e=t*_;if(v){var n=rt(m),a=o/(Va*d)*(n*it(Ra*e+m)-nt(m));return[r+a*u,i+a*c,o*n/rt(Ra*e+m)]}return[r+t*u,i+t*c,o*Math.exp(Ra*e)]}var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],l=e[2],u=a-r,c=s-i,h=u*u+c*c,d=Math.sqrt(h),f=(l*l-o*o+Ua*h)/(2*o*Va*d),p=(l*l-o*o-Ua*h)/(2*l*Va*d),m=Math.log(Math.sqrt(f*f+1)-f),g=Math.log(Math.sqrt(p*p+1)-p),v=g-m,_=(v||Math.log(l/o))/Ra;return n.duration=1e3*_,n},na.behavior.zoom=function(){function t(t){t.on(D,h).on(za+".zoom",f).on("dblclick.zoom",p).on(L,d)}function n(t){return[(t[0]-$.x)/$.k,(t[1]-$.y)/$.k]}function r(t){return[t[0]*$.k+$.x,t[1]*$.k+$.y]}function i(t){$.k=Math.max(k[0],Math.min(k[1],t))}function o(t,e){e=r(e),$.x+=t[0]-e[0],$.y+=t[1]-e[1]}function a(e,n,r,a){e.__chart__={x:$.x,y:$.y,k:$.k},i(Math.pow(2,a)),o(g=n,r),e=na.select(e),M>0&&(e=e.transition().duration(M)),e.call(t.event)}function s(){b&&b.domain(w.range().map(function(t){return(t-$.x)/$.k}).map(w.invert)),S&&S.domain(x.range().map(function(t){return(t-$.y)/$.k}).map(x.invert))}function l(t){A++||t({type:"zoomstart"})}function u(t){s(),t({type:"zoom",scale:$.k,translate:[$.x,$.y]})}function c(t){--A||t({type:"zoomend"}),g=null}function h(){function t(){h=1,o(na.mouse(i),f),u(s)}function r(){d.on(I,null).on(P,null),p(h&&na.event.target===a),c(s)}var i=this,a=na.event.target,s=N.of(i,arguments),h=0,d=na.select(e(i)).on(I,t).on(P,r),f=n(na.mouse(i)),p=K(i);Ol.call(i),l(s)}function d(){function t(){var t=na.touches(p);return f=$.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=n(t))}),t}function e(){var e=na.event.target;na.select(e).on(w,r).on(b,s),x.push(e);for(var n=na.event.changedTouches,i=0,o=n.length;o>i;++i)g[n[i].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(500>u-y){var c=l[0];a(p,c,g[c.identifier],Math.floor(Math.log($.k)/Math.LN2)+1),E()}y=u}else if(l.length>1){var c=l[0],h=l[1],d=c[0]-h[0],f=c[1]-h[1];v=d*d+f*f}}function r(){var t,e,n,r,a=na.touches(p);Ol.call(p);for(var s=0,l=a.length;l>s;++s,r=null)if(n=a[s],r=g[n.identifier]){if(e)break;t=n,e=r}if(r){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],i(h*f)}y=null,o(t,e),u(m)}function s(){if(na.event.touches.length){for(var e=na.event.changedTouches,n=0,r=e.length;r>n;++n)delete g[e[n].identifier];for(var i in g)return void t()}na.selectAll(x).on(_,null),S.on(D,h).on(L,d),T(),c(m)}var f,p=this,m=N.of(p,arguments),g={},v=0,_=".zoom-"+na.event.changedTouches[0].identifier,w="touchmove"+_,b="touchend"+_,x=[],S=na.select(p),T=K(p);e(),l(m),S.on(D,null).on(L,e)}function f(){var t=N.of(this,arguments);_?clearTimeout(_):(m=n(g=v||na.mouse(this)),Ol.call(this),l(t)),_=setTimeout(function(){_=null,c(t)},50),E(),i(Math.pow(2,.002*Fa())*$.k),o(g,m),u(t)}function p(){var t=na.mouse(this),e=Math.log($.k)/Math.LN2;a(this,t,n(t),na.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var m,g,v,_,y,w,b,x,S,$={x:0,y:0,k:1},C=[960,500],k=Ha,M=250,A=0,D="mousedown.zoom",I="mousemove.zoom",P="mouseup.zoom",L="touchstart.zoom",N=T(t,"zoomstart","zoom","zoomend");return za||(za="onwheel"in oa?(Fa=function(){return-na.event.deltaY*(na.event.deltaMode?120:1)},"wheel"):"onmousewheel"in oa?(Fa=function(){return na.event.wheelDelta},"mousewheel"):(Fa=function(){return-na.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=N.of(this,arguments),e=$;Ll?na.select(this).transition().each("start.zoom",function(){$=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=C[0],r=C[1],i=g?g[0]:n/2,o=g?g[1]:r/2,a=na.interpolateZoom([(i-$.x)/$.k,(o-$.y)/$.k,n/$.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),s=n/r[2];this.__chart__=$={x:i-r[0]*s,y:o-r[1]*s,k:s},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=$,l(t),u(t),c(t))})},t.translate=function(e){return arguments.length?($={x:+e[0],y:+e[1],k:$.k},s(),t):[$.x,$.y]},t.scale=function(e){return arguments.length?($={x:$.x,y:$.y,k:+e},s(),t):$.k},t.scaleExtent=function(e){return arguments.length?(k=null==e?Ha:[+e[0],+e[1]],t):k},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(C=e&&[+e[0],+e[1]],t):C},t.duration=function(e){return arguments.length?(M=+e,t):M},t.x=function(e){return arguments.length?(b=e,w=e.copy(),$={x:0,y:0,k:1},t):b},t.y=function(e){return arguments.length?(S=e,x=e.copy(),$={x:0,y:0,k:1},t):S},na.rebind(t,N,"on")};var Fa,za,Ha=[0,1/0];na.color=at,at.prototype.toString=function(){return this.rgb()+""},na.hsl=st;var ja=st.prototype=new at;ja.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},ja.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},ja.rgb=function(){return lt(this.h,this.s,this.l)},na.hcl=ut;var qa=ut.prototype=new at;qa.brighter=function(t){return new ut(this.h,this.c,Math.min(100,this.l+Ya*(arguments.length?t:1)))},qa.darker=function(t){return new ut(this.h,this.c,Math.max(0,this.l-Ya*(arguments.length?t:1)))},qa.rgb=function(){return ct(this.h,this.c,this.l).rgb()},na.lab=ht;var Ya=18,Wa=.95047,Ga=1,Ka=1.08883,Xa=ht.prototype=new at;Xa.brighter=function(t){return new ht(Math.min(100,this.l+Ya*(arguments.length?t:1)),this.a,this.b)},Xa.darker=function(t){return new ht(Math.max(0,this.l-Ya*(arguments.length?t:1)),this.a,this.b)},Xa.rgb=function(){return dt(this.l,this.a,this.b)},na.rgb=vt;var Za=vt.prototype=new at;Za.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&i>e&&(e=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new vt(i,i,i)},Za.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vt(t*this.r,t*this.g,t*this.b)},Za.hsl=function(){return xt(this.r,this.g,this.b)},Za.toString=function(){return"#"+wt(this.r)+wt(this.g)+wt(this.b)};var Qa=na.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Qa.forEach(function(t,e){Qa.set(t,_t(e))}),na.functor=Tt,na.xhr=Ct(_),na.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=kt(t,e,null==n?r:i(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(c>=u)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u>c;){var r=t.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var r,i,o={},a={},s=[],u=t.length,c=0,h=0;(r=n())!==a;){for(var d=[];r!==o&&r!==a;)d.push(r),r=n();e&&null==(d=e(d,h++))||s.push(d)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new v,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(a).join(t)].concat(e.map(function(e){return i.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},na.csv=na.dsv(",","text/csv"),na.tsv=na.dsv("	","text/tab-separated-values");var Ja,ts,es,ns,rs,is=this[w(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};na.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var i=n+e,o={c:t,t:i,f:!1,n:null};ts?ts.n=o:Ja=o,ts=o,es||(ns=clearTimeout(ns),es=1,is(Dt))},na.timer.flush=function(){It(),Pt()},na.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var os=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Nt);na.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=na.round(t,Lt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),os[8+n/3]};var as=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ss=na.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=na.round(t,Lt(t,e))).toFixed(Math.max(0,Math.min(20,Lt(t*(1+1e-15),e))))}}),ls=na.time={},us=Date;Rt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){cs.setUTCDate.apply(this._,arguments)},setDay:function(){cs.setUTCDay.apply(this._,arguments)},setFullYear:function(){cs.setUTCFullYear.apply(this._,arguments)},setHours:function(){cs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){cs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){cs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){cs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){cs.setUTCSeconds.apply(this._,arguments)},setTime:function(){cs.setTime.apply(this._,arguments)}};var cs=Date.prototype;ls.year=Vt(function(t){return t=ls.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ls.years=ls.year.range,ls.years.utc=ls.year.utc.range,ls.day=Vt(function(t){var e=new us(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ls.days=ls.day.range,ls.days.utc=ls.day.utc.range,ls.dayOfYear=function(t){var e=ls.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ls[t]=Vt(function(t){return(t=ls.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ls.year(t).getDay();return Math.floor((ls.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ls[t+"s"]=n.range,ls[t+"s"].utc=n.utc.range,ls[t+"OfYear"]=function(t){var n=ls.year(t).getDay();return Math.floor((ls.dayOfYear(t)+(n+e)%7)/7)}}),ls.week=ls.sunday,ls.weeks=ls.sunday.range,ls.weeks.utc=ls.sunday.utc.range,ls.weekOfYear=ls.sundayOfYear;var hs={"-":"",_:" ",0:"0"},ds=/^\s*\d+/,fs=/^%/;na.locale=function(t){return{numberFormat:Ot(t),timeFormat:Ft(t)}};var ps=na.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});na.format=ps.numberFormat,na.geo={},le.prototype={s:0,t:0,add:function(t){ue(t,this.t,ms),ue(ms.s,this.s,this),this.s?this.t+=ms.t:this.s=ms.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ms=new le;na.geo.stream=function(t,e){t&&gs.hasOwnProperty(t.type)?gs[t.type](t,e):ce(t,e)};var gs={Feature:function(t,e){ce(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ce(n[r].geometry,e)}},vs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){he(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)he(n[r],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)de(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ce(n[r],e)}};na.geo.area=function(t){return _s=0,na.geo.stream(t,ws),_s};var _s,ys=new le,ws={sphere:function(){_s+=4*Ia},point:b,lineStart:b,lineEnd:b,polygonStart:function(){ys.reset(),ws.lineStart=fe},polygonEnd:function(){var t=2*ys;_s+=0>t?4*Ia+t:t,ws.lineStart=ws.lineEnd=ws.point=b}};na.geo.bounds=function(){function t(t,e){y.push(w=[c=t,d=t]),h>e&&(h=e),e>f&&(f=e)}function e(e,n){var r=pe([e*Oa,n*Oa]);if(v){var i=ge(v,r),o=[i[1],-i[0],0],a=ge(o,i);ye(a),a=we(a);var l=e-p,u=l>0?1:-1,m=a[0]*Ba*u,g=pa(l)>180;if(g^(m>u*p&&u*e>m)){var _=a[1]*Ba;_>f&&(f=_)}else if(m=(m+360)%360-180,g^(m>u*p&&u*e>m)){var _=-a[1]*Ba;h>_&&(h=_)}else h>n&&(h=n),n>f&&(f=n);g?p>e?s(c,e)>s(c,d)&&(d=e):s(e,d)>s(c,d)&&(c=e):d>=c?(c>e&&(c=e),e>d&&(d=e)):e>p?s(c,e)>s(c,d)&&(d=e):s(e,d)>s(c,d)&&(c=e)}else t(e,n);v=r,p=e}function n(){b.point=e}function r(){w[0]=c,w[1]=d,b.point=t,v=null}function i(t,n){if(v){var r=t-p;_+=pa(r)>180?r+(r>0?360:-360):r}else m=t,g=n;ws.point(t,n),e(t,n)}function o(){ws.lineStart()}function a(){i(m,g),ws.lineEnd(),pa(_)>Aa&&(c=-(d=180)),w[0]=c,w[1]=d,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,d,f,p,m,g,v,_,y,w,b={point:t,lineStart:n,lineEnd:r,polygonStart:function(){b.point=i,b.lineStart=o,b.lineEnd=a,_=0,ws.polygonStart()},polygonEnd:function(){ws.polygonEnd(),b.point=t,b.lineStart=n,b.lineEnd=r,0>ys?(c=-(d=180),h=-(f=90)):_>Aa?f=90:-Aa>_&&(h=-90),w[0]=c,w[1]=d}};return function(t){f=d=-(c=h=1/0),y=[],na.geo.stream(t,b);var e=y.length;if(e){y.sort(l);for(var n,r=1,i=y[0],o=[i];e>r;++r)n=y[r],u(n[0],i)||u(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,p=-(1/0),e=o.length-1,r=0,i=o[e];e>=r;i=n,++r)n=o[r],(a=s(i[1],n[0]))>p&&(p=a,c=n[0],d=i[1])}return y=w=null,c===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,h],[d,f]]}}(),na.geo.centroid=function(t){bs=xs=Ss=Es=$s=Ts=Cs=ks=Ms=As=Ds=0,na.geo.stream(t,Is);var e=Ms,n=As,r=Ds,i=e*e+n*n+r*r;return Da>i&&(e=Ts,n=Cs,r=ks,Aa>xs&&(e=Ss,n=Es,r=$s),i=e*e+n*n+r*r,Da>i)?[NaN,NaN]:[Math.atan2(n,e)*Ba,et(r/Math.sqrt(i))*Ba]};var bs,xs,Ss,Es,$s,Ts,Cs,ks,Ms,As,Ds,Is={sphere:b,point:xe,lineStart:Ee,lineEnd:$e,polygonStart:function(){Is.lineStart=Te},polygonEnd:function(){Is.lineStart=Ee}},Ps=Ie(ke,Oe,Re,[-Ia,-Ia/2]),Ls=1e9;na.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(s){return arguments.length?(o=ze(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(na.geo.conicEqualArea=function(){return He(je)}).raw=je,na.geo.albers=function(){return na.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},na.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}var e,n,r,i,o=na.geo.albers(),a=na.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=na.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var u=o.scale(),c=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[c-.455*u,h-.238*u],[c+.455*u,h+.238*u]]).stream(l).point,r=a.translate([c-.307*u,h+.201*u]).clipExtent([[c-.425*u+Aa,h+.12*u+Aa],[c-.214*u-Aa,h+.234*u-Aa]]).stream(l).point,i=s.translate([c-.205*u,h+.212*u]).clipExtent([[c-.214*u+Aa,h+.166*u+Aa],[c-.115*u-Aa,h+.234*u-Aa]]).stream(l).point,t},t.scale(1070)};var Ns,Os,Bs,Rs,Vs,Us,Fs={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Os=0,Fs.lineStart=qe},polygonEnd:function(){Fs.lineStart=Fs.lineEnd=Fs.point=b,Ns+=pa(Os/2)}},zs={point:Ye,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Hs={point:Ke,lineStart:Xe,lineEnd:Ze,polygonStart:function(){Hs.lineStart=Qe},polygonEnd:function(){Hs.point=Ke,Hs.lineStart=Xe,Hs.lineEnd=Ze}};na.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),na.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,r,i,o,a,s=4.5;return t.area=function(t){return Ns=0,na.geo.stream(t,i(Fs)),Ns},t.centroid=function(t){return Ss=Es=$s=Ts=Cs=ks=Ms=As=Ds=0,na.geo.stream(t,i(Hs)),Ds?[Ms/Ds,As/Ds]:ks?[Ts/ks,Cs/ks]:$s?[Ss/$s,Es/$s]:[NaN,NaN]},t.bounds=function(t){return Vs=Us=-(Bs=Rs=1/0),na.geo.stream(t,i(zs)),[[Bs,Rs],[Vs,Us]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||en(t):_,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new We:new Je(t),"function"!=typeof s&&o.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(na.geo.albersUsa()).context(null)},na.geo.transform=function(t){return{stream:function(e){var n=new nn(e);for(var r in t)n[r]=t[r];return n}}},nn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},na.geo.projection=on,na.geo.projectionMutator=an,(na.geo.equirectangular=function(){return on(ln)}).raw=ln.invert=ln,na.geo.rotation=function(t){function e(e){return e=t(e[0]*Oa,e[1]*Oa),e[0]*=Ba,e[1]*=Ba,e}return t=cn(t[0]%360*Oa,t[1]*Oa,t.length>2?t[2]*Oa:0),e.invert=function(e){return e=t.invert(e[0]*Oa,e[1]*Oa),e[0]*=Ba,e[1]*=Ba,e},e},un.invert=ln,na.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=cn(-t[0]*Oa,-t[1]*Oa,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=Ba,t[1]*=Ba}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=pn((e=+r)*Oa,i*Oa),t):e},t.precision=function(r){return arguments.length?(n=pn(e*Oa,(i=+r)*Oa),t):i},t.angle(90)},na.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Oa,i=t[1]*Oa,o=e[1]*Oa,a=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=u*c-l*h*s)*n),l*c+u*h*s)},na.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return na.range(Math.ceil(o/g)*g,i,g).map(d).concat(na.range(Math.ceil(u/v)*v,l,v).map(f)).concat(na.range(Math.ceil(r/p)*p,n,p).filter(function(t){return pa(t%g)>Aa}).map(c)).concat(na.range(Math.ceil(s/m)*m,a,m).filter(function(t){return pa(t%v)>Aa}).map(h))}var n,r,i,o,a,s,l,u,c,h,d,f,p=10,m=p,g=90,v=360,_=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(f(l).slice(1),d(i).reverse().slice(1),f(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],u=+e[0][1],l=+e[1][1],o>i&&(e=o,o=i,i=e),u>l&&(e=u,u=l,l=e),t.precision(_)):[[o,u],[i,l]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(_)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(g=+e[0],v=+e[1],t):[g,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],m=+e[1],t):[p,m]},t.precision=function(e){return arguments.length?(_=+e,c=gn(s,a,90),h=vn(r,n,_),d=gn(u,l,90),f=vn(o,i,_),t):_},t.majorExtent([[-180,-90+Aa],[180,90-Aa]]).minorExtent([[-180,-80-Aa],[180,80+Aa]])},na.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=_n,i=yn;return t.distance=function(){return na.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},na.geo.interpolate=function(t,e){return wn(t[0]*Oa,t[1]*Oa,e[0]*Oa,e[1]*Oa)},na.geo.length=function(t){return js=0,na.geo.stream(t,qs),js};var js,qs={sphere:b,point:b,lineStart:bn,lineEnd:b,polygonStart:b,polygonEnd:b},Ys=xn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(na.geo.azimuthalEqualArea=function(){return on(Ys)}).raw=Ys;var Ws=xn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},_);(na.geo.azimuthalEquidistant=function(){return on(Ws)}).raw=Ws,(na.geo.conicConformal=function(){return He(Sn)}).raw=Sn,(na.geo.conicEquidistant=function(){return He(En)}).raw=En;var Gs=xn(function(t){return 1/t},Math.atan);(na.geo.gnomonic=function(){return on(Gs)}).raw=Gs,$n.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Na]},(na.geo.mercator=function(){return Tn($n)}).raw=$n;var Ks=xn(function(){return 1},Math.asin);(na.geo.orthographic=function(){return on(Ks)}).raw=Ks;var Xs=xn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(na.geo.stereographic=function(){return on(Xs)}).raw=Xs,Cn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Na]},(na.geo.transverseMercator=function(){var t=Tn(Cn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Cn,na.geom={},na.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=Tt(n),o=Tt(r),a=t.length,s=[],l=[];for(e=0;a>e;e++)s.push([+i.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(Dn),e=0;a>e;e++)l.push([s[e][0],-s[e][1]]);var u=An(s),c=An(l),h=c[0]===u[0],d=c[c.length-1]===u[u.length-1],f=[];for(e=u.length-1;e>=0;--e)f.push(t[s[u[e]][2]]);for(e=+h;e<c.length-d;++e)f.push(t[s[c[e]][2]]);return f}var n=kn,r=Mn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},na.geom.polygon=function(t){return ya(t,Zs),t};var Zs=na.geom.polygon.prototype=[];Zs.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Zs.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},Zs.clip=function(t){for(var e,n,r,i,o,a,s=Ln(t),l=-1,u=this.length-Ln(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,i=this[l],o=e[(r=e.length-s)-1],n=-1;++n<r;)a=e[n],In(a,c,i)?(In(o,c,i)||t.push(Pn(o,a,c,i)),t.push(a)):In(o,c,i)&&t.push(Pn(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var Qs,Js,tl,el,nl,rl=[],il=[];zn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(jn),e.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},er.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=or(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(rr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ir(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ir(this,n),t=n,n=t.U),n.C=!1,r.C=!0,rr(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?or(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,rr(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ir(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,rr(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,ir(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,rr(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ir(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},na.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return ar(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site,c=e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=r&&u.x<=o&&u.y>=i&&u.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Aa)*Aa,y:Math.round(a(t,e)/Aa)*Aa,i:e}})}var r=kn,i=Mn,o=r,a=i,s=ol;return t?e(t):(e.links=function(t){return ar(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return ar(n(t)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(jn),l=-1,u=s.length,c=s[u-1].edge,h=c.l===a?c.r:c.l;++l<u;)i=c,o=h,c=s[l].edge,h=c.l===a?c.r:c.l,r<o.i&&r<h.i&&lr(a,o,h)<0&&e.push([t[r],t[o.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(o=Tt(r=t),e):r},e.y=function(t){return arguments.length?(a=Tt(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?ol:t,e):s===ol?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===ol?null:s&&s[1]},e)};var ol=[[-1e6,-1e6],[1e6,1e6]];na.geom.delaunay=function(t){return na.geom.voronoi().triangles(t)},na.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(pa(l-n)+pa(c-r)<.01)u(t,e,n,r,i,o,a,s);else{var h=t.point;t.x=t.y=t.point=null,u(t,h,l,c,i,o,a,s),u(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else u(t,e,n,r,i,o,a,s)}function u(t,e,n,r,i,a,s,l){var u=.5*(i+s),c=.5*(a+l),h=n>=u,d=r>=c,f=d<<1|h;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]=hr()),h?i=u:s=u,d?a=c:l=c,o(t,e,n,r,i,a,s,l)}var c,h,d,f,p,m,g,v,_,y=Tt(s),w=Tt(l);
if(null!=e)m=e,g=n,v=r,_=i;else if(v=_=-(m=g=1/0),h=[],d=[],p=t.length,a)for(f=0;p>f;++f)c=t[f],c.x<m&&(m=c.x),c.y<g&&(g=c.y),c.x>v&&(v=c.x),c.y>_&&(_=c.y),h.push(c.x),d.push(c.y);else for(f=0;p>f;++f){var b=+y(c=t[f],f),x=+w(c,f);m>b&&(m=b),g>x&&(g=x),b>v&&(v=b),x>_&&(_=x),h.push(b),d.push(x)}var S=v-m,E=_-g;S>E?_=g+S:v=m+E;var $=hr();if($.add=function(t){o($,t,+y(t,++f),+w(t,f),m,g,v,_)},$.visit=function(t){dr(t,$,m,g,v,_)},$.find=function(t){return fr($,t[0],t[1],m,g,v,_)},f=-1,null==e){for(;++f<p;)o($,t[f],h[f],d[f],m,g,v,_);--f}else t.forEach($.add);return h=d=t=c=null,$}var a,s=kn,l=Mn;return(a=arguments.length)?(s=ur,l=cr,3===a&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(l=t,o):l},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},na.interpolateRgb=pr,na.interpolateObject=mr,na.interpolateNumber=gr,na.interpolateString=vr;var al=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sl=new RegExp(al.source,"g");na.interpolate=_r,na.interpolators=[function(t,e){var n=typeof e;return("string"===n?Qa.has(e)||/^(#|rgb\(|hsl\()/.test(e)?pr:vr:e instanceof at?pr:Array.isArray(e)?yr:"object"===n&&isNaN(e)?mr:gr)(t,e)}],na.interpolateArray=yr;var ll=function(){return _},ul=na.map({linear:ll,poly:Tr,quad:function(){return Sr},cubic:function(){return Er},sin:function(){return Cr},exp:function(){return kr},circle:function(){return Mr},elastic:Ar,back:Dr,bounce:function(){return Ir}}),cl=na.map({"in":_,out:br,"in-out":xr,"out-in":function(t){return xr(br(t))}});na.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=ul.get(n)||ll,r=cl.get(r)||_,wr(r(n.apply(null,ra.call(arguments,1))))},na.interpolateHcl=Pr,na.interpolateHsl=Lr,na.interpolateLab=Nr,na.interpolateRound=Or,na.transform=function(t){var e=oa.createElementNS(na.ns.prefix.svg,"g");return(na.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Br(n?n.matrix:hl)})(t)},Br.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var hl={a:1,b:0,c:0,d:1,e:0,f:0};na.interpolateTransform=Fr,na.layout={},na.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(jr(t[n]));return e}},na.layout.chord=function(){function t(){var t,u,h,d,f,p={},m=[],g=na.range(o),v=[];for(n=[],r=[],t=0,d=-1;++d<o;){for(u=0,f=-1;++f<o;)u+=i[d][f];m.push(u),v.push(na.range(o)),t+=u}for(a&&g.sort(function(t,e){return a(m[t],m[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(Pa-c*o)/t,u=0,d=-1;++d<o;){for(h=u,f=-1;++f<o;){var _=g[d],y=v[_][f],w=i[_][y],b=u,x=u+=w*t;p[_+"-"+y]={index:_,subindex:y,startAngle:b,endAngle:x,value:w}}r[_]={index:_,startAngle:h,endAngle:u,value:(u-h)/t},u+=c}for(d=-1;++d<o;)for(f=d-1;++f<o;){var S=p[d+"-"+f],E=p[f+"-"+d];(S.value||E.value)&&n.push(S.value<E.value?{source:E,target:S}:{source:S,target:E})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,u):i},u.padding=function(t){return arguments.length?(c=t,n=r=null,u):c},u.sortGroups=function(t){return arguments.length?(a=t,n=r=null,u):a},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return r||t(),r},u},na.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,l=o*o+a*a;if(l>s*s/g){if(p>l){var u=e.charge/l;t.px-=o*u,t.py-=a*u}return!0}if(e.point&&l&&p>l){var u=e.pointCharge/l;t.px-=o*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=na.event.x,t.py=na.event.y,s.resume()}var n,r,i,o,a,s={},l=na.dispatch("start","tick","end"),u=[1,1],c=.9,h=dl,d=fl,f=-30,p=pl,m=.1,g=.64,v=[],y=[];return s.tick=function(){if((r*=.99)<.005)return l.end({type:"end",alpha:r=0}),!0;var e,n,s,h,d,p,g,_,w,b=v.length,x=y.length;for(n=0;x>n;++n)s=y[n],h=s.source,d=s.target,_=d.x-h.x,w=d.y-h.y,(p=_*_+w*w)&&(p=r*o[n]*((p=Math.sqrt(p))-i[n])/p,_*=p,w*=p,d.x-=_*(g=h.weight/(d.weight+h.weight)),d.y-=w*g,h.x+=_*(g=1-g),h.y+=w*g);if((g=r*m)&&(_=u[0]/2,w=u[1]/2,n=-1,g))for(;++n<b;)s=v[n],s.x+=(_-s.x)*g,s.y+=(w-s.y)*g;if(f)for(Zr(e=na.geom.quadtree(v),r,a),n=-1;++n<b;)(s=v[n]).fixed||e.visit(t(s));for(n=-1;++n<b;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);l.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(u=t,s):u},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(m=+t,s):m},s.theta=function(t){return arguments.length?(g=t*t,s):Math.sqrt(g)},s.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(l.start({type:"start",alpha:r=t}),na.timer(s.tick)),s):r},s.start=function(){function t(t,r){if(!n){for(n=new Array(l),s=0;l>s;++s)n[s]=[];for(s=0;c>s;++s){var i=y[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[e],s=-1,u=a.length;++s<u;)if(!isNaN(o=a[s][t]))return o;return Math.random()*r}var e,n,r,l=v.length,c=y.length,p=u[0],m=u[1];for(e=0;l>e;++e)(r=v[e]).index=e,r.weight=0;for(e=0;c>e;++e)r=y[e],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(e=0;l>e;++e)r=v[e],isNaN(r.x)&&(r.x=t("x",p)),isNaN(r.y)&&(r.y=t("y",m)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof h)for(e=0;c>e;++e)i[e]=+h.call(this,y[e],e);else for(e=0;c>e;++e)i[e]=h;if(o=[],"function"==typeof d)for(e=0;c>e;++e)o[e]=+d.call(this,y[e],e);else for(e=0;c>e;++e)o[e]=d;if(a=[],"function"==typeof f)for(e=0;l>e;++e)a[e]=+f.call(this,v[e],e);else for(e=0;l>e;++e)a[e]=f;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=na.behavior.drag().origin(_).on("dragstart.force",Wr).on("drag.force",e).on("dragend.force",Gr)),arguments.length?void this.on("mouseover.force",Kr).on("mouseout.force",Xr).call(n):n},na.rebind(s,l,"on")};var dl=20,fl=1,pl=1/0;na.layout.hierarchy=function(){function t(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(u=n.call(t,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=u}else r&&(o.value=+r.call(t,o,o.depth)||0),delete o.children;return ti(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)}),s}var e=ri,n=ei,r=ni;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(Jr(e,function(t){t.children&&(t.value=0)}),ti(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},na.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,l,u=-1;for(r=e.value?r/e.value:0;++u<a;)t(s=o[u],n,l=s.value*r,i),n+=l}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=na.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},Qr(n,r)},na.layout.pie=function(){function t(a){var s,l=a.length,u=a.map(function(n,r){return+e.call(t,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),h=("function"==typeof i?i.apply(this,arguments):i)-c,d=Math.min(Math.abs(h)/l,+("function"==typeof o?o.apply(this,arguments):o)),f=d*(0>h?-1:1),p=(h-l*f)/na.sum(u),m=na.range(l),g=[];return null!=n&&m.sort(n===ml?function(t,e){return u[e]-u[t]}:function(t,e){return n(a[t],a[e])}),m.forEach(function(t){g[t]={data:a[t],value:s=u[t],startAngle:c,endAngle:c+=s*p+f,padAngle:d}}),g}var e=Number,n=ml,r=0,i=Pa,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var ml={};na.layout.stack=function(){function t(s,l){if(!(d=s.length))return s;var u=s.map(function(n,r){return e.call(t,n,r)}),c=u.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),h=n.call(t,c,l);u=na.permute(u,h),c=na.permute(c,h);var d,f,p,m,g=r.call(t,c,l),v=u[0].length;for(p=0;v>p;++p)for(i.call(t,u[0][p],m=g[p],c[0][p][1]),f=1;d>f;++f)i.call(t,u[f][p],m+=c[f-1][p][1],c[f][p][1]);return s}var e=_,n=li,r=ui,i=si,o=oi,a=ai;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:gl.get(e)||li,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:vl.get(e)||ui,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var gl=na.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(ci),o=t.map(hi),a=na.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,l=0,u=[],c=[];for(e=0;r>e;++e)n=a[e],l>s?(s+=o[n],u.push(n)):(l+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return na.range(t.length).reverse()},"default":li}),vl=na.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,l=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,r,i,o,a,s,l,u,c=t.length,h=t[0],d=h.length,f=[];for(f[0]=l=u=0,n=1;d>n;++n){for(e=0,i=0;c>e;++e)i+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];c>e;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>r;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}f[n]=l-=i?o/i*s:0,u>l&&(u=l)}for(n=0;d>n;++n)f[n]-=u;return f},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];if(r)for(e=0;i>e;e++)t[e][n][1]/=r;else for(e=0;i>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:ui});na.layout.histogram=function(){function t(t,o){for(var a,s,l=[],u=t.map(n,this),c=r.call(this,u,o),h=i.call(this,c,u,o),o=-1,d=u.length,f=h.length-1,p=e?1:1/d;++o<f;)a=l[o]=[],a.dx=h[o+1]-(a.x=h[o]),a.y=0;if(f>0)for(o=-1;++o<d;)s=u[o],s>=c[0]&&s<=c[1]&&(a=l[na.bisect(h,s,1,f)-1],a.y+=p,a.push(t[o]));return l}var e=!0,n=Number,r=mi,i=fi;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Tt(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return pi(t,e)}:Tt(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},na.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],l=i[0],u=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,ti(s,function(t){t.r=+c(t.value)}),ti(s,wi),r){var h=r*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;ti(s,function(t){t.r+=h}),ti(s,wi),ti(s,function(t){t.r-=h})}return Si(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),a}var e,n=na.layout.hierarchy().sort(gi),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},Qr(t,n)},na.layout.tree=function(){function t(t,i){var c=a.call(this,t,i),h=c[0],d=e(h);if(ti(d,n),d.parent.m=-d.z,Jr(d,r),u)Jr(h,o);else{var f=h,p=h,m=h;Jr(h,function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>m.depth&&(m=t)});var g=s(f,p)/2-f.x,v=l[0]/(p.x+s(p,f)/2+g),_=l[1]/(m.depth||1);Jr(h,function(t){t.x=(t.x+g)*v,t.y=t.depth*_})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;s>a;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Mi(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,o=t,a=e,l=i.parent.children[0],u=i.m,c=o.m,h=a.m,d=l.m;a=Ci(a),i=Ti(i),a&&i;)l=Ti(l),o=Ci(o),o.a=t,r=a.z+h-i.z-u+s(a._,i._),r>0&&(ki(Ai(a,t,n),t,r),u+=r,c+=r),h+=a.m,u+=i.m,d+=l.m,c+=o.m;a&&!Ci(o)&&(o.t=a,o.m+=h-c),i&&!Ti(l)&&(l.t=i,l.m+=u-d,n=t)}return n}function o(t){t.x*=l[0],t.y=t.depth*l[1]}var a=na.layout.hierarchy().sort(null).value(null),s=$i,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?o:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:o,t):u?l:null},Qr(t,a)},na.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),l=s[0],u=0;ti(l,function(t){var e=t.children;e&&e.length?(t.x=Ii(e),t.y=Di(e)):(t.x=a?u+=n(t,a):0,t.y=0,a=t)});var c=Pi(l),h=Li(l),d=c.x-n(c,h)/2,f=h.x+n(h,c)/2;return ti(l,i?function(t){t.x=(t.x-l.x)*r[0],t.y=(l.y-t.y)*r[1]}:function(t){t.x=(t.x-d)/(f-d)*r[0],t.y=(1-(l.y?t.y/l.y:1))*r[1]}),s}var e=na.layout.hierarchy().sort(null).value(null),n=$i,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},Qr(t,e)},na.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var o=n.children;if(o&&o.length){var a,s,l,u=h(n),c=[],d=o.slice(),p=1/0,m="slice"===f?u.dx:"dice"===f?u.dy:"slice-dice"===f?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(d,u.dx*u.dy/n.value),c.area=0;(l=d.length)>0;)c.push(a=d[l-1]),c.area+=a.area,"squarify"!==f||(s=r(c,m))<=p?(d.pop(),p=s):(c.area-=c.pop().area,i(c,m,u,!1),m=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,m,u,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,a=h(e),s=r.slice(),l=[];for(t(s,a.dx*a.dy/e.value),l.area=0;o=s.pop();)l.push(o),l.area+=o.area,null!=o.z&&(i(l,o.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*p/r,r/(e*o*p)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=t[o],i.x=s,i.y=u,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?l(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=t[o],i.x=s,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?l(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=u[0],o.dy=u[1],a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),d&&(a=i),i}var a,s=na.layout.hierarchy(),l=Math.round,u=[1,1],c=null,h=Ni,d=!1,f="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(u=t,o):u},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Ni(e):Oi(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Oi(e,t)}if(!arguments.length)return c;var r;return h=null==(c=t)?Ni:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(l=t?Math.round:Number,o):l!=Number},o.sticky=function(t){return arguments.length?(d=t,a=null,o):d},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(f=t+"",o):f},Qr(o,s)},na.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=na.random.normal.apply(na,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=na.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},na.scale={};var _l={floor:_,ceil:_};na.scale.linear=function(){return Hi([0,1],[0,1],_r,!1)};var yl={s:1,g:1,p:1,r:1,e:1};na.scale.log=function(){return Zi(na.scale.linear().domain([0,1]),10,!0,[1,10])};var wl=na.format(".0e"),bl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};na.scale.pow=function(){return Qi(na.scale.linear(),1,[0,1])},na.scale.sqrt=function(){return na.scale.pow().exponent(.5)},na.scale.ordinal=function(){return to([],{t:"range",a:[[]]})},na.scale.category10=function(){return na.scale.ordinal().range(xl)},na.scale.category20=function(){return na.scale.ordinal().range(Sl)},na.scale.category20b=function(){return na.scale.ordinal().range(El)},na.scale.category20c=function(){return na.scale.ordinal().range($l)};var xl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(yt),Sl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(yt),El=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(yt),$l=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(yt);na.scale.quantile=function(){return eo([],[])},na.scale.quantize=function(){return no(0,1,[0,1])},na.scale.threshold=function(){return ro([.5],[0,1])},na.scale.identity=function(){return io([0,1])},na.svg={},na.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-Na,h=s.apply(this,arguments)-Na,d=Math.abs(h-c),f=c>h?0:1;if(t>u&&(p=u,u=t,t=p),d>=La)return e(u,f)+(t?e(t,1-f):"")+"Z";var p,m,g,v,_,y,w,b,x,S,E,$,T=0,C=0,k=[];if((v=(+l.apply(this,arguments)||0)/2)&&(g=o===Tl?Math.sqrt(t*t+u*u):+o.apply(this,arguments),f||(C*=-1),u&&(C=et(g/u*Math.sin(v))),t&&(T=et(g/t*Math.sin(v)))),u){_=u*Math.cos(c+C),y=u*Math.sin(c+C),w=u*Math.cos(h-C),b=u*Math.sin(h-C);var M=Math.abs(h-c-2*C)<=Ia?0:1;if(C&&ho(_,y,w,b)===f^M){var A=(c+h)/2;_=u*Math.cos(A),y=u*Math.sin(A),w=b=null}}else _=y=0;if(t){x=t*Math.cos(h-T),S=t*Math.sin(h-T),E=t*Math.cos(c+T),$=t*Math.sin(c+T);var D=Math.abs(c-h+2*T)<=Ia?0:1;if(T&&ho(x,S,E,$)===1-f^D){var I=(c+h)/2;x=t*Math.cos(I),S=t*Math.sin(I),E=$=null}}else x=S=0;if((p=Math.min(Math.abs(u-t)/2,+i.apply(this,arguments)))>.001){m=u>t^f?0:1;var P=null==E?[x,S]:null==w?[_,y]:Pn([_,y],[E,$],[w,b],[x,S]),L=_-P[0],N=y-P[1],O=w-P[0],B=b-P[1],R=1/Math.sin(Math.acos((L*O+N*B)/(Math.sqrt(L*L+N*N)*Math.sqrt(O*O+B*B)))/2),V=Math.sqrt(P[0]*P[0]+P[1]*P[1]);if(null!=w){var U=Math.min(p,(u-V)/(R+1)),F=fo(null==E?[x,S]:[E,$],[_,y],u,U,f),z=fo([w,b],[x,S],u,U,f);p===U?k.push("M",F[0],"A",U,",",U," 0 0,",m," ",F[1],"A",u,",",u," 0 ",1-f^ho(F[1][0],F[1][1],z[1][0],z[1][1]),",",f," ",z[1],"A",U,",",U," 0 0,",m," ",z[0]):k.push("M",F[0],"A",U,",",U," 0 1,",m," ",z[0])}else k.push("M",_,",",y);if(null!=E){var H=Math.min(p,(t-V)/(R-1)),j=fo([_,y],[E,$],t,-H,f),q=fo([x,S],null==w?[_,y]:[w,b],t,-H,f);p===H?k.push("L",q[0],"A",H,",",H," 0 0,",m," ",q[1],"A",t,",",t," 0 ",f^ho(q[1][0],q[1][1],j[1][0],j[1][1]),",",1-f," ",j[1],"A",H,",",H," 0 0,",m," ",j[0]):k.push("L",q[0],"A",H,",",H," 0 0,",m," ",j[0])}else k.push("L",x,",",S)}else k.push("M",_,",",y),null!=w&&k.push("A",u,",",u," 0 ",M,",",f," ",w,",",b),k.push("L",x,",",S),null!=E&&k.push("A",t,",",t," 0 ",D,",",1-f," ",E,",",$);return k.push("Z"),k.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=ao,r=so,i=oo,o=Tl,a=lo,s=uo,l=co;return t.innerRadius=function(e){return arguments.length?(n=Tt(e),t):n},t.outerRadius=function(e){return arguments.length?(r=Tt(e),t):r},t.cornerRadius=function(e){return arguments.length?(i=Tt(e),t):i},t.padRadius=function(e){return arguments.length?(o=e==Tl?Tl:Tt(e),t):o},t.startAngle=function(e){return arguments.length?(a=Tt(e),t):a},t.endAngle=function(e){return arguments.length?(s=Tt(e),t):s},t.padAngle=function(e){return arguments.length?(l=Tt(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Na;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Tl="auto";na.svg.line=function(){return po(_)};var Cl=na.map({linear:mo,"linear-closed":go,step:vo,"step-before":_o,"step-after":yo,basis:$o,"basis-open":To,"basis-closed":Co,bundle:ko,cardinal:xo,"cardinal-open":wo,"cardinal-closed":bo,monotone:Lo});Cl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var kl=[0,2/3,1/3,0],Ml=[0,1/3,2/3,0],Al=[0,1/6,2/3,1/6];na.svg.line.radial=function(){var t=po(No);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},_o.reverse=yo,yo.reverse=_o,na.svg.area=function(){return Oo(_)},na.svg.area.radial=function(){var t=Oo(No);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},na.svg.chord=function(){function t(t,s){var l=e(this,o,t,s),u=e(this,a,t,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,u)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,u.r,u.p0)+r(u.r,u.p1,u.a1-u.a0)+i(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=l.call(t,i,r)-Na,c=u.call(t,i,r)-Na;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ia)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=_n,a=yn,s=Bo,l=lo,u=uo;return t.radius=function(e){return arguments.length?(s=Tt(e),t):s},t.source=function(e){return arguments.length?(o=Tt(e),t):o},t.target=function(e){return arguments.length?(a=Tt(e),t):a},t.startAngle=function(e){return arguments.length?(l=Tt(e),t):l},t.endAngle=function(e){return arguments.length?(u=Tt(e),t):u},t},na.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=_n,n=yn,r=Ro;return t.source=function(n){return arguments.length?(e=Tt(n),t):e},t.target=function(e){return arguments.length?(n=Tt(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},na.svg.diagonal.radial=function(){var t=na.svg.diagonal(),e=Ro,n=t.projection;return t.projection=function(t){return arguments.length?n(Vo(e=t)):e},t},na.svg.symbol=function(){function t(t,r){return(Dl.get(e.call(this,t,r))||zo)(n.call(this,t,r))}var e=Fo,n=Uo;return t.type=function(n){return arguments.length?(e=Tt(n),t):e},t.size=function(e){return arguments.length?(n=Tt(e),t):n},t};var Dl=na.map({circle:zo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Pl)),n=e*Pl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Il),n=e*Il/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Il),n=e*Il/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});na.svg.symbolTypes=Dl.keys();var Il=Math.sqrt(3),Pl=Math.tan(30*Oa);Sa.transition=function(t){for(var e,n,r=Ll||++Rl,i=Wo(t),o=[],a=Nl||{time:Date.now(),ease:$r,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(n=u[c])&&Go(n,c,i,r,a),e.push(n)}return jo(o,i,r)},Sa.interrupt=function(t){return this.each(null==t?Ol:Ho(Wo(t)))};var Ll,Nl,Ol=Ho(Wo()),Bl=[],Rl=0;Bl.call=Sa.call,Bl.empty=Sa.empty,Bl.node=Sa.node,Bl.size=Sa.size,na.transition=function(t,e){return t&&t.transition?Ll?t.transition(e):t:na.selection().transition(t)},na.transition.prototype=Bl,Bl.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=k(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(r=u[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Go(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return jo(a,o,i)},Bl.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,l=[];t=M(t);for(var u=-1,c=this.length;++u<c;)for(var h=this[u],d=-1,f=h.length;++d<f;)if(r=h[d]){o=r[s][a],n=t.call(r,r.__data__,d,u),l.push(e=[]);for(var p=-1,m=n.length;++p<m;)(i=n[p])&&Go(i,p,s,a,o),e.push(i)}return jo(l,s,a)},Bl.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=F(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]);for(var n=this[o],s=0,l=n.length;l>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return jo(i,this.namespace,this.id)},Bl.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):H(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Bl.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Fr:_r,s=na.ns.qualify(t);return qo(this,"attr."+t,e,s.local?o:i)},Bl.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=na.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Bl.style=function(t,n,r){function i(){this.style.removeProperty(t)}function o(n){return null==n?i:(n+="",function(){var i,o=e(this).getComputedStyle(this,null).getPropertyValue(t);return o!==n&&(i=_r(o,n),function(e){this.style.setProperty(t,i(e),r)})})}var a=arguments.length;if(3>a){if("string"!=typeof t){2>a&&(n="");for(r in t)this.style(r,t[r],n);return this}r=""}return qo(this,"style."+t,n,o)},Bl.styleTween=function(t,n,r){function i(i,o){var a=n.call(this,i,o,e(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),r)}}return arguments.length<3&&(r=""),this.tween("style."+t,i)},Bl.text=function(t){return qo(this,"text",t,Yo)},Bl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Bl.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=na.ease.apply(na,arguments)),H(this,function(r){r[n][e].ease=t}))},Bl.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:H(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},Bl.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:H(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Bl.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Nl,o=Ll;try{Ll=n,H(this,function(e,i,o){Nl=e[r][n],t.call(e,e.__data__,i,o)})}finally{Nl=i,Ll=o}}else H(this,function(i){var o=i[r][n];(o.event||(o.event=na.dispatch("start","end","interrupt"))).on(t,e)});return this},Bl.transition=function(){for(var t,e,n,r,i=this.id,o=++Rl,a=this.namespace,s=[],l=0,u=this.length;u>l;l++){s.push(t=[]);for(var e=this[l],c=0,h=e.length;h>c;c++)(n=e[c])&&(r=n[a][i],Go(n,c,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return jo(s,a,o)},na.svg.axis=function(){function t(t){t.each(function(){var t,u=na.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),d=null==l?h.ticks?h.ticks.apply(h,s):h.domain():l,f=null==e?h.tickFormat?h.tickFormat.apply(h,s):_:e,p=u.selectAll(".tick").data(d,h),m=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Aa),g=na.transition(p.exit()).style("opacity",Aa).remove(),v=na.transition(p.order()).style("opacity",1),y=Math.max(i,0)+a,w=Ri(h),b=u.selectAll(".domain").data([0]),x=(b.enter().append("path").attr("class","domain"),na.transition(b));m.append("line"),m.append("text");var S,E,$,T,C=m.select("line"),k=v.select("line"),M=p.select("text").text(f),A=m.select("text"),D=v.select("text"),I="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=Ko,S="x",$="y",E="x2",T="y2",M.attr("dy",0>I?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+w[0]+","+I*o+"V0H"+w[1]+"V"+I*o)):(t=Xo,S="y",$="x",E="y2",T="x2",M.attr("dy",".32em").style("text-anchor",0>I?"end":"start"),x.attr("d","M"+I*o+","+w[0]+"H0V"+w[1]+"H"+I*o)),C.attr(T,I*i),A.attr($,I*y),k.attr(E,0).attr(T,I*i),D.attr(S,0).attr($,I*y),h.rangeBand){var P=h,L=P.rangeBand()/2;c=h=function(t){return P(t)+L}}else c.rangeBand?c=h:g.call(t,h,c);m.call(t,c,h),v.call(t,h,h)})}var e,n=na.scale.linear(),r=Vl,i=6,o=6,a=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Ul?e+"":Vl,t):r},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,o=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Vl="bottom",Ul={top:1,right:1,bottom:1,left:1};na.svg.brush=function(){function t(e){e.each(function(){var e=na.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=e.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(m,_);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Fl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null;
}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,h=na.transition(e),d=na.transition(a);u&&(l=Ri(u),d.attr("x",l[0]).attr("width",l[1]-l[0]),r(h)),c&&(l=Ri(c),d.attr("y",l[0]).attr("height",l[1]-l[0]),i(h)),n(h)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function r(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function i(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function o(){function o(){32==na.event.keyCode&&(M||(y=null,D[0]-=h[1],D[1]-=d[1],M=2),E())}function m(){32==na.event.keyCode&&2==M&&(D[0]+=h[1],D[1]+=d[1],M=0,E())}function g(){var t=na.mouse(b),e=!1;w&&(t[0]+=w[0],t[1]+=w[1]),M||(na.event.altKey?(y||(y=[(h[0]+h[1])/2,(d[0]+d[1])/2]),D[0]=h[+(t[0]<y[0])],D[1]=d[+(t[1]<y[1])]):y=null),C&&v(t,u,0)&&(r($),e=!0),k&&v(t,c,1)&&(i($),e=!0),e&&(n($),S({type:"brush",mode:M?"move":"resize"}))}function v(t,e,n){var r,i,o=Ri(e),l=o[0],u=o[1],c=D[n],m=n?d:h,g=m[1]-m[0];return M&&(l-=c,u-=g+c),r=(n?p:f)?Math.max(l,Math.min(u,t[n])):t[n],M?i=(r+=c)+g:(y&&(c=Math.max(l,Math.min(u,2*y[n]-r))),r>c?(i=r,r=c):i=c),m[0]!=r||m[1]!=i?(n?s=null:a=null,m[0]=r,m[1]=i,!0):void 0}function _(){g(),$.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),na.select("body").style("cursor",null),I.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),S({type:"brushend"})}var y,w,b=this,x=na.select(na.event.target),S=l.of(b,arguments),$=na.select(b),T=x.datum(),C=!/^(n|s)$/.test(T)&&u,k=!/^(e|w)$/.test(T)&&c,M=x.classed("extent"),A=K(b),D=na.mouse(b),I=na.select(e(b)).on("keydown.brush",o).on("keyup.brush",m);if(na.event.changedTouches?I.on("touchmove.brush",g).on("touchend.brush",_):I.on("mousemove.brush",g).on("mouseup.brush",_),$.interrupt().selectAll("*").interrupt(),M)D[0]=h[0]-D[0],D[1]=d[0]-D[1];else if(T){var P=+/w$/.test(T),L=+/^n/.test(T);w=[h[1-P]-D[0],d[1-L]-D[1]],D[0]=h[P],D[1]=d[L]}else na.event.altKey&&(y=D.slice());$.style("pointer-events","none").selectAll(".resize").style("display",null),na.select("body").style("cursor",x.style("cursor")),S({type:"brushstart"}),g()}var a,s,l=T(t,"brushstart","brush","brushend"),u=null,c=null,h=[0,0],d=[0,0],f=!0,p=!0,m=zl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:h,y:d,i:a,j:s},n=this.__chart__||e;this.__chart__=e,Ll?na.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,h=n.x,d=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=yr(h,e.x),r=yr(d,e.y);return a=s=null,function(i){h=e.x=n(i),d=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,m=zl[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,m=zl[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(f=!!e[0],p=!!e[1]):u?f=!!e:c&&(p=!!e),t):u&&c?[f,p]:u?f:c?p:null},t.extent=function(e){var n,r,i,o,l;return arguments.length?(u&&(n=e[0],r=e[1],c&&(n=n[0],r=r[0]),a=[n,r],u.invert&&(n=u(n),r=u(r)),n>r&&(l=n,n=r,r=l),(n!=h[0]||r!=h[1])&&(h=[n,r])),c&&(i=e[0],o=e[1],u&&(i=i[1],o=o[1]),s=[i,o],c.invert&&(i=c(i),o=c(o)),i>o&&(l=i,i=o,o=l),(i!=d[0]||o!=d[1])&&(d=[i,o])),t):(u&&(a?(n=a[0],r=a[1]):(n=h[0],r=h[1],u.invert&&(n=u.invert(n),r=u.invert(r)),n>r&&(l=n,n=r,r=l))),c&&(s?(i=s[0],o=s[1]):(i=d[0],o=d[1],c.invert&&(i=c.invert(i),o=c.invert(o)),i>o&&(l=i,i=o,o=l))),u&&c?[[n,i],[r,o]]:u?[n,r]:c&&[i,o])},t.clear=function(){return t.empty()||(h=[0,0],d=[0,0],a=s=null),t},t.empty=function(){return!!u&&h[0]==h[1]||!!c&&d[0]==d[1]},na.rebind(t,l,"on")};var Fl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},zl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Hl=ls.format=ps.timeFormat,jl=Hl.utc,ql=jl("%Y-%m-%dT%H:%M:%S.%LZ");Hl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Zo:ql,Zo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Zo.toString=ql.toString,ls.second=Vt(function(t){return new us(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ls.seconds=ls.second.range,ls.seconds.utc=ls.second.utc.range,ls.minute=Vt(function(t){return new us(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ls.minutes=ls.minute.range,ls.minutes.utc=ls.minute.utc.range,ls.hour=Vt(function(t){var e=t.getTimezoneOffset()/60;return new us(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ls.hours=ls.hour.range,ls.hours.utc=ls.hour.utc.range,ls.month=Vt(function(t){return t=ls.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ls.months=ls.month.range,ls.months.utc=ls.month.utc.range;var Yl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Wl=[[ls.second,1],[ls.second,5],[ls.second,15],[ls.second,30],[ls.minute,1],[ls.minute,5],[ls.minute,15],[ls.minute,30],[ls.hour,1],[ls.hour,3],[ls.hour,6],[ls.hour,12],[ls.day,1],[ls.day,2],[ls.week,1],[ls.month,1],[ls.month,3],[ls.year,1]],Gl=Hl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",ke]]),Kl={range:function(t,e,n){return na.range(Math.ceil(t/n)*n,+e,n).map(Jo)},floor:_,ceil:_};Wl.year=ls.year,ls.scale=function(){return Qo(na.scale.linear(),Wl,Gl)};var Xl=Wl.map(function(t){return[t[0].utc,t[1]]}),Zl=jl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",ke]]);Xl.year=ls.year.utc,ls.scale.utc=function(){return Qo(na.scale.linear(),Xl,Zl)},na.text=Ct(function(t){return t.responseText}),na.json=function(t,e){return kt(t,"application/json",ta,e)},na.html=function(t,e){return kt(t,"text/html",ea,e)},na.xml=Ct(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(na):"object"==typeof module&&module.exports&&(module.exports=na),this.d3=na}(),function(t,e){"function"==typeof define&&define.amd?define(["d3"],e):"object"==typeof module&&module.exports?module.exports=function(t){return t.tip=e(t),t.tip}:t.d3.tip=e(t.d3)}(this,function(t){return function(){function e(t){b=p(t),x=b.createSVGPoint(),document.body.appendChild(w)}function n(){return"n"}function r(){return[0,0]}function i(){return" "}function o(){var t=g();return{top:t.n.y-w.offsetHeight,left:t.n.x-w.offsetWidth/2}}function a(){var t=g();return{top:t.s.y,left:t.s.x-w.offsetWidth/2}}function s(){var t=g();return{top:t.e.y-w.offsetHeight/2,left:t.e.x}}function l(){var t=g();return{top:t.w.y-w.offsetHeight/2,left:t.w.x-w.offsetWidth}}function u(){var t=g();return{top:t.nw.y-w.offsetHeight,left:t.nw.x-w.offsetWidth}}function c(){var t=g();return{top:t.ne.y-w.offsetHeight,left:t.ne.x}}function h(){var t=g();return{top:t.sw.y,left:t.sw.x-w.offsetWidth}}function d(){var t=g();return{top:t.se.y,left:t.e.x}}function f(){var e=t.select(document.createElement("div"));return e.style({position:"absolute",top:0,opacity:0,"pointer-events":"none","box-sizing":"border-box"}),e.node()}function p(t){return t=t.node(),"svg"===t.tagName.toLowerCase()?t:t.ownerSVGElement}function m(){return null===w&&(w=f(),document.body.appendChild(w)),t.select(w)}function g(){for(var e=S||t.event.target;"undefined"==typeof e.getScreenCTM&&"undefined"===e.parentNode;)e=e.parentNode;var n={},r=e.getScreenCTM(),i=e.getBBox(),o=i.width,a=i.height,s=i.x,l=i.y;return x.x=s,x.y=l,n.nw=x.matrixTransform(r),x.x+=o,n.ne=x.matrixTransform(r),x.y+=a,n.se=x.matrixTransform(r),x.x-=o,n.sw=x.matrixTransform(r),x.y-=a/2,n.w=x.matrixTransform(r),x.x+=o,n.e=x.matrixTransform(r),x.x-=o/2,x.y-=a/2,n.n=x.matrixTransform(r),x.y+=a,n.s=x.matrixTransform(r),n}var v=n,_=r,y=i,w=f(),b=null,x=null,S=null;e.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(S=t.pop());var n,r=y.apply(this,t),i=_.apply(this,t),o=v.apply(this,t),a=m(),s=$.length,l=document.documentElement.scrollTop||document.body.scrollTop,u=document.documentElement.scrollLeft||document.body.scrollLeft;for(a.html(r).style({opacity:1,"pointer-events":"all"});s--;)a.classed($[s],!1);return n=E.get(o).apply(this),a.classed(o,!0).style({top:n.top+i[0]+l+"px",left:n.left+i[1]+u+"px"}),e},e.hide=function(){var t=m();return t.style({opacity:0,"pointer-events":"none"}),e},e.attr=function(n,r){if(arguments.length<2&&"string"==typeof n)return m().attr(n);var i=Array.prototype.slice.call(arguments);return t.selection.prototype.attr.apply(m(),i),e},e.style=function(n,r){if(arguments.length<2&&"string"==typeof n)return m().style(n);var i=Array.prototype.slice.call(arguments);return t.selection.prototype.style.apply(m(),i),e},e.direction=function(n){return arguments.length?(v=null==n?n:t.functor(n),e):v},e.offset=function(n){return arguments.length?(_=null==n?n:t.functor(n),e):_},e.html=function(n){return arguments.length?(y=null==n?n:t.functor(n),e):y},e.destroy=function(){return w&&(m().remove(),w=null),e};var E=t.map({n:o,s:a,e:s,w:l,nw:u,ne:c,sw:h,se:d}),$=E.keys();return e}}),function(t,e){if("object"==typeof exports)module.exports=e(require,exports,module);else if("function"==typeof define&&define.amd)define(["require","exports","module"],e);else{var n=function(e){return t[e]},r=t,i={exports:r};t.Plottable=e(n,r,i)}}(this,function(t,e,n){var r;!function(t){var e;!function(e){var n;!function(e){function n(t,e,n){return h.min(e,n)<=t&&t<=h.max(e,n)}function r(t,e,n){return h.min(h.max(e,t),n)}function i(t,e,n){var r="function"==typeof e?e:null,i=null==r?e:n,o=null==r?d3.max(t):d3.max(t,r);return void 0!==o?o:i}function o(t,e,n){var r="function"==typeof e?e:null,i=null==r?e:n,o=null==r?d3.min(t):d3.min(t,r);return void 0!==o?o:i}function a(t){return t!==t}function s(e){return"number"==typeof e&&!t.Utils.Math.isNaN(e)&&isFinite(e)}function l(t,e,n){if(void 0===n&&(n=1),0===n)throw new Error("step cannot be 0");for(var r=h.max(h.ceil((e-t)/n),0),i=[],o=0;r>o;++o)i[o]=t+n*o;return i}function u(t,e){return h.pow(e.y-t.y,2)+h.pow(e.x-t.x,2)}function c(t){return t/360*h.PI*2}var h=window.Math;e.inRange=n,e.clamp=r,e.max=i,e.min=o,e.isNaN=a,e.isValidNumber=s,e.range=l,e.distanceSquared=u,e.degreesToRadians=c}(n=e.Math||(e.Math={}))}(e=t.Utils||(t.Utils={}))}(r||(r={}));var r;!function(t){var e;!function(t){var e=function(){function e(){"function"==typeof window.Map?this._es6Map=new window.Map:this._keyValuePairs=[]}return e.prototype.set=function(e,n){if(t.Math.isNaN(e))throw new Error("NaN may not be used as a key to the Map");if(null!=this._es6Map)return this._es6Map.set(e,n),this;for(var r=0;r<this._keyValuePairs.length;r++)if(this._keyValuePairs[r].key===e)return this._keyValuePairs[r].value=n,this;return this._keyValuePairs.push({key:e,value:n}),this},e.prototype.get=function(t){if(null!=this._es6Map)return this._es6Map.get(t);for(var e=0;e<this._keyValuePairs.length;e++)if(this._keyValuePairs[e].key===t)return this._keyValuePairs[e].value},e.prototype.has=function(t){if(null!=this._es6Map)return this._es6Map.has(t);for(var e=0;e<this._keyValuePairs.length;e++)if(this._keyValuePairs[e].key===t)return!0;return!1},e.prototype.forEach=function(t,e){var n=this;if(null!=this._es6Map){var r=function(r,i){return t.call(e,r,i,n)};return void this._es6Map.forEach(r,e)}this._keyValuePairs.forEach(function(r){t.call(e,r.value,r.key,n)})},e.prototype["delete"]=function(t){if(null!=this._es6Map)return this._es6Map["delete"](t);for(var e=0;e<this._keyValuePairs.length;e++)if(this._keyValuePairs[e].key===t)return this._keyValuePairs.splice(e,1),!0;return!1},e}();t.Map=e}(e=t.Utils||(t.Utils={}))}(r||(r={}));var r;!function(t){var e;!function(t){var e=function(){function t(){"function"==typeof window.Set?this._es6Set=new window.Set:this._values=[],this.size=0}return t.prototype.add=function(t){return null!=this._es6Set?(this._es6Set.add(t),this.size=this._es6Set.size,this):(this.has(t)||(this._values.push(t),this.size=this._values.length),this)},t.prototype["delete"]=function(t){if(null!=this._es6Set){var e=this._es6Set["delete"](t);return this.size=this._es6Set.size,e}var n=this._values.indexOf(t);return-1!==n?(this._values.splice(n,1),this.size=this._values.length,!0):!1},t.prototype.has=function(t){return null!=this._es6Set?this._es6Set.has(t):-1!==this._values.indexOf(t)},t.prototype.forEach=function(t,e){var n=this;if(null!=this._es6Set){var r=function(r,i){return t.call(e,r,i,n)};return void this._es6Set.forEach(r,e)}this._values.forEach(function(r){t.call(e,r,r,n)})},t}();t.Set=e}(e=t.Utils||(t.Utils={}))}(r||(r={}));var r;!function(t){var e;!function(t){var e;!function(t){function e(t){var e;try{e=t.node().getBBox()}catch(n){e={x:0,y:0,width:0,height:0}}return e}function n(e){null!=window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,t.SCREEN_REFRESH_RATE_MILLISECONDS)}function r(t){var e=window.getComputedStyle(t);return d(e,"width")+d(e,"padding-left")+d(e,"padding-right")+d(e,"border-left-width")+d(e,"border-right-width")}function i(t){var e=window.getComputedStyle(t);return d(e,"height")+d(e,"padding-top")+d(e,"padding-bottom")+d(e,"border-top-width")+d(e,"border-bottom-width")}function o(t,e,n){var r=d3.transform(t.attr("transform"));return null==e?r.translate:(n=null==n?0:n,r.translate[0]=e,r.translate[1]=n,t.attr("transform",r.toString()),t)}function a(t,e){return f.floor(t.right)<=f.ceil(e.left)?!1:f.ceil(t.left)>=f.floor(e.right)?!1:f.floor(t.bottom)<=f.ceil(e.top)?!1:f.ceil(t.top)>=f.floor(e.bottom)?!1:!0}function s(t,e){return f.floor(e.left)<=f.ceil(t.left)&&f.floor(e.top)<=f.ceil(t.top)&&f.floor(t.right)<=f.ceil(e.right)&&f.floor(t.bottom)<=f.ceil(e.bottom)}function l(t){var e=t.ownerSVGElement;return null!=e?e:"svg"===t.nodeName.toLowerCase()?t:null}function u(){return"plottableClipPath"+ ++p}function c(t,e,n,r){void 0===r&&(r=.5);var i=h(t),o=h(e);return n.x+n.width>=i.min-r&&n.x<=i.max+r&&n.y+n.height>=o.min-r&&n.y<=o.max+r}function h(t){if("number"==typeof t){var e=t;return{min:e,max:e}}var n=t;if(n instanceof Object&&"min"in n&&"max"in n)return n;throw new Error("input '"+t+"' can't be parsed as an Range")}function d(t,e){var n=t.getPropertyValue(e),r=parseFloat(n);return r||0}var f=window.Math;t.elementBBox=e,t.SCREEN_REFRESH_RATE_MILLISECONDS=1e3/60,t.requestAnimationFramePolyfill=n,t.elementWidth=r,t.elementHeight=i,t.translate=o,t.clientRectsOverlap=a,t.clientRectInside=s,t.boundingSVG=l;var p=0;t.generateUniqueClipPathId=u,t.intersectsBBox=c}(e=t.DOM||(t.DOM={}))}(e=t.Utils||(t.Utils={}))}(r||(r={}));var r;!function(t){var e;!function(t){var e;!function(t){function e(t,e){var n=i(t)+.05,r=i(e)+.05;return n>r?n/r:r/n}function n(t,e){var n=d3.hsl(t).brighter(e);return n.rgb().toString()}function r(t,e){t.classed(e,!0);var n=t.style("background-color");if("transparent"===n)return null;var r=/\((.+)\)/.exec(n)[1].split(",").map(function(t){var e=+t,n=e.toString(16);return 16>e?"0"+n:n});if(4===r.length&&"00"===r[3])return null;var i="#"+r.join("");return t.classed(e,!1),i}function i(t){var e=d3.rgb(t),n=function(t){return t/=255,.03928>=t?t/12.92:o.pow((t+.055)/1.055,2.4)},r=n(e.r),i=n(e.g),a=n(e.b);return.2126*r+.7152*i+.0722*a}var o=window.Math;t.contrast=e,t.lightenColor=n,t.colorTest=r}(e=t.Color||(t.Color={}))}(e=t.Utils||(t.Utils={}))}(r||(r={}));var r;!function(t){var e;!function(t){var e;!function(t){function e(t,e){if(t.length!==e.length)throw new Error("attempted to add arrays of unequal length");return t.map(function(n,r){return t[r]+e[r]})}function n(t){var e=d3.set(),n=[];return t.forEach(function(t){e.has(String(t))||(e.add(String(t)),n.push(t))}),n}function r(t){return o.prototype.concat.apply([],t)}function i(t,e){for(var n=[],r=0;e>r;r++)n[r]="function"==typeof t?t(r):t;return n}var o=window.Array;t.add=e,t.uniq=n,t.flatten=r,t.createFilledArray=i}(e=t.Array||(t.Array={}))}(e=t.Utils||(t.Utils={}))}(r||(r={}));var r,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};!function(t){var e;!function(t){var e=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.callCallbacks=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return this.forEach(function(n){n.apply(t,e)}),this},e}(t.Set);t.CallbackSet=e}(e=t.Utils||(t.Utils={}))}(r||(r={}));var r;!function(t){var e;!function(t){var e;!function(e){function n(e,n,r){var o=d3.map(),a=d3.map(),s=new t.Map;return e.forEach(function(e){var l=new t.Map;e.data().forEach(function(t,s){var u,c=i(n(t,s,e)),h=+r(t,s,e),d=h>=0?o:a;d.has(c)?(u=d.get(c),d.set(c,u+h)):(u=0,d.set(c,h)),l.set(c,{value:h,offset:u})}),s.set(e,l)}),s}function r(e,n,r){var a=[];e.forEach(function(t,e){e.data().forEach(function(o,s){if(null==r||r(o,s,e)){var l=t.get(i(n(o,s,e)));a.push(l.value+l.offset)}})});var s=t.Math.max(a,0),l=t.Math.min(a,0);return[o.min(l,0),o.max(0,s)]}function i(t){return String(t)}var o=window.Math;e.stack=n,e.stackedExtent=r,e.normalizeKey=i}(e=t.Stacking||(t.Stacking={}))}(e=t.Utils||(t.Utils={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n;!function(n){function r(e){t.Configs.SHOW_WARNINGS&&null!=window.console&&(null!=window.console.warn?console.warn(e):null!=window.console.log&&console.log(e))}function i(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return 0===e?(t(n),-1):window.setTimeout(t,e,n)}function o(t,n,r){void 0===r&&(r=""),e.Window.warn("Method "+t+" has been deprecated in version "+n+". Please refer to the release notes. "+r)}n.warn=r,n.setTimeout=i,n.deprecated=o}(n=e.Window||(e.Window={}))}(e=t.Utils||(t.Utils={}))}(r||(r={}));var r;!function(t){var e;!function(t){var e=function(){function e(t){this._svg=t,this._measureRect=document.createElementNS(t.namespaceURI,"rect"),this._measureRect.setAttribute("class","measure-rect"),this._measureRect.setAttribute("style","opacity: 0; visibility: hidden;"),this._measureRect.setAttribute("width","1"),this._measureRect.setAttribute("height","1"),this._svg.appendChild(this._measureRect)}return e.getTranslator=function(n){var r=t.DOM.boundingSVG(n),i=r[e._TRANSLATOR_KEY];return null==i&&(i=new e(r),r[e._TRANSLATOR_KEY]=i),i},e.prototype.computePosition=function(t,e){this._measureRect.setAttribute("x","0"),this._measureRect.setAttribute("y","0");var n=this._measureRect.getBoundingClientRect(),r={x:n.left,y:n.top},i=100;this._measureRect.setAttribute("x",String(i)),this._measureRect.setAttribute("y",String(i)),n=this._measureRect.getBoundingClientRect();var o={x:n.left,y:n.top};if(r.x===o.x||r.y===o.y)return null;var a=(o.x-r.x)/i,s=(o.y-r.y)/i;this._measureRect.setAttribute("x",String((t-r.x)/a)),this._measureRect.setAttribute("y",String((e-r.y)/s)),n=this._measureRect.getBoundingClientRect();var l={x:n.left,y:n.top},u={x:(l.x-r.x)/a,y:(l.y-r.y)/s};return u},e.prototype.insideSVG=function(e){return t.DOM.boundingSVG(e.target)===this._svg},e._TRANSLATOR_KEY="__Plottable_ClientToSVGTranslator",e}();t.ClientToSVGTranslator=e}(e=t.Utils||(t.Utils={}))}(r||(r={}));var r;!function(t){var e;!function(t){t.SHOW_WARNINGS=!0,t.ADD_TITLE_ELEMENTS=!0}(e=t.Configs||(t.Configs={}))}(r||(r={}));var r;!function(t){t.version="2.0.0"}(r||(r={}));var r;!function(t){var e=function(){function e(e,n){void 0===e&&(e=[]),void 0===n&&(n={}),this._data=e,this._metadata=n,this._callbacks=new t.Utils.CallbackSet}return e.prototype.onUpdate=function(t){return this._callbacks.add(t),this},e.prototype.offUpdate=function(t){return this._callbacks["delete"](t),this},e.prototype.data=function(t){return null==t?this._data:(this._data=t,this._callbacks.callCallbacks(this),this)},e.prototype.metadata=function(t){return null==t?this._metadata:(this._metadata=t,this._callbacks.callCallbacks(this),this)},e}();t.Dataset=e}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(){function e(){}return e.prototype.render=function(){t.RenderController.flush()},e}();e.Immediate=n;var r=function(){function e(){}return e.prototype.render=function(){t.Utils.DOM.requestAnimationFramePolyfill(t.RenderController.flush)},e}();e.AnimationFrame=r;var i=function(){function e(){this._timeoutMsec=t.Utils.DOM.SCREEN_REFRESH_RATE_MILLISECONDS}return e.prototype.render=function(){setTimeout(t.RenderController.flush,this._timeoutMsec)},e}();e.Timeout=i}(e=t.RenderPolicies||(t.RenderPolicies={}))}(r||(r={}));var r;!function(t){var e;!function(e){function n(e){if(null==e)return d;switch(e.toLowerCase()){case s.IMMEDIATE:d=new t.RenderPolicies.Immediate;break;case s.ANIMATION_FRAME:d=new t.RenderPolicies.AnimationFrame;break;case s.TIMEOUT:d=new t.RenderPolicies.Timeout;break;default:t.Utils.Window.warn("Unrecognized renderPolicy: "+e)}}function r(e){h&&t.Utils.Window.warn("Registered to render while other components are flushing: request may be ignored"),l.add(e),o()}function i(t){u.add(t),l.add(t),o()}function o(){c||(c=!0,d.render())}function a(){if(c){u.forEach(function(t){return t.computeLayout()}),l.forEach(function(t){return t.render()}),h=!0;var e=new t.Utils.Set;l.forEach(function(t){try{t.renderImmediately()}catch(n){window.setTimeout(function(){throw n},0),e.add(t)}}),u=new t.Utils.Set,l=e,c=!1,h=!1}}var s,l=new t.Utils.Set,u=new t.Utils.Set,c=!1,h=!1;!function(t){t.IMMEDIATE="immediate",t.ANIMATION_FRAME="animationframe",t.TIMEOUT="timeout"}(s=e.Policy||(e.Policy={}));var d=new t.RenderPolicies.AnimationFrame;e.renderPolicy=n,e.registerToRender=r,e.registerToComputeLayout=i,e.flush=a}(e=t.RenderController||(t.RenderController={}))}(r||(r={}));var r;!function(t){var e;!function(t){function e(e,n,r){void 0===e&&(e=2),void 0===n&&(n="$"),void 0===r&&(r=!0);var i=t.fixed(e);return function(t){var e=i(Math.abs(t));return""!==e&&(r?e=n+e:e+=n,0>t&&(e="-"+e)),e}}function n(t){return void 0===t&&(t=3),c(t),function(e){return e.toFixed(t)}}function r(t){return void 0===t&&(t=3),c(t),function(e){if("number"==typeof e){var n=Math.pow(10,t);return String(Math.round(e*n)/n)}return String(e)}}function i(){return function(t){return String(t)}}function o(e){void 0===e&&(e=0);var n=t.fixed(e);return function(t){var e=100*t,r=t.toString(),i=Math.pow(10,r.length-(r.indexOf(".")+1));return e=parseInt((e*i).toString(),10)/i,n(e)+"%"}}function a(t){return void 0===t&&(t=3),c(t),function(e){return d3.format("."+t+"s")(e)}}function s(t){void 0===t&&(t=3),c(t);var e="KMBTQ",n=d3.format("."+t+"e"),r=d3.format("."+t+"f"),i=Math.pow(10,3*(e.length+1)),o=Math.pow(10,-t);return function(t){var a=Math.abs(t);if((o>a||a>=i)&&0!==a)return n(t);for(var s=-1;a>=Math.pow(1e3,s+2)&&s<e.length-1;)s++;var l="";return l=-1===s?r(t):r(t/Math.pow(1e3,s+1))+e[s],(t>0&&"1000"===l.substr(0,4)||0>t&&"-1000"===l.substr(0,5))&&(s<e.length-1?(s++,l=r(t/Math.pow(1e3,s+1))+e[s]):l=n(t)),l}}function l(){var t=8,e={};return e[0]={format:".%L",filter:function(t){return 0!==t.getMilliseconds()}},e[1]={format:":%S",filter:function(t){return 0!==t.getSeconds()}},e[2]={format:"%I:%M",filter:function(t){return 0!==t.getMinutes()}},e[3]={format:"%I %p",filter:function(t){return 0!==t.getHours()}},e[4]={format:"%a %d",filter:function(t){return 0!==t.getDay()&&1!==t.getDate()}},e[5]={format:"%b %d",filter:function(t){return 1!==t.getDate()}},e[6]={format:"%b",filter:function(t){return 0!==t.getMonth()}},e[7]={format:"%Y",filter:function(){return!0}},function(n){for(var r=0;t>r;r++)if(e[r].filter(n))return d3.time.format(e[r].format)(n)}}function u(t){return d3.time.format(t)}function c(t){if(0>t||t>20)throw new RangeError("Formatter precision must be between 0 and 20");if(t!==Math.floor(t))throw new RangeError("Formatter precision must be an integer")}t.currency=e,t.fixed=n,t.general=r,t.identity=i,t.percentage=o,t.siSuffix=a,t.shortScale=s,t.multiTime=l,t.time=u}(e=t.Formatters||(t.Formatters={}))}(r||(r={}));var r;!function(t){var e;!function(t){function e(){return function(t){return d3.svg.symbol().type("circle").size(Math.PI*Math.pow(t/2,2))(null)}}function n(){return function(t){return d3.svg.symbol().type("square").size(Math.pow(t,2))(null)}}function r(){return function(t){return d3.svg.symbol().type("cross").size(5/9*Math.pow(t,2))(null)}}function i(){return function(t){return d3.svg.symbol().type("diamond").size(Math.tan(Math.PI/6)*Math.pow(t,2)/2)(null)}}function o(){return function(t){return d3.svg.symbol().type("triangle-up").size(Math.sqrt(3)*Math.pow(t/2,2))(null)}}function a(){return function(t){return d3.svg.symbol().type("triangle-down").size(Math.sqrt(3)*Math.pow(t/2,2))(null)}}t.circle=e,t.square=n,t.cross=r,t.diamond=i,t.triangleUp=o,t.triangleDown=a}(e=t.SymbolFactories||(t.SymbolFactories={}))}(r||(r={}));var r;!function(t){var e=function(){function e(){this._autoDomainAutomatically=!0,this._domainModificationInProgress=!1,this._callbacks=new t.Utils.CallbackSet,this._includedValuesProviders=new t.Utils.Set}return e.prototype.extentOfValues=function(t){return[]},e.prototype._getAllIncludedValues=function(){var t=this,e=[];return this._includedValuesProviders.forEach(function(n){var r=n(t);e=e.concat(r)}),e},e.prototype._getExtent=function(){return[]},e.prototype.onUpdate=function(t){return this._callbacks.add(t),this},e.prototype.offUpdate=function(t){return this._callbacks["delete"](t),this},e.prototype._dispatchUpdate=function(){this._callbacks.callCallbacks(this)},e.prototype.autoDomain=function(){return this._autoDomainAutomatically=!0,this._setDomain(this._getExtent()),this},e.prototype._autoDomainIfAutomaticMode=function(){this._autoDomainAutomatically&&this.autoDomain()},e.prototype.scale=function(t){throw new Error("Subclasses should override scale")},e.prototype.domain=function(t){return null==t?this._getDomain():(this._autoDomainAutomatically=!1,this._setDomain(t),this)},e.prototype._getDomain=function(){throw new Error("Subclasses should override _getDomain")},e.prototype._setDomain=function(t){this._domainModificationInProgress||(this._domainModificationInProgress=!0,this._setBackingScaleDomain(t),this._dispatchUpdate(),this._domainModificationInProgress=!1)},e.prototype._setBackingScaleDomain=function(t){throw new Error("Subclasses should override _setBackingDomain")},e.prototype.range=function(t){return null==t?this._getRange():(this._setRange(t),this)},e.prototype._getRange=function(){throw new Error("Subclasses should override _getRange")},e.prototype._setRange=function(t){throw new Error("Subclasses should override _setRange")},e.prototype.addIncludedValuesProvider=function(t){return this._includedValuesProviders.add(t),this._autoDomainIfAutomaticMode(),this},e.prototype.removeIncludedValuesProvider=function(t){return this._includedValuesProviders["delete"](t),this._autoDomainIfAutomaticMode(),this},e}();t.Scale=e}(r||(r={}));var r;!function(t){var e=function(e){function n(){e.call(this),this._tickGenerator=function(t){return t.defaultTicks()},this._padProportion=.05,this._snappingDomainEnabled=!0,this._paddingExceptionsProviders=new t.Utils.Set}return i(n,e),n.prototype.autoDomain=function(){return this._domainMin=null,this._domainMax=null,e.prototype.autoDomain.call(this),this},n.prototype._autoDomainIfAutomaticMode=function(){if(null!=this._domainMin&&null!=this._domainMax)return void this._setDomain([this._domainMin,this._domainMax]);var t=this._getExtent();if(null!=this._domainMin){var n=t[1];return this._domainMin>=n&&(n=this._expandSingleValueDomain([this._domainMin,this._domainMin])[1]),void this._setDomain([this._domainMin,n])}if(null!=this._domainMax){var r=t[0];return this._domainMax<=r&&(r=this._expandSingleValueDomain([this._domainMax,this._domainMax])[0]),void this._setDomain([r,this._domainMax])}e.prototype._autoDomainIfAutomaticMode.call(this)},n.prototype._getExtent=function(){var e=this._getAllIncludedValues(),n=this._defaultExtent();if(0!==e.length){var r=[t.Utils.Math.min(e,n[0]),t.Utils.Math.max(e,n[1])];n=this._padDomain(r)}return null!=this._domainMin&&(n[0]=this._domainMin),null!=this._domainMax&&(n[1]=this._domainMax),n},n.prototype.addPaddingExceptionsProvider=function(t){return this._paddingExceptionsProviders.add(t),this._autoDomainIfAutomaticMode(),this},n.prototype.removePaddingExceptionsProvider=function(t){return this._paddingExceptionsProviders["delete"](t),this._autoDomainIfAutomaticMode(),this},n.prototype.padProportion=function(t){if(null==t)return this._padProportion;if(0>t)throw new Error("padProportion must be non-negative");return this._padProportion=t,this._autoDomainIfAutomaticMode(),this},n.prototype._padDomain=function(t){var e=this;if(t[0].valueOf()===t[1].valueOf())return this._expandSingleValueDomain(t);if(0===this._padProportion)return t;var n=this._padProportion/2,r=t[0],i=t[1],o=!1,a=!1;this._paddingExceptionsProviders.forEach(function(t){var n=t(e);n.forEach(function(t){t.valueOf()===r.valueOf()&&(o=!0),t.valueOf()===i.valueOf()&&(a=!0)})});var s=this._getDomain();this._setBackingScaleDomain(t);var l=o?r:this.invert(this.scale(r)-(this.scale(i)-this.scale(r))*n),u=a?i:this.invert(this.scale(i)+(this.scale(i)-this.scale(r))*n);return this._setBackingScaleDomain(s),this._snappingDomainEnabled?this._niceDomain([l,u]):[l,u]},n.prototype.snappingDomainEnabled=function(t){return null==t?this._snappingDomainEnabled:(this._snappingDomainEnabled=t,this._autoDomainIfAutomaticMode(),this)},n.prototype._expandSingleValueDomain=function(t){return t},n.prototype.invert=function(t){throw new Error("Subclasses should override invert")},n.prototype.domain=function(t){return null!=t&&(this._domainMin=t[0],this._domainMax=t[1]),e.prototype.domain.call(this,t)},n.prototype.domainMin=function(t){return null==t?this.domain()[0]:(this._domainMin=t,this._autoDomainIfAutomaticMode(),this)},n.prototype.domainMax=function(t){return null==t?this.domain()[1]:(this._domainMax=t,this._autoDomainIfAutomaticMode(),this)},n.prototype.extentOfValues=function(e){var n=d3.extent(e.filter(function(e){return t.Utils.Math.isValidNumber(+e)}));return null==n[0]||null==n[1]?[]:n},n.prototype._setDomain=function(n){var r=function(e){return t.Utils.Math.isNaN(e)||e===1/0||e===-(1/0)};return r(n[0])||r(n[1])?void t.Utils.Window.warn("Warning: QuantitativeScales cannot take NaN or Infinity as a domain value. Ignoring."):void e.prototype._setDomain.call(this,n)},n.prototype.defaultTicks=function(){throw new Error("Subclasses should override _getDefaultTicks")},n.prototype.ticks=function(){return this._tickGenerator(this)},n.prototype._niceDomain=function(t,e){throw new Error("Subclasses should override _niceDomain")},n.prototype._defaultExtent=function(){throw new Error("Subclasses should override _defaultExtent")},n.prototype.tickGenerator=function(t){return null==t?this._tickGenerator:(this._tickGenerator=t,this)},n._DEFAULT_NUM_TICKS=10,n}(t.Scale);t.QuantitativeScale=e}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(t){function n(){t.call(this),this._d3Scale=d3.scale.linear()}return i(n,t),n.prototype._defaultExtent=function(){
return[0,1]},n.prototype._expandSingleValueDomain=function(t){return t[0]===t[1]?[t[0]-1,t[1]+1]:t},n.prototype.scale=function(t){return this._d3Scale(t)},n.prototype._getDomain=function(){return this._d3Scale.domain()},n.prototype._setBackingScaleDomain=function(t){this._d3Scale.domain(t)},n.prototype._getRange=function(){return this._d3Scale.range()},n.prototype._setRange=function(t){this._d3Scale.range(t)},n.prototype.invert=function(t){return this._d3Scale.invert(t)},n.prototype.defaultTicks=function(){return this._d3Scale.ticks(e.Linear._DEFAULT_NUM_TICKS)},n.prototype._niceDomain=function(t,e){return this._d3Scale.copy().domain(t).nice(e).domain()},n}(t.QuantitativeScale);e.Linear=n}(e=t.Scales||(t.Scales={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(n){function r(t){if(void 0===t&&(t=10),n.call(this),this._d3Scale=d3.scale.linear(),this._base=t,this._pivot=this._base,this._setDomain(this._defaultExtent()),1>=t)throw new Error("ModifiedLogScale: The base must be > 1")}return i(r,n),r.prototype._adjustedLog=function(t){var e=0>t?-1:1;return t*=e,t<this._pivot&&(t+=(this._pivot-t)/this._pivot),t=Math.log(t)/Math.log(this._base),t*=e},r.prototype._invertedAdjustedLog=function(t){var e=0>t?-1:1;return t*=e,t=Math.pow(this._base,t),t<this._pivot&&(t=this._pivot*(t-1)/(this._pivot-1)),t*=e},r.prototype.scale=function(t){return this._d3Scale(this._adjustedLog(t))},r.prototype.invert=function(t){return this._invertedAdjustedLog(this._d3Scale.invert(t))},r.prototype._getDomain=function(){return this._untransformedDomain},r.prototype._setDomain=function(t){this._untransformedDomain=t;var e=[this._adjustedLog(t[0]),this._adjustedLog(t[1])];n.prototype._setDomain.call(this,e)},r.prototype._setBackingScaleDomain=function(t){this._d3Scale.domain(t)},r.prototype.ticks=function(){var n=function(t,e,n){return[t,e,n].sort(function(t,e){return t-e})[1]},r=t.Utils.Math.min(this._untransformedDomain,0),i=t.Utils.Math.max(this._untransformedDomain,0),o=r,a=n(r,i,-this._pivot),s=n(r,i,this._pivot),l=i,u=this._logTicks(-a,-o).map(function(t){return-t}).reverse(),c=this._logTicks(s,l),h=Math.max(r,-this._pivot),d=Math.min(i,this._pivot),f=d3.scale.linear().domain([h,d]).ticks(this._howManyTicks(h,d)),p=u.concat(f).concat(c);return p.length<=1&&(p=d3.scale.linear().domain([r,i]).ticks(e.ModifiedLog._DEFAULT_NUM_TICKS)),p},r.prototype._logTicks=function(e,n){var r=this,i=this._howManyTicks(e,n);if(0===i)return[];var o=Math.floor(Math.log(e)/Math.log(this._base)),a=Math.ceil(Math.log(n)/Math.log(this._base)),s=d3.range(a,o,-Math.ceil((a-o)/i)),l=d3.range(this._base,1,-(this._base-1)).map(Math.floor),u=t.Utils.Array.uniq(l),c=s.map(function(t){return u.map(function(e){return Math.pow(r._base,t-1)*e})}),h=t.Utils.Array.flatten(c),d=h.filter(function(t){return t>=e&&n>=t}),f=d.sort(function(t,e){return t-e});return f},r.prototype._howManyTicks=function(n,r){var i=this._adjustedLog(t.Utils.Math.min(this._untransformedDomain,0)),o=this._adjustedLog(t.Utils.Math.max(this._untransformedDomain,0)),a=this._adjustedLog(n),s=this._adjustedLog(r),l=(s-a)/(o-i),u=Math.ceil(l*e.ModifiedLog._DEFAULT_NUM_TICKS);return u},r.prototype._niceDomain=function(t,e){return t},r.prototype._defaultExtent=function(){return[0,this._base]},r.prototype._expandSingleValueDomain=function(t){if(t[0]===t[1]){var e=t[0];return e>0?[e/this._base,e*this._base]:0===e?[-this._base,this._base]:[e*this._base,e/this._base]}return t},r.prototype._getRange=function(){return this._d3Scale.range()},r.prototype._setRange=function(t){this._d3Scale.range(t)},r.prototype.defaultTicks=function(){return this._d3Scale.ticks(e.ModifiedLog._DEFAULT_NUM_TICKS)},r}(t.QuantitativeScale);e.ModifiedLog=n}(e=t.Scales||(t.Scales={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(){e.call(this),this._range=[0,1],this._d3Scale=d3.scale.ordinal();var t=.3;this._innerPadding=n._convertToPlottableInnerPadding(t),this._outerPadding=n._convertToPlottableOuterPadding(.5,t)}return i(n,e),n.prototype.extentOfValues=function(e){return t.Utils.Array.uniq(e)},n.prototype._getExtent=function(){return t.Utils.Array.uniq(this._getAllIncludedValues())},n.prototype.domain=function(t){return e.prototype.domain.call(this,t)},n.prototype._setDomain=function(t){e.prototype._setDomain.call(this,t),this.range(this.range())},n.prototype.range=function(t){if(null==t)return this._range;this._range=t;var e=1-1/(1+this.innerPadding()),n=this.outerPadding()/(1+this.innerPadding());return this._d3Scale.rangeBands(t,e,n),this},n._convertToPlottableInnerPadding=function(t){return 1/(1-t)-1},n._convertToPlottableOuterPadding=function(t,e){return t/(1-e)},n.prototype.rangeBand=function(){return this._d3Scale.rangeBand()},n.prototype.stepWidth=function(){return this.rangeBand()*(1+this.innerPadding())},n.prototype.innerPadding=function(t){return null==t?this._innerPadding:(this._innerPadding=t,this.range(this.range()),this._dispatchUpdate(),this)},n.prototype.outerPadding=function(t){return null==t?this._outerPadding:(this._outerPadding=t,this.range(this.range()),this._dispatchUpdate(),this)},n.prototype.scale=function(t){return this._d3Scale(t)+this.rangeBand()/2},n.prototype._getDomain=function(){return this._d3Scale.domain()},n.prototype._setBackingScaleDomain=function(t){this._d3Scale.domain(t)},n.prototype._getRange=function(){return this._d3Scale.range()},n.prototype._setRange=function(t){this._d3Scale.range(t)},n}(t.Scale);e.Category=n}(e=t.Scales||(t.Scales={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(t){e.call(this);var r;switch(t){case null:case void 0:null==n._plottableColorCache&&(n._plottableColorCache=n._getPlottableColors()),r=d3.scale.ordinal().range(n._plottableColorCache);break;case"Category10":case"category10":case"10":r=d3.scale.category10();break;case"Category20":case"category20":case"20":r=d3.scale.category20();break;case"Category20b":case"category20b":case"20b":r=d3.scale.category20b();break;case"Category20c":case"category20c":case"20c":r=d3.scale.category20c();break;default:throw new Error("Unsupported ColorScale type")}this._d3Scale=r}return i(n,e),n.prototype.extentOfValues=function(e){return t.Utils.Array.uniq(e)},n.prototype._getExtent=function(){return t.Utils.Array.uniq(this._getAllIncludedValues())},n.invalidateColorCache=function(){n._plottableColorCache=null},n._getPlottableColors=function(){for(var e,n=[],r=d3.select("body").append("plottable-color-tester"),i=t.Utils.Color.colorTest(r,""),o=0;null!==(e=t.Utils.Color.colorTest(r,"plottable-colors-"+o))&&o<this._MAXIMUM_COLORS_FROM_CSS&&(e!==i||e!==n[n.length-1]);)n.push(e),o++;return r.remove(),n},n.prototype.scale=function(e){var r=this._d3Scale(e),i=this.domain().indexOf(e),o=Math.floor(i/this.range().length),a=Math.log(o*n._LOOP_LIGHTEN_FACTOR+1);return t.Utils.Color.lightenColor(r,a)},n.prototype._getDomain=function(){return this._d3Scale.domain()},n.prototype._setBackingScaleDomain=function(t){this._d3Scale.domain(t)},n.prototype._getRange=function(){return this._d3Scale.range()},n.prototype._setRange=function(t){this._d3Scale.range(t)},n._LOOP_LIGHTEN_FACTOR=1.6,n._MAXIMUM_COLORS_FROM_CSS=256,n}(t.Scale);e.Color=n}(e=t.Scales||(t.Scales={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(n){function r(){n.call(this),this._d3Scale=d3.time.scale(),this.autoDomain()}return i(r,n),r.prototype.tickInterval=function(t,e){var n=d3.time.scale(),i=r.timeIntervalToD3Time(t);return n.domain(this.domain()),n.range(this.range()),n.ticks(i,e)},r.prototype._setDomain=function(t){if(t[1]<t[0])throw new Error("Scale.Time domain values must be in chronological order");return n.prototype._setDomain.call(this,t)},r.prototype._defaultExtent=function(){return[new Date("1970-01-01"),new Date("1970-01-02")]},r.prototype._expandSingleValueDomain=function(t){var e=t[0].getTime(),n=t[1].getTime();if(e===n){var r=new Date(e);r.setDate(r.getDate()-1);var i=new Date(n);return i.setDate(i.getDate()+1),[r,i]}return t},r.prototype.scale=function(t){return this._d3Scale(t)},r.prototype._getDomain=function(){return this._d3Scale.domain()},r.prototype._setBackingScaleDomain=function(t){this._d3Scale.domain(t)},r.prototype._getRange=function(){return this._d3Scale.range()},r.prototype._setRange=function(t){this._d3Scale.range(t)},r.prototype.invert=function(t){return this._d3Scale.invert(t)},r.prototype.defaultTicks=function(){return this._d3Scale.ticks(e.Time._DEFAULT_NUM_TICKS)},r.prototype._niceDomain=function(t){return this._d3Scale.copy().domain(t).nice().domain()},r.timeIntervalToD3Time=function(e){switch(e){case t.TimeInterval.second:return d3.time.second;case t.TimeInterval.minute:return d3.time.minute;case t.TimeInterval.hour:return d3.time.hour;case t.TimeInterval.day:return d3.time.day;case t.TimeInterval.week:return d3.time.week;case t.TimeInterval.month:return d3.time.month;case t.TimeInterval.year:return d3.time.year;default:throw Error("TimeInterval specified does not exist: "+e)}},r}(t.QuantitativeScale);e.Time=n}(e=t.Scales||(t.Scales={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(t){switch(void 0===t&&(t="linear"),e.call(this),t){case"linear":this._colorScale=d3.scale.linear();break;case"log":this._colorScale=d3.scale.log();break;case"sqrt":this._colorScale=d3.scale.sqrt();break;case"pow":this._colorScale=d3.scale.pow()}if(null==this._colorScale)throw new Error("unknown QuantitativeScale scale type "+t);this.range(n.REDS)}return i(n,e),n.prototype.extentOfValues=function(t){var e=d3.extent(t);return null==e[0]||null==e[1]?[]:e},n.prototype._d3InterpolatedScale=function(){return this._colorScale.range([0,1]).interpolate(this._interpolateColors())},n.prototype._interpolateColors=function(){var t=this._colorRange;if(t.length<2)throw new Error("Color scale arrays must have at least two elements.");return function(e,n){return function(e){e=Math.max(0,Math.min(1,e));var n=e*(t.length-1),r=Math.floor(n),i=Math.ceil(n),o=n-r;return d3.interpolateLab(t[r],t[i])(o)}}},n.prototype._resetScale=function(){this._d3Scale=this._d3InterpolatedScale(),this._autoDomainIfAutomaticMode(),this._dispatchUpdate()},n.prototype.autoDomain=function(){var e=this._getAllIncludedValues();return e.length>0&&this._setDomain([t.Utils.Math.min(e,0),t.Utils.Math.max(e,0)]),this},n.prototype.scale=function(t){return this._d3Scale(t)},n.prototype._getDomain=function(){return this._d3Scale.domain()},n.prototype._setBackingScaleDomain=function(t){this._d3Scale.domain(t)},n.prototype._getRange=function(){return this._colorRange},n.prototype._setRange=function(t){this._colorRange=t,this._resetScale()},n.REDS=["#FFFFFF","#FFF6E1","#FEF4C0","#FED976","#FEB24C","#FD8D3C","#FC4E2A","#E31A1C","#B10026"],n.BLUES=["#FFFFFF","#CCFFFF","#A5FFFD","#85F7FB","#6ED3EF","#55A7E0","#417FD0","#2545D3","#0B02E1"],n.POSNEG=["#0B02E1","#2545D3","#417FD0","#55A7E0","#6ED3EF","#85F7FB","#A5FFFD","#CCFFFF","#FFFFFF","#FFF6E1","#FEF4C0","#FED976","#FEB24C","#FD8D3C","#FC4E2A","#E31A1C","#B10026"],n}(t.Scale);e.InterpolatedColor=n}(e=t.Scales||(t.Scales={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n;!function(e){function n(e){if(0>=e)throw new Error("interval must be positive number");return function(n){var r=n.domain(),i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]),a=Math.ceil(i/e)*e,s=Math.floor((o-a)/e)+1,l=i%e===0?[]:[i],u=t.Utils.Math.range(0,s).map(function(t){return a+t*e}),c=o%e===0?[]:[o];return l.concat(u).concat(c)}}function r(){return function(t){var e=t.defaultTicks();return e.filter(function(t,n){return t%1===0||0===n||n===e.length-1})}}e.intervalTickGenerator=n,e.integerTickGenerator=r}(n=e.TickGenerators||(e.TickGenerators={}))}(e=t.Scales||(t.Scales={}))}(r||(r={}));var r;!function(t){var e=function(){function e(t){this._cachedSelectionValid=!1,this._dataset=t}return e.prototype.renderArea=function(t){return null==t?this._renderArea:(this._renderArea=t,this._cachedSelectionValid=!1,this)},e.prototype.remove=function(){null!=this.renderArea()&&this.renderArea().remove()},e.prototype._bindSelectionData=function(t){var e=this.selection().data(t);e.enter().append(this._svgElementName),e.exit().remove(),this._applyDefaultAttributes(e)},e.prototype._applyDefaultAttributes=function(t){null!=this._className&&t.classed(this._className,!0)},e.prototype._drawStep=function(t){var e=this.selection(),n=["fill","stroke"];n.forEach(function(n){null!=t.attrToAppliedProjector[n]&&e.attr(n,t.attrToAppliedProjector[n])}),t.animator.animate(e,t.attrToAppliedProjector),null!=this._className&&this.selection().classed(this._className,!0)},e.prototype._appliedProjectors=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=function(n,i){return t[r](n,i,e._dataset)}}),n},e.prototype.totalDrawTime=function(t,e){var n=0;return e.forEach(function(e,r){n+=e.animator.totalTime(t.length)}),n},e.prototype.draw=function(e,n){var r=this,i=n.map(function(t){var e=r._appliedProjectors(t.attrToProjector);return{attrToAppliedProjector:e,animator:t.animator}});this._bindSelectionData(e),this._cachedSelectionValid=!1;var o=0;return i.forEach(function(n,i){t.Utils.Window.setTimeout(function(){return r._drawStep(n)},o),o+=n.animator.totalTime(e.length)}),this},e.prototype.selection=function(){return this._cachedSelectionValid||(this._cachedSelection=this.renderArea().selectAll(this.selector()),this._cachedSelectionValid=!0),this._cachedSelection},e.prototype.selector=function(){return this._svgElementName},e.prototype.selectionForIndex=function(t){return d3.select(this.selection()[0][t])},e}();t.Drawer=e}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(t){function e(e){t.call(this,e),this._className="line",this._svgElementName="path"}return i(e,t),e.prototype._applyDefaultAttributes=function(e){t.prototype._applyDefaultAttributes.call(this,e),e.style("fill","none")},e.prototype.selectionForIndex=function(t){return d3.select(this.selection()[0][0])},e}(t.Drawer);e.Line=n}(e=t.Drawers||(t.Drawers={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(t){function e(e){t.call(this,e),this._className="area",this._svgElementName="path"}return i(e,t),e.prototype._applyDefaultAttributes=function(e){t.prototype._applyDefaultAttributes.call(this,e),e.style("stroke","none")},e.prototype.selectionForIndex=function(t){return d3.select(this.selection()[0][0])},e}(t.Drawer);e.Area=n}(e=t.Drawers||(t.Drawers={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(t){function e(e){t.call(this,e),this._svgElementName="rect"}return i(e,t),e}(t.Drawer);e.Rectangle=n}(e=t.Drawers||(t.Drawers={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(t){function e(e){t.call(this,e),this._className="arc fill",this._svgElementName="path"}return i(e,t),e.prototype._applyDefaultAttributes=function(e){t.prototype._applyDefaultAttributes.call(this,e),e.style("stroke","none")},e}(t.Drawer);e.Arc=n}(e=t.Drawers||(t.Drawers={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(t){function e(e){t.call(this,e),this._className="arc outline",this._svgElementName="path"}return i(e,t),e.prototype._applyDefaultAttributes=function(e){t.prototype._applyDefaultAttributes.call(this,e),e.style("fill","none")},e}(t.Drawer);e.ArcOutline=n}(e=t.Drawers||(t.Drawers={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(t){function e(e){t.call(this,e),this._svgElementName="path",this._className="symbol"}return i(e,t),e}(t.Drawer);e.Symbol=n}(e=t.Drawers||(t.Drawers={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(t){function e(e){t.call(this,e),this._svgElementName="line"}return i(e,t),e}(t.Drawer);e.Segment=n}(e=t.Drawers||(t.Drawers={}))}(r||(r={}));var r;!function(t){var e;!function(t){var e=function(){function t(){}return t.TOP="top",t.BOTTOM="bottom",t.LEFT="left",t.RIGHT="right",t.CENTER="center",t}();t.Alignment=e}(e=t.Components||(t.Components={}));var n=function(){function e(){this._clipPathEnabled=!1,this._origin={x:0,y:0},this._xAlignment="left",this._yAlignment="top",this._isSetup=!1,this._isAnchored=!1,this._boxes=[],this._isTopLevelComponent=!1,this._cssClasses=new t.Utils.Set,this._destroyed=!1,this._onAnchorCallbacks=new t.Utils.CallbackSet,this._onDetachCallbacks=new t.Utils.CallbackSet,this._cssClasses.add("component")}return e.prototype.anchor=function(t){if(this._destroyed)throw new Error("Can't reuse destroy()-ed Components!");if(this._isTopLevelComponent="svg"===t.node().nodeName.toLowerCase(),this._isTopLevelComponent){this._rootSVG=t,this._rootSVG.classed("plottable",!0),this._rootSVG.style("overflow","visible");var n=this._rootSVG.select("."+e._SAFARI_EVENT_BACKING_CLASS);n.empty()&&this._rootSVG.append("rect").classed(e._SAFARI_EVENT_BACKING_CLASS,!0).attr({x:0,y:0,width:"100%",height:"100%"}).style("opacity",0)}return null!=this._element?t.node().appendChild(this._element.node()):(this._element=t.append("g"),this._setup()),this._isAnchored=!0,this._onAnchorCallbacks.callCallbacks(this),this},e.prototype.onAnchor=function(t){return this._isAnchored&&t(this),this._onAnchorCallbacks.add(t),this},e.prototype.offAnchor=function(t){return this._onAnchorCallbacks["delete"](t),this},e.prototype._setup=function(){var e=this;this._isSetup||(this._cssClasses.forEach(function(t){e._element.classed(t,!0)}),this._cssClasses=new t.Utils.Set,this._backgroundContainer=this._element.append("g").classed("background-container",!0),this._addBox("background-fill",this._backgroundContainer),this._content=this._element.append("g").classed("content",!0),this._foregroundContainer=this._element.append("g").classed("foreground-container",!0),this._boxContainer=this._element.append("g").classed("box-container",!0),this._clipPathEnabled&&this._generateClipPath(),this._boundingBox=this._addBox("bounding-box"),this._isSetup=!0)},e.prototype.requestedSpace=function(t,e){return{minWidth:0,minHeight:0}},e.prototype.computeLayout=function(n,r,i){var o=this;if(null==n||null==r||null==i){if(null==this._element)throw new Error("anchor() must be called before computeLayout()");if(!this._isTopLevelComponent)throw new Error("null arguments cannot be passed to computeLayout() on a non-root node");n={x:0,y:0},null==this._rootSVG.attr("width")&&this._rootSVG.attr("width","100%"),null==this._rootSVG.attr("height")&&this._rootSVG.attr("height","100%");var a=this._rootSVG.node();r=t.Utils.DOM.elementWidth(a),i=t.Utils.DOM.elementHeight(a)}var s=this._sizeFromOffer(r,i);this._width=s.width,this._height=s.height;var l=e._xAlignToProportion[this._xAlignment],u=e._yAlignToProportion[this._yAlignment];return this._origin={x:n.x+(r-this.width())*l,y:n.y+(i-this.height())*u},this._element.attr("transform","translate("+this._origin.x+","+this._origin.y+")"),this._boxes.forEach(function(t){return t.attr("width",o.width()).attr("height",o.height())}),this},e.prototype._sizeFromOffer=function(t,e){var n=this.requestedSpace(t,e);return{width:this.fixedWidth()?Math.min(t,n.minWidth):t,height:this.fixedHeight()?Math.min(e,n.minHeight):e}},e.prototype.render=function(){return this._isAnchored&&this._isSetup&&this.width()>=0&&this.height()>=0&&t.RenderController.registerToRender(this),this},e.prototype._scheduleComputeLayout=function(){this._isAnchored&&this._isSetup&&t.RenderController.registerToComputeLayout(this)},e.prototype.renderImmediately=function(){return this._clipPathEnabled&&this._updateClipPath(),this},e.prototype.redraw=function(){return this._isAnchored&&this._isSetup&&(this._isTopLevelComponent?this._scheduleComputeLayout():this.parent().redraw()),this},e.prototype.renderTo=function(e){if(this.detach(),null!=e){var n;if(n="string"==typeof e?d3.select(e):e instanceof Element?d3.select(e):e,!n.node()||"svg"!==n.node().nodeName.toLowerCase())throw new Error("Plottable requires a valid SVG to renderTo");this.anchor(n)}if(null==this._element)throw new Error("If a Component has never been rendered before, then renderTo must be given a node to render to, or a d3.Selection, or a selector string");return this.computeLayout(),this.render(),t.RenderController.flush(),this},e.prototype.xAlignment=function(t){if(null==t)return this._xAlignment;if(t=t.toLowerCase(),null==e._xAlignToProportion[t])throw new Error("Unsupported alignment: "+t);return this._xAlignment=t,this.redraw(),this},e.prototype.yAlignment=function(t){if(null==t)return this._yAlignment;if(t=t.toLowerCase(),null==e._yAlignToProportion[t])throw new Error("Unsupported alignment: "+t);return this._yAlignment=t,this.redraw(),this},e.prototype._addBox=function(t,e){if(null==this._element)throw new Error("Adding boxes before anchoring is currently disallowed");e=null==e?this._boxContainer:e;var n=e.append("rect");return null!=t&&n.classed(t,!0),this._boxes.push(n),null!=this.width()&&null!=this.height()&&n.attr("width",this.width()).attr("height",this.height()),n},e.prototype._generateClipPath=function(){this._clipPathID=t.Utils.DOM.generateUniqueClipPathId();var e=this._boxContainer.append("clipPath").attr("id",this._clipPathID);this._addBox("clip-rect",e),this._updateClipPath()},e.prototype._updateClipPath=function(){var t=/MSIE [5-9]/.test(navigator.userAgent)?"":document.location.href;t=t.split("#")[0],this._element.attr("clip-path",'url("'+t+"#"+this._clipPathID+'")')},e.prototype.hasClass=function(t){return null==t?!1:null==this._element?this._cssClasses.has(t):this._element.classed(t)},e.prototype.addClass=function(t){return null==t?this:(null==this._element?this._cssClasses.add(t):this._element.classed(t,!0),this)},e.prototype.removeClass=function(t){return null==t?this:(null==this._element?this._cssClasses["delete"](t):this._element.classed(t,!1),this)},e.prototype.fixedWidth=function(){return!1},e.prototype.fixedHeight=function(){return!1},e.prototype.detach=function(){return this.parent(null),this._isAnchored&&(this._element.remove(),this._isTopLevelComponent&&this._rootSVG.select("."+e._SAFARI_EVENT_BACKING_CLASS).remove()),this._isAnchored=!1,this._onDetachCallbacks.callCallbacks(this),this},e.prototype.onDetach=function(t){return this._onDetachCallbacks.add(t),this},e.prototype.offDetach=function(t){return this._onDetachCallbacks["delete"](t),this},e.prototype.parent=function(t){if(void 0===t)return this._parent;if(null!==t&&!t.has(this))throw new Error("Passed invalid parent");return this._parent=t,this},e.prototype.destroy=function(){this._destroyed=!0,this.detach()},e.prototype.width=function(){return this._width},e.prototype.height=function(){return this._height},e.prototype.origin=function(){return{x:this._origin.x,y:this._origin.y}},e.prototype.originToSVG=function(){for(var t=this.origin(),e=this.parent();null!=e;){var n=e.origin();t.x+=n.x,t.y+=n.y,e=e.parent()}return t},e.prototype.foreground=function(){return this._foregroundContainer},e.prototype.content=function(){return this._content},e.prototype.background=function(){return this._backgroundContainer},e._xAlignToProportion={left:0,center:.5,right:1},e._yAlignToProportion={top:0,center:.5,bottom:1},e._SAFARI_EVENT_BACKING_CLASS="safari-event-backing",e}();t.Component=n}(r||(r={}));var r;!function(t){var e=function(t){function e(){var e=this;t.call(this),this._detachCallback=function(t){return e.remove(t)}}return i(e,t),e.prototype.anchor=function(e){var n=this;return t.prototype.anchor.call(this,e),this._forEach(function(t){return t.anchor(n.content())}),this},e.prototype.render=function(){return this._forEach(function(t){return t.render()}),this},e.prototype.has=function(t){throw new Error("has() is not implemented on ComponentContainer")},e.prototype._adoptAndAnchor=function(t){t.parent(this),t.onDetach(this._detachCallback),this._isAnchored&&t.anchor(this.content())},e.prototype.remove=function(t){return this.has(t)&&(t.offDetach(this._detachCallback),this._remove(t),t.detach(),this.redraw()),this},e.prototype._remove=function(t){return!1},e.prototype._forEach=function(t){throw new Error("_forEach() is not implemented on ComponentContainer")},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._forEach(function(t){return t.destroy()})},e}(t.Component);t.ComponentContainer=e}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(t){var n=this;void 0===t&&(t=[]),e.call(this),this._components=[],this.addClass("component-group"),t.forEach(function(t){return n.append(t)})}return i(n,e),n.prototype._forEach=function(t){this.components().forEach(t)},n.prototype.has=function(t){return this._components.indexOf(t)>=0},n.prototype.requestedSpace=function(e,n){var r=this._components.map(function(t){return t.requestedSpace(e,n)});return{minWidth:t.Utils.Math.max(r,function(t){return t.minWidth},0),minHeight:t.Utils.Math.max(r,function(t){return t.minHeight},0)}},n.prototype.computeLayout=function(t,n,r){var i=this;return e.prototype.computeLayout.call(this,t,n,r),this._forEach(function(t){t.computeLayout({x:0,y:0},i.width(),i.height())}),this},n.prototype._sizeFromOffer=function(t,e){return{width:t,height:e}},n.prototype.fixedWidth=function(){return this._components.every(function(t){return t.fixedWidth()})},n.prototype.fixedHeight=function(){return this._components.every(function(t){return t.fixedHeight()})},n.prototype.components=function(){return this._components.slice()},n.prototype.append=function(t){return null==t||this.has(t)||(t.detach(),this._components.push(t),this._adoptAndAnchor(t),this.redraw()),this},n.prototype._remove=function(t){var e=this._components.indexOf(t);return e>=0?(this._components.splice(e,1),!0):!1},n}(t.ComponentContainer);e.Group=n}(e=t.Components||(t.Components={}))}(r||(r={}));var r;!function(t){var e=function(e){function n(n,r){var i=this;if(e.call(this),this._endTickLength=5,this._innerTickLength=5,this._tickLabelPadding=10,this._margin=15,this._showEndTickLabels=!1,this._annotationsEnabled=!1,this._annotationTierCount=1,null==n||null==r)throw new Error("Axis requires a scale and orientation");this._scale=n,this.orientation(r),this._setDefaultAlignment(),this.addClass("axis"),this._isHorizontal()?this.addClass("x-axis"):this.addClass("y-axis"),this.formatter(t.Formatters.identity()),this._rescaleCallback=function(t){return i._rescale()},this._scale.onUpdate(this._rescaleCallback),this._annotatedTicks=[],this._annotationFormatter=t.Formatters.identity()}return i(n,e),n.prototype.destroy=function(){e.prototype.destroy.call(this),this._scale.offUpdate(this._rescaleCallback)},n.prototype._isHorizontal=function(){return"top"===this._orientation||"bottom"===this._orientation},n.prototype._computeWidth=function(){return this._maxLabelTickLength()},n.prototype._computeHeight=function(){return this._maxLabelTickLength()},n.prototype.requestedSpace=function(t,e){var r=0,i=0;if(this._isHorizontal()){if(i=this._computeHeight()+this._margin,this.annotationsEnabled()){var o=this._annotationMeasurer.measure().height+2*n._ANNOTATION_LABEL_PADDING;i+=o*this.annotationTierCount()}}else if(r=this._computeWidth()+this._margin,this.annotationsEnabled()){var o=this._annotationMeasurer.measure().height+2*n._ANNOTATION_LABEL_PADDING;r+=o*this.annotationTierCount()}return{minWidth:r,minHeight:i}},n.prototype.fixedHeight=function(){return this._isHorizontal()},n.prototype.fixedWidth=function(){return!this._isHorizontal()},n.prototype._rescale=function(){this.render()},n.prototype.computeLayout=function(t,n,r){return e.prototype.computeLayout.call(this,t,n,r),this._isHorizontal()?this._scale.range([0,this.width()]):this._scale.range([this.height(),0]),this},n.prototype._setup=function(){e.prototype._setup.call(this),this._tickMarkContainer=this.content().append("g").classed(n.TICK_MARK_CLASS+"-container",!0),this._tickLabelContainer=this.content().append("g").classed(n.TICK_LABEL_CLASS+"-container",!0),this._baseline=this.content().append("line").classed("baseline",!0),this._annotationContainer=this.content().append("g").classed("annotation-container",!0),this._annotationContainer.append("g").classed("annotation-line-container",!0),this._annotationContainer.append("g").classed("annotation-circle-container",!0),this._annotationContainer.append("g").classed("annotation-rect-container",!0);var t=this._annotationContainer.append("g").classed("annotation-label-container",!0);this._annotationMeasurer=new o.Measurers.Measurer(t),this._annotationWriter=new o.Writers.Writer(this._annotationMeasurer)},n.prototype._getTickValues=function(){return[]},n.prototype.renderImmediately=function(){var t=this._getTickValues(),e=this._tickMarkContainer.selectAll("."+n.TICK_MARK_CLASS).data(t);return e.enter().append("line").classed(n.TICK_MARK_CLASS,!0),e.attr(this._generateTickMarkAttrHash()),d3.select(e[0][0]).classed(n.END_TICK_MARK_CLASS,!0).attr(this._generateTickMarkAttrHash(!0)),d3.select(e[0][t.length-1]).classed(n.END_TICK_MARK_CLASS,!0).attr(this._generateTickMarkAttrHash(!0)),e.exit().remove(),this._baseline.attr(this._generateBaselineAttrHash()),this.annotationsEnabled()?this._drawAnnotations():this._removeAnnotations(),this},n.prototype.annotatedTicks=function(t){return null==t?this._annotatedTicks:(this._annotatedTicks=t,this.render(),this)},n.prototype.annotationFormatter=function(t){return null==t?this._annotationFormatter:(this._annotationFormatter=t,this.render(),this)},n.prototype.annotationsEnabled=function(t){return null==t?this._annotationsEnabled:(this._annotationsEnabled=t,this.redraw(),this)},n.prototype.annotationTierCount=function(t){if(null==t)return this._annotationTierCount;if(0>t)throw new Error("annotationTierCount cannot be negative");return this._annotationTierCount=t,this.redraw(),this},n.prototype._drawAnnotations=function(){var e=this,r=n._ANNOTATION_LABEL_PADDING,i=new t.Utils.Map,o=this._annotatedTicksToRender();o.forEach(function(t){var n=e._annotationMeasurer.measure(e.annotationFormatter()(t)),o={width:n.width+2*r,height:n.height+2*r};i.set(t,o)});var a=this._annotationMeasurer.measure().height+2*r,s=this._annotationToTier(i),l=new t.Utils.Set,u=this._isHorizontal()?this.height():this.width(),c=this._coreSize(),h=Math.min(this.annotationTierCount(),Math.floor((u-c)/a));s.forEach(function(t,e){(-1===t||t>=h)&&l.add(e)});var d,f=function(t,e,n){var r=t.selectAll("."+n).data(o);return r.enter().append(e).classed(n,!0),r.exit().remove(),r},p=function(t){switch(e.orientation()){case"bottom":case"right":return s.get(t)*a+c;case"top":case"left":return u-c-s.get(t)*a}},m=function(t){return e._scale.scale(t)},g=function(t){return l.has(t)?"hidden":"visible"};switch(this.orientation()){case"bottom":case"right":d=0;break;case"top":d=this.height();break;case"left":d=this.width()}var v=this._isHorizontal();f(this._annotationContainer.select(".annotation-line-container"),"line",n.ANNOTATION_LINE_CLASS).attr({x1:v?m:d,x2:v?m:p,y1:v?d:m,y2:v?p:m,visibility:g}),f(this._annotationContainer.select(".annotation-circle-container"),"circle",n.ANNOTATION_CIRCLE_CLASS).attr({cx:v?m:d,cy:v?d:m,r:3});var _=function(t){switch(e.orientation()){case"bottom":case"right":return p(t);case"top":case"left":return p(t)-i.get(t).height}};f(this._annotationContainer.select(".annotation-rect-container"),"rect",n.ANNOTATION_RECT_CLASS).attr({x:v?m:_,y:v?_:m,width:v?function(t){return i.get(t).width}:function(t){return i.get(t).height},height:v?function(t){return i.get(t).height}:function(t){return i.get(t).width},visibility:g});var y=this._annotationWriter,w=this.annotationFormatter(),b=f(this._annotationContainer.select(".annotation-label-container"),"g",n.ANNOTATION_LABEL_CLASS);b.selectAll(".text-container").remove(),b.attr({transform:function(t){var e=v?m(t):_(t),n=v?_(t):m(t);return"translate("+e+","+n+")"},visibility:g}).each(function(t){var e={selection:d3.select(this),xAlign:"center",yAlign:"center",textRotation:v?0:90};y.write(w(t),v?i.get(t).width:i.get(t).height,v?i.get(t).height:i.get(t).width,e)})},n.prototype._annotatedTicksToRender=function(){var e=this,n=this._scale.range();return t.Utils.Array.uniq(this.annotatedTicks().filter(function(r){return null==r?!1:t.Utils.Math.inRange(e._scale.scale(r),n[0],n[1]);
}))},n.prototype._coreSize=function(){var t=this._isHorizontal()?this.height():this.width(),e=this._isHorizontal()?this._computeHeight():this._computeWidth();return Math.min(e,t)},n.prototype._annotationTierHeight=function(){return this._annotationMeasurer.measure().height+2*n._ANNOTATION_LABEL_PADDING},n.prototype._annotationToTier=function(e){var n=this,r=[[]],i=new t.Utils.Map,o=this._isHorizontal()?this.width():this.height();return this._annotatedTicksToRender().forEach(function(t){var a=n._scale.scale(t),s=e.get(t).width;if(0>a||a+s>o)return void i.set(t,-1);for(var l=function(t){return r[t].some(function(t){var r=n._scale.scale(t),i=e.get(t).width;return a+s>=r&&r+i>=a})},u=0;l(u);)u++,r.length===u&&r.push([]);r[u].push(t),i.set(t,u)}),i},n.prototype._removeAnnotations=function(){this._annotationContainer.selectAll(".annotation-line").remove(),this._annotationContainer.selectAll(".annotation-circle").remove(),this._annotationContainer.selectAll(".annotation-rect").remove(),this._annotationContainer.selectAll(".annotation-label").remove()},n.prototype._generateBaselineAttrHash=function(){var t={x1:0,y1:0,x2:0,y2:0};switch(this._orientation){case"bottom":t.x2=this.width();break;case"top":t.x2=this.width(),t.y1=this.height(),t.y2=this.height();break;case"left":t.x1=this.width(),t.x2=this.width(),t.y2=this.height();break;case"right":t.y2=this.height()}return t},n.prototype._generateTickMarkAttrHash=function(t){var e=this;void 0===t&&(t=!1);var n={x1:0,y1:0,x2:0,y2:0},r=function(t){return e._scale.scale(t)};this._isHorizontal()?(n.x1=r,n.x2=r):(n.y1=r,n.y2=r);var i=t?this._endTickLength:this._innerTickLength;switch(this._orientation){case"bottom":n.y2=i;break;case"top":n.y1=this.height(),n.y2=this.height()-i;break;case"left":n.x1=this.width(),n.x2=this.width()-i;break;case"right":n.x2=i}return n},n.prototype._setDefaultAlignment=function(){switch(this._orientation){case"bottom":this.yAlignment("top");break;case"top":this.yAlignment("bottom");break;case"left":this.xAlignment("right");break;case"right":this.xAlignment("left")}},n.prototype.formatter=function(t){return null==t?this._formatter:(this._formatter=t,this.redraw(),this)},n.prototype.innerTickLength=function(t){if(null==t)return this._innerTickLength;if(0>t)throw new Error("inner tick length must be positive");return this._innerTickLength=t,this.redraw(),this},n.prototype.endTickLength=function(t){if(null==t)return this._endTickLength;if(0>t)throw new Error("end tick length must be positive");return this._endTickLength=t,this.redraw(),this},n.prototype._maxLabelTickLength=function(){return this.showEndTickLabels()?Math.max(this.innerTickLength(),this.endTickLength()):this.innerTickLength()},n.prototype.tickLabelPadding=function(t){if(null==t)return this._tickLabelPadding;if(0>t)throw new Error("tick label padding must be positive");return this._tickLabelPadding=t,this.redraw(),this},n.prototype.margin=function(t){if(null==t)return this._margin;if(0>t)throw new Error("margin size must be positive");return this._margin=t,this.redraw(),this},n.prototype.orientation=function(t){if(null==t)return this._orientation;var e=t.toLowerCase();if("top"!==e&&"bottom"!==e&&"left"!==e&&"right"!==e)throw new Error("unsupported orientation");return this._orientation=e,this.redraw(),this},n.prototype.showEndTickLabels=function(t){return null==t?this._showEndTickLabels:(this._showEndTickLabels=t,this.render(),this)},n.END_TICK_MARK_CLASS="end-tick-mark",n.TICK_MARK_CLASS="tick-mark",n.TICK_LABEL_CLASS="tick-label",n.ANNOTATION_LINE_CLASS="annotation-line",n.ANNOTATION_RECT_CLASS="annotation-rect",n.ANNOTATION_CIRCLE_CLASS="annotation-circle",n.ANNOTATION_LABEL_CLASS="annotation-label",n._ANNOTATION_LABEL_PADDING=4,n}(t.Component);t.Axis=e}(r||(r={}));var r;!function(t){var e;!function(t){t.second="second",t.minute="minute",t.hour="hour",t.day="day",t.week="week",t.month="month",t.year="year"}(e=t.TimeInterval||(t.TimeInterval={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(r,i){e.call(this,r,i),this._tierLabelPositions=[],this.addClass("time-axis"),this.tickLabelPadding(5),this.axisConfigurations(n._DEFAULT_TIME_AXIS_CONFIGURATIONS),this.annotationFormatter(t.Formatters.time("%a %b %d, %Y"))}return i(n,e),n.prototype.tierLabelPositions=function(t){if(null==t)return this._tierLabelPositions;if(!t.every(function(t){return"between"===t.toLowerCase()||"center"===t.toLowerCase()}))throw new Error("Unsupported position for tier labels");return this._tierLabelPositions=t,this.redraw(),this},n.prototype.axisConfigurations=function(e){if(null==e)return this._possibleTimeAxisConfigurations;this._possibleTimeAxisConfigurations=e,this._numTiers=t.Utils.Math.max(this._possibleTimeAxisConfigurations.map(function(t){return t.length}),0),this._isAnchored&&this._setupDomElements();for(var n=this.tierLabelPositions(),r=[],i=0;i<this._numTiers;i++)r.push(n[i]||"between");return this.tierLabelPositions(r),this.redraw(),this},n.prototype._getMostPreciseConfigurationIndex=function(){var e=this,n=this._possibleTimeAxisConfigurations.length;return this._possibleTimeAxisConfigurations.forEach(function(t,r){n>r&&t.every(function(t){return e._checkTimeAxisTierConfigurationWidth(t)})&&(n=r)}),n===this._possibleTimeAxisConfigurations.length&&(t.Utils.Window.warn("zoomed out too far: could not find suitable interval to display labels"),--n),n},n.prototype.orientation=function(t){if(t&&("right"===t.toLowerCase()||"left"===t.toLowerCase()))throw new Error(t+" is not a supported orientation for TimeAxis - only horizontal orientations are supported");return e.prototype.orientation.call(this,t)},n.prototype._computeHeight=function(){var t=this._measurer.measure().height;this._tierHeights=[];for(var e=0;e<this._numTiers;e++)this._tierHeights.push(t+this.tickLabelPadding()+("between"===this._tierLabelPositions[e]?0:this._maxLabelTickLength()));return d3.sum(this._tierHeights)},n.prototype._getIntervalLength=function(e){var n=this._scale.domain()[0],r=t.Scales.Time.timeIntervalToD3Time(e.interval),i=r.offset(n,e.step);if(i>this._scale.domain()[1])return this.width();var o=Math.abs(this._scale.scale(i)-this._scale.scale(n));return o},n.prototype._maxWidthForInterval=function(t){return this._measurer.measure(t.formatter(n._LONG_DATE)).width},n.prototype._checkTimeAxisTierConfigurationWidth=function(t){var e=this._maxWidthForInterval(t)+2*this.tickLabelPadding();return Math.min(this._getIntervalLength(t),this.width())>=e},n.prototype._sizeFromOffer=function(t,n){var r=e.prototype._sizeFromOffer.call(this,t,n),i=this._tierHeights.reduce(function(t,e,n,i){return t+e>r.height?t:t+e}),o=this.margin()+(this.annotationsEnabled()?this.annotationTierCount()*this._annotationTierHeight():0);return r.height=Math.min(r.height,i+o),r},n.prototype._setup=function(){e.prototype._setup.call(this),this._setupDomElements()},n.prototype._setupDomElements=function(){this.content().selectAll("."+n.TIME_AXIS_TIER_CLASS).remove(),this._tierLabelContainers=[],this._tierMarkContainers=[],this._tierBaselines=[],this._tickLabelContainer.remove(),this._baseline.remove();for(var e=0;e<this._numTiers;++e){var r=this.content().append("g").classed(n.TIME_AXIS_TIER_CLASS,!0);this._tierLabelContainers.push(r.append("g").classed(t.Axis.TICK_LABEL_CLASS+"-container",!0)),this._tierMarkContainers.push(r.append("g").classed(t.Axis.TICK_MARK_CLASS+"-container",!0)),this._tierBaselines.push(r.append("line").classed("baseline",!0))}this._measurer=new o.Measurers.Measurer(this._tierLabelContainers[0])},n.prototype._getTickIntervalValues=function(t){return this._scale.tickInterval(t.interval,t.step)},n.prototype._getTickValues=function(){var t=this;return this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex].reduce(function(e,n){return e.concat(t._getTickIntervalValues(n))},[])},n.prototype._cleanTiers=function(){for(var e=0;e<this._tierLabelContainers.length;e++)this._tierLabelContainers[e].selectAll("."+t.Axis.TICK_LABEL_CLASS).remove(),this._tierMarkContainers[e].selectAll("."+t.Axis.TICK_MARK_CLASS).remove(),this._tierBaselines[e].style("visibility","hidden")},n.prototype._getTickValuesForConfiguration=function(t){var e=this._scale.tickInterval(t.interval,t.step),n=this._scale.domain(),r=e.map(function(t){return t.valueOf()});return-1===r.indexOf(n[0].valueOf())&&e.unshift(n[0]),-1===r.indexOf(n[1].valueOf())&&e.push(n[1]),e},n.prototype._renderTierLabels=function(e,n,r){var i=this,o=this._getTickValuesForConfiguration(n),a=[];"between"===this._tierLabelPositions[r]&&1===n.step?o.map(function(t,e){e+1>=o.length||a.push(new Date((o[e+1].valueOf()-o[e].valueOf())/2+o[e].valueOf()))}):a=o;var s=e.selectAll("."+t.Axis.TICK_LABEL_CLASS).data(a,function(t){return String(t.valueOf())}),l=s.enter().append("g").classed(t.Axis.TICK_LABEL_CLASS,!0);l.append("text");var u,c="center"===this._tierLabelPositions[r]||1===n.step?0:this.tickLabelPadding();u="bottom"===this.orientation()?d3.sum(this._tierHeights.slice(0,r+1))-this.tickLabelPadding():"center"===this._tierLabelPositions[r]?this.height()-d3.sum(this._tierHeights.slice(0,r))-this.tickLabelPadding()-this._maxLabelTickLength():this.height()-d3.sum(this._tierHeights.slice(0,r))-this.tickLabelPadding();var h=s.selectAll("text");h.size()>0&&t.Utils.DOM.translate(h,c,u),s.exit().remove(),s.attr("transform",function(t){return"translate("+i._scale.scale(t)+",0)"});var d="center"===this._tierLabelPositions[r]||1===n.step?"middle":"start";s.selectAll("text").text(n.formatter).style("text-anchor",d)},n.prototype._renderTickMarks=function(e,n){var r=this._tierMarkContainers[n].selectAll("."+t.Axis.TICK_MARK_CLASS).data(e);r.enter().append("line").classed(t.Axis.TICK_MARK_CLASS,!0);var i=this._generateTickMarkAttrHash(),o=this._tierHeights.slice(0,n).reduce(function(t,e){return t+e},0);"bottom"===this.orientation()?(i.y1=o,i.y2=o+("center"===this._tierLabelPositions[n]?this.innerTickLength():this._tierHeights[n])):(i.y1=this.height()-o,i.y2=this.height()-(o+("center"===this._tierLabelPositions[n]?this.innerTickLength():this._tierHeights[n]))),r.attr(i),"bottom"===this.orientation()?(i.y1=o,i.y2=o+("center"===this._tierLabelPositions[n]?this.endTickLength():this._tierHeights[n])):(i.y1=this.height()-o,i.y2=this.height()-(o+("center"===this._tierLabelPositions[n]?this.endTickLength():this._tierHeights[n]))),d3.select(r[0][0]).attr(i),d3.select(r[0][r.size()-1]).attr(i),d3.select(r[0][0]).classed(t.Axis.END_TICK_MARK_CLASS,!0),d3.select(r[0][r.size()-1]).classed(t.Axis.END_TICK_MARK_CLASS,!0),r.exit().remove()},n.prototype._renderLabellessTickMarks=function(e){var n=this._tickMarkContainer.selectAll("."+t.Axis.TICK_MARK_CLASS).data(e);n.enter().append("line").classed(t.Axis.TICK_MARK_CLASS,!0);var r=this._generateTickMarkAttrHash();r.y2="bottom"===this.orientation()?this.tickLabelPadding():this.height()-this.tickLabelPadding(),n.attr(r),n.exit().remove()},n.prototype._generateLabellessTicks=function(){return this._mostPreciseConfigIndex<1?[]:this._getTickIntervalValues(this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex-1][0])},n.prototype.renderImmediately=function(){var t=this;this._mostPreciseConfigIndex=this._getMostPreciseConfigurationIndex();var e=this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex];this._cleanTiers(),e.forEach(function(e,n){return t._renderTierLabels(t._tierLabelContainers[n],e,n)});for(var n=e.map(function(e,n){return t._getTickValuesForConfiguration(e)}),r=0,i=0;i<Math.max(e.length,1);++i){var o=this._generateBaselineAttrHash();o.y1+="bottom"===this.orientation()?r:-r,o.y2=o.y1,this._tierBaselines[i].attr(o).style("visibility","inherit"),r+=this._tierHeights[i]}var a=[],s=this._scale.domain(),l=this._scale.scale(s[1])-this._scale.scale(s[0]);1.5*this._getIntervalLength(e[0])>=l&&(a=this._generateLabellessTicks()),this._renderLabellessTickMarks(a),this._hideOverflowingTiers();for(var i=0;i<e.length;++i)this._renderTickMarks(n[i],i),this._hideOverlappingAndCutOffLabels(i);return this.annotationsEnabled()?this._drawAnnotations():this._removeAnnotations(),this},n.prototype._hideOverflowingTiers=function(){var t=this,e=this.height(),r=0;this.content().selectAll("."+n.TIME_AXIS_TIER_CLASS).attr("visibility",function(n,i){return r+=t._tierHeights[i],e>=r?"inherit":"hidden"})},n.prototype._hideOverlappingAndCutOffLabels=function(e){var n,r=this,i=this._boundingBox.node().getBoundingClientRect(),o=function(t){return Math.floor(i.left)<=Math.ceil(t.left)&&Math.floor(i.top)<=Math.ceil(t.top)&&Math.floor(t.right)<=Math.ceil(i.left+r.width())&&Math.floor(t.bottom)<=Math.ceil(i.top+r.height())},a=this._tierMarkContainers[e].selectAll("."+t.Axis.TICK_MARK_CLASS).filter(function(t,e){var n=d3.select(this).style("visibility");return"visible"===n||"inherit"===n}),s=a[0].map(function(t){return t.getBoundingClientRect()}),l=this._tierLabelContainers[e].selectAll("."+t.Axis.TICK_LABEL_CLASS).filter(function(t,e){var n=d3.select(this).style("visibility");return"visible"===n||"inherit"===n});l.each(function(e,r){var i=this.getBoundingClientRect(),a=d3.select(this),l=s[r],u=s[r+1],c=null!=n&&t.Utils.DOM.clientRectsOverlap(i,n),h=null!=l&&t.Utils.DOM.clientRectsOverlap(i,l),d=null!=u&&t.Utils.DOM.clientRectsOverlap(i,u);!o(i)||c||h||d?a.style("visibility","hidden"):(n=i,a.style("visibility","inherit"))})},n.TIME_AXIS_TIER_CLASS="time-axis-tier",n._DEFAULT_TIME_AXIS_CONFIGURATIONS=[[{interval:t.TimeInterval.second,step:1,formatter:t.Formatters.time("%I:%M:%S %p")},{interval:t.TimeInterval.day,step:1,formatter:t.Formatters.time("%B %e, %Y")}],[{interval:t.TimeInterval.second,step:5,formatter:t.Formatters.time("%I:%M:%S %p")},{interval:t.TimeInterval.day,step:1,formatter:t.Formatters.time("%B %e, %Y")}],[{interval:t.TimeInterval.second,step:10,formatter:t.Formatters.time("%I:%M:%S %p")},{interval:t.TimeInterval.day,step:1,formatter:t.Formatters.time("%B %e, %Y")}],[{interval:t.TimeInterval.second,step:15,formatter:t.Formatters.time("%I:%M:%S %p")},{interval:t.TimeInterval.day,step:1,formatter:t.Formatters.time("%B %e, %Y")}],[{interval:t.TimeInterval.second,step:30,formatter:t.Formatters.time("%I:%M:%S %p")},{interval:t.TimeInterval.day,step:1,formatter:t.Formatters.time("%B %e, %Y")}],[{interval:t.TimeInterval.minute,step:1,formatter:t.Formatters.time("%I:%M %p")},{interval:t.TimeInterval.day,step:1,formatter:t.Formatters.time("%B %e, %Y")}],[{interval:t.TimeInterval.minute,step:5,formatter:t.Formatters.time("%I:%M %p")},{interval:t.TimeInterval.day,step:1,formatter:t.Formatters.time("%B %e, %Y")}],[{interval:t.TimeInterval.minute,step:10,formatter:t.Formatters.time("%I:%M %p")},{interval:t.TimeInterval.day,step:1,formatter:t.Formatters.time("%B %e, %Y")}],[{interval:t.TimeInterval.minute,step:15,formatter:t.Formatters.time("%I:%M %p")},{interval:t.TimeInterval.day,step:1,formatter:t.Formatters.time("%B %e, %Y")}],[{interval:t.TimeInterval.minute,step:30,formatter:t.Formatters.time("%I:%M %p")},{interval:t.TimeInterval.day,step:1,formatter:t.Formatters.time("%B %e, %Y")}],[{interval:t.TimeInterval.hour,step:1,formatter:t.Formatters.time("%I %p")},{interval:t.TimeInterval.day,step:1,formatter:t.Formatters.time("%B %e, %Y")}],[{interval:t.TimeInterval.hour,step:3,formatter:t.Formatters.time("%I %p")},{interval:t.TimeInterval.day,step:1,formatter:t.Formatters.time("%B %e, %Y")}],[{interval:t.TimeInterval.hour,step:6,formatter:t.Formatters.time("%I %p")},{interval:t.TimeInterval.day,step:1,formatter:t.Formatters.time("%B %e, %Y")}],[{interval:t.TimeInterval.hour,step:12,formatter:t.Formatters.time("%I %p")},{interval:t.TimeInterval.day,step:1,formatter:t.Formatters.time("%B %e, %Y")}],[{interval:t.TimeInterval.day,step:1,formatter:t.Formatters.time("%a %e")},{interval:t.TimeInterval.month,step:1,formatter:t.Formatters.time("%B %Y")}],[{interval:t.TimeInterval.day,step:1,formatter:t.Formatters.time("%e")},{interval:t.TimeInterval.month,step:1,formatter:t.Formatters.time("%B %Y")}],[{interval:t.TimeInterval.month,step:1,formatter:t.Formatters.time("%B")},{interval:t.TimeInterval.year,step:1,formatter:t.Formatters.time("%Y")}],[{interval:t.TimeInterval.month,step:1,formatter:t.Formatters.time("%b")},{interval:t.TimeInterval.year,step:1,formatter:t.Formatters.time("%Y")}],[{interval:t.TimeInterval.month,step:3,formatter:t.Formatters.time("%b")},{interval:t.TimeInterval.year,step:1,formatter:t.Formatters.time("%Y")}],[{interval:t.TimeInterval.month,step:6,formatter:t.Formatters.time("%b")},{interval:t.TimeInterval.year,step:1,formatter:t.Formatters.time("%Y")}],[{interval:t.TimeInterval.year,step:1,formatter:t.Formatters.time("%Y")}],[{interval:t.TimeInterval.year,step:1,formatter:t.Formatters.time("%y")}],[{interval:t.TimeInterval.year,step:5,formatter:t.Formatters.time("%Y")}],[{interval:t.TimeInterval.year,step:25,formatter:t.Formatters.time("%Y")}],[{interval:t.TimeInterval.year,step:50,formatter:t.Formatters.time("%Y")}],[{interval:t.TimeInterval.year,step:100,formatter:t.Formatters.time("%Y")}],[{interval:t.TimeInterval.year,step:200,formatter:t.Formatters.time("%Y")}],[{interval:t.TimeInterval.year,step:500,formatter:t.Formatters.time("%Y")}],[{interval:t.TimeInterval.year,step:1e3,formatter:t.Formatters.time("%Y")}]],n._LONG_DATE=new Date(9999,8,29,12,59,9999),n}(t.Axis);e.Time=n}(e=t.Axes||(t.Axes={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(n,r){e.call(this,n,r),this._tickLabelPositioning="center",this._usesTextWidthApproximation=!1,this.formatter(t.Formatters.general())}return i(n,e),n.prototype._setup=function(){e.prototype._setup.call(this),this._measurer=new o.Measurers.Measurer(this._tickLabelContainer,t.Axis.TICK_LABEL_CLASS),this._wrapper=(new o.Wrappers.Wrapper).maxLines(1)},n.prototype._computeWidth=function(){var t=this._usesTextWidthApproximation?this._computeApproximateTextWidth():this._computeExactTextWidth();return"center"===this._tickLabelPositioning?this._maxLabelTickLength()+this.tickLabelPadding()+t:Math.max(this._maxLabelTickLength(),this.tickLabelPadding()+t)},n.prototype._computeExactTextWidth=function(){var e=this,n=this._getTickValues(),r=n.map(function(t){var n=e.formatter()(t);return e._measurer.measure(n).width});return t.Utils.Math.max(r,0)},n.prototype._computeApproximateTextWidth=function(){var e=this,n=this._getTickValues(),r=this._measurer.measure("M").width,i=n.map(function(t){var n=e.formatter()(t);return n.length*r});return t.Utils.Math.max(i,0)},n.prototype._computeHeight=function(){var t=this._measurer.measure().height;return"center"===this._tickLabelPositioning?this._maxLabelTickLength()+this.tickLabelPadding()+t:Math.max(this._maxLabelTickLength(),this.tickLabelPadding()+t)},n.prototype._getTickValues=function(){var t=this._scale,e=t.domain(),n=e[0]<=e[1]?e[0]:e[1],r=e[0]>=e[1]?e[0]:e[1];return n===e[0]?t.ticks().filter(function(t){return t>=n&&r>=t}):t.ticks().filter(function(t){return t>=n&&r>=t}).reverse()},n.prototype._rescale=function(){if(this._isSetup){if(!this._isHorizontal()){var t=this._computeWidth();if(t>this.width()||t<this.width()-this.margin())return void this.redraw()}this.render()}},n.prototype.renderImmediately=function(){var n=this;e.prototype.renderImmediately.call(this);var r={x:0,y:0,dx:"0em",dy:"0.3em"},i=this._maxLabelTickLength(),o=this.tickLabelPadding(),a="middle",s=0,l=0,u=0,c=0;if(this._isHorizontal())switch(this._tickLabelPositioning){case"left":a="end",s=-o,c=o;break;case"center":c=i+o;break;case"right":a="start",s=o,c=o}else switch(this._tickLabelPositioning){case"top":r.dy="-0.3em",u=o,l=-o;break;case"center":u=i+o;break;case"bottom":r.dy="1em",u=o,l=o}var h=this._generateTickMarkAttrHash();switch(this.orientation()){case"bottom":r.x=h.x1,r.dy="0.95em",l=h.y1+c;break;case"top":r.x=h.x1,r.dy="-.25em",l=h.y1-c;break;case"left":a="end",s=h.x1-u,r.y=h.y1;break;case"right":a="start",s=h.x1+u,r.y=h.y1}var d=this._getTickValues(),f=this._tickLabelContainer.selectAll("."+t.Axis.TICK_LABEL_CLASS).data(d);f.enter().append("text").classed(t.Axis.TICK_LABEL_CLASS,!0),f.exit().remove(),f.style("text-anchor",a).style("visibility","inherit").attr(r).text(function(t){return n.formatter()(t)});var p="translate("+s+", "+l+")";return this._tickLabelContainer.attr("transform",p),this._showAllTickMarks(),this.showEndTickLabels()||this._hideEndTickLabels(),this._hideOverflowingTickLabels(),this._hideOverlappingTickLabels(),("bottom"===this._tickLabelPositioning||"top"===this._tickLabelPositioning||"left"===this._tickLabelPositioning||"right"===this._tickLabelPositioning)&&this._hideTickMarksWithoutLabel(),this},n.prototype._showAllTickMarks=function(){this._tickMarkContainer.selectAll("."+t.Axis.TICK_MARK_CLASS).each(function(){d3.select(this).style("visibility","inherit")})},n.prototype._hideTickMarksWithoutLabel=function(){var e=this._tickMarkContainer.selectAll("."+t.Axis.TICK_MARK_CLASS),n=this._tickLabelContainer.selectAll("."+t.Axis.TICK_LABEL_CLASS).filter(function(t,e){var n=d3.select(this).style("visibility");return"inherit"===n||"visible"===n}),r=[];n.each(function(t){return r.push(t)}),e.each(function(t,e){-1===r.indexOf(t)&&d3.select(this).style("visibility","hidden")})},n.prototype.tickLabelPosition=function(t){if(null==t)return this._tickLabelPositioning;var e=t.toLowerCase();if(this._isHorizontal()){if("left"!==e&&"center"!==e&&"right"!==e)throw new Error(e+" is not a valid tick label position for a horizontal NumericAxis")}else if("top"!==e&&"center"!==e&&"bottom"!==e)throw new Error(e+" is not a valid tick label position for a vertical NumericAxis");return this._tickLabelPositioning=e,this.redraw(),this},n.prototype.usesTextWidthApproximation=function(t){return null==t?this._usesTextWidthApproximation:(this._usesTextWidthApproximation=t,this)},n.prototype._hideEndTickLabels=function(){var e=this._boundingBox.node().getBoundingClientRect(),n=this._tickLabelContainer.selectAll("."+t.Axis.TICK_LABEL_CLASS);if(0!==n[0].length){var r=n[0][0];t.Utils.DOM.clientRectInside(r.getBoundingClientRect(),e)||d3.select(r).style("visibility","hidden");var i=n[0][n[0].length-1];t.Utils.DOM.clientRectInside(i.getBoundingClientRect(),e)||d3.select(i).style("visibility","hidden")}},n.prototype._hideOverflowingTickLabels=function(){var e=this._boundingBox.node().getBoundingClientRect(),n=this._tickLabelContainer.selectAll("."+t.Axis.TICK_LABEL_CLASS);n.empty()||n.each(function(n,r){t.Utils.DOM.clientRectInside(this.getBoundingClientRect(),e)||d3.select(this).style("visibility","hidden")})},n.prototype._hideOverlappingTickLabels=function(){for(var e=this._tickLabelContainer.selectAll("."+t.Axis.TICK_LABEL_CLASS).filter(function(t,e){var n=d3.select(this).style("visibility");return"inherit"===n||"visible"===n}),n=e[0].map(function(t){return t.getBoundingClientRect()}),r=1;!this._hasOverlapWithInterval(r,n)&&r<n.length;)r+=1;e.each(function(t,e){var n=d3.select(this);e%r!==0&&n.style("visibility","hidden")})},n.prototype._hasOverlapWithInterval=function(t,e){var n=this.tickLabelPadding();("bottom"===this._tickLabelPositioning||"top"===this._tickLabelPositioning||"left"===this._tickLabelPositioning||"right"===this._tickLabelPositioning)&&(n*=3);for(var r=0;r<e.length-t;r+=t){var i=e[r],o=e[r+t];if(this._isHorizontal()){if(i.right+n>=o.left)return!1}else if(i.top-n<=o.bottom)return!1}return!0},n}(t.Axis);e.Numeric=n}(e=t.Axes||(t.Axes={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(t,n){e.call(this,t,n),this._tickLabelAngle=0,this.addClass("category-axis")}return i(n,e),n.prototype._setup=function(){e.prototype._setup.call(this),this._measurer=new o.Measurers.CacheCharacterMeasurer(this._tickLabelContainer),this._wrapper=new o.Wrappers.Wrapper,this._writer=new o.Writers.Writer(this._measurer,this._wrapper)},n.prototype._rescale=function(){return this.redraw()},n.prototype.requestedSpace=function(t,e){var n=this._isHorizontal()?0:this._maxLabelTickLength()+this.tickLabelPadding()+this.margin(),r=this._isHorizontal()?this._maxLabelTickLength()+this.tickLabelPadding()+this.margin():0;if(0===this._scale.domain().length)return{minWidth:0,minHeight:0};if(this.annotationsEnabled()){var i=this._annotationTierHeight()*this.annotationTierCount();this._isHorizontal()?r+=i:n+=i}var o=this._scale,a=this._measureTicks(t,e,o,o.domain());return{minWidth:a.usedWidth+n,minHeight:a.usedHeight+r}},n.prototype._coreSize=function(){var t=this._isHorizontal()?this.height():this.width(),e=this._isHorizontal()?this.requestedSpace(this.width(),this.height()).minHeight:this.requestedSpace(this.width(),this.height()).minWidth,n=this.margin()+this._annotationTierHeight(),r=e-n;return Math.min(r,t)},n.prototype._getTickValues=function(){return this._scale.domain()},n.prototype.tickLabelAngle=function(t){if(null==t)return this._tickLabelAngle;if(0!==t&&90!==t&&-90!==t)throw new Error("Angle "+t+" not supported; only 0, 90, and -90 are valid values");return this._tickLabelAngle=t,this.redraw(),this},n.prototype._drawTicks=function(t,e,n,r){var i,o,a=this;switch(this.tickLabelAngle()){case 0:i={left:"right",right:"left",top:"center",bottom:"center"},o={left:"center",right:"center",top:"bottom",bottom:"top"};break;case 90:i={left:"center",right:"center",top:"right",bottom:"left"},o={left:"top",right:"bottom",top:"center",bottom:"center"};break;case-90:i={left:"center",right:"center",top:"left",bottom:"right"},o={left:"bottom",right:"top",top:"center",bottom:"center"}}r.each(function(r){var s=n.stepWidth(),l=a._isHorizontal()?s:t-a._maxLabelTickLength()-a.tickLabelPadding(),u=a._isHorizontal()?e-a._maxLabelTickLength()-a.tickLabelPadding():s,c={selection:d3.select(this),xAlign:i[a.orientation()],yAlign:o[a.orientation()],textRotation:a.tickLabelAngle()};a._writer.write(a.formatter()(r),l,u,c)})},n.prototype._measureTicks=function(e,n,r,i){var a=this,s=this._isHorizontal()?e:n,l=2*r.outerPadding(),u=(i.length-1)*r.innerPadding(),c=s/(l+u+i.length),h=c*(1+r.innerPadding()),d=i.map(function(t){var r=e-a._maxLabelTickLength()-a.tickLabelPadding();a._isHorizontal()&&(r=h,0!==a._tickLabelAngle&&(r=n-a._maxLabelTickLength()-a.tickLabelPadding()),r=Math.max(r,0));var i=h;return a._isHorizontal()&&(i=n-a._maxLabelTickLength()-a.tickLabelPadding(),0!==a._tickLabelAngle&&(i=e-a._maxLabelTickLength()-a.tickLabelPadding()),i=Math.max(i,0)),a._wrapper.wrap(a.formatter()(t),a._measurer,r,i)}),f=this._isHorizontal()&&0===this._tickLabelAngle?d3.sum:t.Utils.Math.max,p=this._isHorizontal()&&0===this._tickLabelAngle?t.Utils.Math.max:d3.sum,m=d.every(function(t){return!o.Utils.StringMethods.isNotEmptyString(t.truncatedText)&&1===t.noLines}),g=f(d,function(t){return a._measurer.measure(t.wrappedText).width},0),v=p(d,function(t){return a._measurer.measure(t.wrappedText).height},0);if(0!==this._tickLabelAngle){var _=v;v=g,g=_}return{textFits:m,usedWidth:g,usedHeight:v}},n.prototype.renderImmediately=function(){var n=this;e.prototype.renderImmediately.call(this);var r=this._scale,i=this._tickLabelContainer.selectAll("."+t.Axis.TICK_LABEL_CLASS).data(this._scale.domain(),function(t){return t}),o=function(t,e){var i=r.stepWidth()-r.rangeBand(),o=r.scale(t)-r.rangeBand()/2-i/2,a=n._isHorizontal()?o:0,s=n._isHorizontal()?0:o;return"translate("+a+","+s+")"};i.enter().append("g").classed(t.Axis.TICK_LABEL_CLASS,!0),i.exit().remove(),i.attr("transform",o),i.text(""),this._drawTicks(this.width(),this.height(),r,i);var a="right"===this.orientation()?this._maxLabelTickLength()+this.tickLabelPadding():0,s="bottom"===this.orientation()?this._maxLabelTickLength()+this.tickLabelPadding():0;return t.Utils.DOM.translate(this._tickLabelContainer,a,s),this},n.prototype.computeLayout=function(t,n,r){return this._measurer.reset(),e.prototype.computeLayout.call(this,t,n,r),this._isHorizontal()||this._scale.range([0,this.height()]),this},n}(t.Axis);e.Category=n}(e=t.Axes||(t.Axes={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(t){function e(e,n){void 0===e&&(e=""),void 0===n&&(n=0),t.call(this),this.addClass("label"),this.text(e),this.angle(n),this.xAlignment("center").yAlignment("center"),this._padding=0}return i(e,t),e.prototype.requestedSpace=function(t,e){var n=this._measurer.measure(this._text),r=(0===this.angle()?n.width:n.height)+2*this.padding(),i=(0===this.angle()?n.height:n.width)+2*this.padding();return{minWidth:r,minHeight:i}},e.prototype._setup=function(){t.prototype._setup.call(this),this._textContainer=this.content().append("g"),this._measurer=new o.Measurers.Measurer(this._textContainer),this._wrapper=new o.Wrappers.Wrapper,this._writer=new o.Writers.Writer(this._measurer,this._wrapper),this.text(this._text)},e.prototype.text=function(t){if(null==t)return this._text;if("string"!=typeof t)throw new Error("Label.text() only takes strings as input");return this._text=t,this.redraw(),this},e.prototype.angle=function(t){if(null==t)return this._angle;if(t%=360,t>180?t-=360:-180>t&&(t+=360),-90!==t&&0!==t&&90!==t)throw new Error(t+" is not a valid angle for Label");return this._angle=t,this.redraw(),this},e.prototype.padding=function(t){if(null==t)return this._padding;if(t=+t,0>t)throw new Error(t+" is not a valid padding value. Cannot be less than 0.");return this._padding=t,this.redraw(),this},e.prototype.fixedWidth=function(){return!0},e.prototype.fixedHeight=function(){return!0},e.prototype.renderImmediately=function(){t.prototype.renderImmediately.call(this),this._textContainer.selectAll("g").remove();var e=this._measurer.measure(this._text),n=Math.max(Math.min((this.height()-e.height)/2,this.padding()),0),r=Math.max(Math.min((this.width()-e.width)/2,this.padding()),0);this._textContainer.attr("transform","translate("+r+","+n+")");var i=this.width()-2*r,o=this.height()-2*n,a={selection:this._textContainer,xAlign:this.xAlignment(),yAlign:this.yAlignment(),textRotation:this.angle()};return this._writer.write(this._text,i,o,a),this},e}(t.Component);e.Label=n;var r=function(t){function e(n,r){t.call(this,n,r),this.addClass(e.TITLE_LABEL_CLASS)}return i(e,t),e.TITLE_LABEL_CLASS="title-label",e}(n);e.TitleLabel=r;var a=function(t){function e(n,r){t.call(this,n,r),this.addClass(e.AXIS_LABEL_CLASS)}return i(e,t),e.AXIS_LABEL_CLASS="axis-label",e}(n);e.AxisLabel=a}(e=t.Components||(t.Components={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(n){var r=this;if(e.call(this),this._padding=5,this.addClass("legend"),this.maxEntriesPerRow(1),null==n)throw new Error("Legend requires a colorScale");this._colorScale=n,this._redrawCallback=function(t){return r.redraw()},this._colorScale.onUpdate(this._redrawCallback),this._formatter=t.Formatters.identity(),this.xAlignment("right").yAlignment("top"),this.comparator(function(t,e){var n=r._colorScale.domain().slice().map(function(t){return r._formatter(t)});return n.indexOf(t)-n.indexOf(e)}),this._symbolFactoryAccessor=function(){return t.SymbolFactories.circle()},this._symbolOpacityAccessor=function(){return 1}}return i(n,e),n.prototype._setup=function(){e.prototype._setup.call(this);var r=this.content().append("g").classed(n.LEGEND_ROW_CLASS,!0),i=r.append("g").classed(n.LEGEND_ENTRY_CLASS,!0);i.append("text"),this._measurer=new o.Measurers.Measurer(r),this._wrapper=(new o.Wrappers.Wrapper).maxLines(1),this._writer=new o.Writers.Writer(this._measurer,this._wrapper).addTitleElement(t.Configs.ADD_TITLE_ELEMENTS)},n.prototype.formatter=function(t){return null==t?this._formatter:(this._formatter=t,this.redraw(),this)},n.prototype.maxEntriesPerRow=function(t){return null==t?this._maxEntriesPerRow:(this._maxEntriesPerRow=t,this.redraw(),this)},n.prototype.comparator=function(t){return null==t?this._comparator:(this._comparator=t,this.redraw(),this)},n.prototype.colorScale=function(t){return null!=t?(this._colorScale.offUpdate(this._redrawCallback),this._colorScale=t,this._colorScale.onUpdate(this._redrawCallback),this.redraw(),this):this._colorScale},n.prototype.destroy=function(){e.prototype.destroy.call(this),this._colorScale.offUpdate(this._redrawCallback)},n.prototype._calculateLayoutInfo=function(t,e){
var n=this,r=this._measurer.measure().height,i=Math.max(0,t-this._padding),o=this._colorScale.domain().slice().sort(function(t,e){return n._comparator(n._formatter(t),n._formatter(e))}),a=d3.map(),s=d3.map();o.forEach(function(t){var e=r+n._measurer.measure(n._formatter(t)).width+n._padding,o=Math.min(e,i);a.set(t,o),s.set(t,e)});var l=this._packRows(i,o,a),u=Math.floor((e-2*this._padding)/r);return u!==u&&(u=0),{textHeight:r,entryLengths:a,untruncatedEntryLengths:s,rows:l,numRowsToDraw:Math.max(Math.min(u,l.length),0)}},n.prototype.requestedSpace=function(e,n){var r=this._calculateLayoutInfo(e,n),i=r.rows.map(function(t){return d3.sum(t,function(t){return r.untruncatedEntryLengths.get(t)})}),o=t.Utils.Math.max(i,0);return{minWidth:this._padding+o,minHeight:r.rows.length*r.textHeight+2*this._padding}},n.prototype._packRows=function(t,e,n){var r=this,i=[],o=[],a=t;return e.forEach(function(e){var s=n.get(e);(s>a||o.length===r._maxEntriesPerRow)&&(i.push(o),o=[],a=t),o.push(e),a-=s}),0!==o.length&&i.push(o),i},n.prototype.entitiesAt=function(t){if(!this._isSetup)return[];var e=[],r=this._calculateLayoutInfo(this.width(),this.height()),i=this._padding,o=this;return this.content().selectAll("g."+n.LEGEND_ROW_CLASS).each(function(a,s){var l=s*r.textHeight+i,u=(s+1)*r.textHeight+i,c=(l+u)/2,h=i,d=i;d3.select(this).selectAll("g."+n.LEGEND_ENTRY_CLASS).each(function(n){d+=r.entryLengths.get(n);var i=h+r.textHeight/2;if(d>=t.x&&h<=t.x&&u>=t.y&&l<=t.y){var a=d3.select(this),s=a.datum();e.push({datum:s,position:{x:i,y:c},selection:a,component:o})}h+=r.entryLengths.get(n)})}),e},n.prototype.renderImmediately=function(){var t=this;e.prototype.renderImmediately.call(this);var r=this._calculateLayoutInfo(this.width(),this.height()),i=r.rows.slice(0,r.numRowsToDraw),o=this.content().selectAll("g."+n.LEGEND_ROW_CLASS).data(i);o.enter().append("g").classed(n.LEGEND_ROW_CLASS,!0),o.exit().remove(),o.attr("transform",function(e,n){return"translate(0, "+(n*r.textHeight+t._padding)+")"});var a=o.selectAll("g."+n.LEGEND_ENTRY_CLASS).data(function(t){return t}),s=a.enter().append("g").classed(n.LEGEND_ENTRY_CLASS,!0);s.append("path"),s.append("g").classed("text-container",!0),a.exit().remove();var l=this._padding;o.each(function(t){var e=l,i=d3.select(this).selectAll("g."+n.LEGEND_ENTRY_CLASS);i.attr("transform",function(t,n){var i="translate("+e+", 0)";return e+=r.entryLengths.get(t),i})}),a.select("path").attr("d",function(e,n,i){return t.symbol()(e,i)(.6*r.textHeight)}).attr("transform","translate("+r.textHeight/2+","+r.textHeight/2+")").attr("fill",function(e){return t._colorScale.scale(e)}).attr("opacity",function(e,n,r){return t.symbolOpacity()(e,r)}).classed(n.LEGEND_SYMBOL_CLASS,!0);var u=this._padding,c=a.select("g.text-container");c.text("");var h=this;return c.attr("transform","translate("+r.textHeight+", 0)").each(function(t){var e=d3.select(this),n=r.entryLengths.get(t)-r.textHeight-u,i={selection:e,xAlign:"left",yAlign:"top",textRotation:0};h._writer.write(h._formatter(t),n,h.height(),i)}),this},n.prototype.symbol=function(t){return null==t?this._symbolFactoryAccessor:(this._symbolFactoryAccessor=t,this.render(),this)},n.prototype.symbolOpacity=function(t){return null==t?this._symbolOpacityAccessor:("number"==typeof t?this._symbolOpacityAccessor=function(){return t}:this._symbolOpacityAccessor=t,this.render(),this)},n.prototype.fixedWidth=function(){return!0},n.prototype.fixedHeight=function(){return!0},n.LEGEND_ROW_CLASS="legend-row",n.LEGEND_ENTRY_CLASS="legend-entry",n.LEGEND_SYMBOL_CLASS="legend-symbol",n}(t.Component);e.Legend=n}(e=t.Components||(t.Components={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(n){var r=this;if(e.call(this),this._textPadding=5,null==n)throw new Error("InterpolatedColorLegend requires a interpolatedColorScale");this._scale=n,this._redrawCallback=function(t){return r.redraw()},this._scale.onUpdate(this._redrawCallback),this._formatter=t.Formatters.general(),this._orientation="horizontal",this._expands=!1,this.addClass("legend"),this.addClass("interpolated-color-legend")}return i(n,e),n.prototype.destroy=function(){e.prototype.destroy.call(this),this._scale.offUpdate(this._redrawCallback)},n.prototype.formatter=function(t){return void 0===t?this._formatter:(this._formatter=t,this.redraw(),this)},n.prototype.expands=function(t){return null==t?this._expands:(this._expands=t,this.redraw(),this)},n._ensureOrientation=function(t){if(t=t.toLowerCase(),"horizontal"===t||"left"===t||"right"===t)return t;throw new Error('"'+t+'" is not a valid orientation for InterpolatedColorLegend')},n.prototype.orientation=function(t){return null==t?this._orientation:(this._orientation=n._ensureOrientation(t),this.redraw(),this)},n.prototype.fixedWidth=function(){return!this.expands()||this._isVertical()},n.prototype.fixedHeight=function(){return!this.expands()||!this._isVertical()},n.prototype._generateTicks=function(t){void 0===t&&(t=n._DEFAULT_NUM_SWATCHES);var e=this._scale.domain();if(1===t)return[e[0]];for(var r=(e[1]-e[0])/(t-1),i=[],o=0;t>o;o++)i.push(e[0]+r*o);return i},n.prototype._setup=function(){e.prototype._setup.call(this),this._swatchContainer=this.content().append("g").classed("swatch-container",!0),this._swatchBoundingBox=this.content().append("rect").classed("swatch-bounding-box",!0),this._lowerLabel=this.content().append("g").classed(n.LEGEND_LABEL_CLASS,!0),this._upperLabel=this.content().append("g").classed(n.LEGEND_LABEL_CLASS,!0),this._measurer=new o.Measurers.Measurer(this.content()),this._wrapper=new o.Wrappers.Wrapper,this._writer=new o.Writers.Writer(this._measurer,this._wrapper)},n.prototype.requestedSpace=function(e,r){var i,o,a=this,s=this._measurer.measure().height,l=s,u=this._scale.domain(),c=u.map(function(t){return a._measurer.measure(a._formatter(t)).width}),h=n._DEFAULT_NUM_SWATCHES;if(this._isVertical()){var d=t.Utils.Math.max(c,0);o=l+s+this._textPadding+d+this._textPadding,i=h*s}else i=l+s+l,o=this._textPadding+c[0]+h*s+c[1]+this._textPadding;return{minWidth:o,minHeight:i}},n.prototype._isVertical=function(){return"horizontal"!==this._orientation},n.prototype.renderImmediately=function(){var n=this;e.prototype.renderImmediately.call(this);var r,i,o,a,s,l,u=this._scale.domain(),c=this._formatter(u[0]),h=this._measurer.measure(c).width,d=this._formatter(u[1]),f=this._measurer.measure(d).width,p=this._measurer.measure().height,m=this._textPadding,g={x:0,y:0},v={x:0,y:0},_={selection:this._lowerLabel,xAlign:"center",yAlign:"center",textRotation:0},y={selection:this._upperLabel,xAlign:"center",yAlign:"center",textRotation:0},w={x:0,y:0,width:0,height:0};if(this._isVertical()){l=Math.floor(this.height());var b=Math.max(h,f);s=(this.width()-b-2*this._textPadding)/2,r=Math.max(this.width()-s-2*m-b,0),i=1,a=function(t,e){return n.height()-(e+1)},y.yAlign="top",g.y=0,_.yAlign="bottom",v.y=0,"left"===this._orientation?(o=function(t,e){return m+b+m},y.xAlign="right",g.x=-(s+r+m),_.xAlign="right",v.x=-(s+r+m)):(o=function(t,e){return s},y.xAlign="left",g.x=s+r+m,_.xAlign="left",v.x=s+r+m),w.width=r,w.height=l*i}else s=Math.max(m,(this.height()-p)/2),l=Math.max(Math.floor(this.width()-4*m-h-f),0),r=1,i=Math.max(this.height()-2*s,0),o=function(t,e){return Math.floor(h+2*m)+e},a=function(t,e){return s},y.xAlign="right",g.x=-m,_.xAlign="left",v.x=m,w.y=s,w.width=l*r,w.height=i;w.x=o(null,0),this._upperLabel.text(""),this._writer.write(d,this.width(),this.height(),y);var x="translate("+g.x+", "+g.y+")";this._upperLabel.attr("transform",x),this._lowerLabel.text(""),this._writer.write(c,this.width(),this.height(),_);var S="translate("+v.x+", "+v.y+")";this._lowerLabel.attr("transform",S),this._swatchBoundingBox.attr(w);var E=this._generateTicks(l),$=this._swatchContainer.selectAll("rect.swatch").data(E),T=$.enter().append("rect").classed("swatch",!0);return $.exit().remove(),$.attr({fill:function(t,e){return n._scale.scale(t)},width:r,height:i,x:o,y:a,"shape-rendering":"crispEdges"}),t.Configs.ADD_TITLE_ELEMENTS&&T.append("title").text(function(t){return n._formatter(t)}),this},n._DEFAULT_NUM_SWATCHES=11,n.LEGEND_LABEL_CLASS="legend-label",n}(t.Component);e.InterpolatedColorLegend=n}(e=t.Components||(t.Components={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(n,r){var i=this;if(null!=n&&!t.QuantitativeScale.prototype.isPrototypeOf(n))throw new Error("xScale needs to inherit from Scale.QuantitativeScale");if(null!=r&&!t.QuantitativeScale.prototype.isPrototypeOf(r))throw new Error("yScale needs to inherit from Scale.QuantitativeScale");e.call(this),this.addClass("gridlines"),this._xScale=n,this._yScale=r,this._renderCallback=function(t){return i.render()},this._xScale&&this._xScale.onUpdate(this._renderCallback),this._yScale&&this._yScale.onUpdate(this._renderCallback)}return i(n,e),n.prototype.destroy=function(){return e.prototype.destroy.call(this),this._xScale&&this._xScale.offUpdate(this._renderCallback),this._yScale&&this._yScale.offUpdate(this._renderCallback),this},n.prototype._setup=function(){e.prototype._setup.call(this),this._xLinesContainer=this.content().append("g").classed("x-gridlines",!0),this._yLinesContainer=this.content().append("g").classed("y-gridlines",!0)},n.prototype.renderImmediately=function(){return e.prototype.renderImmediately.call(this),this._redrawXLines(),this._redrawYLines(),this},n.prototype.computeLayout=function(t,n,r){return e.prototype.computeLayout.call(this,t,n,r),null!=this._xScale&&this._xScale.range([0,this.width()]),null!=this._yScale&&this._yScale.range([this.height(),0]),this},n.prototype._redrawXLines=function(){var t=this;if(this._xScale){var e=this._xScale.ticks(),n=function(e){return t._xScale.scale(e)},r=this._xLinesContainer.selectAll("line").data(e);r.enter().append("line"),r.attr("x1",n).attr("y1",0).attr("x2",n).attr("y2",this.height()).classed("zeroline",function(t){return 0===t}),r.exit().remove()}},n.prototype._redrawYLines=function(){var t=this;if(this._yScale){var e=this._yScale.ticks(),n=function(e){return t._yScale.scale(e)},r=this._yLinesContainer.selectAll("line").data(e);r.enter().append("line"),r.attr("x1",0).attr("y1",n).attr("x2",this.width()).attr("y2",n).classed("zeroline",function(t){return 0===t}),r.exit().remove()}},n}(t.Component);e.Gridlines=n}(e=t.Components||(t.Components={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(t){var n=this;void 0===t&&(t=[]),e.call(this),this._rowPadding=0,this._columnPadding=0,this._rows=[],this._rowWeights=[],this._columnWeights=[],this._nRows=0,this._nCols=0,this._calculatedLayout=null,this.addClass("table"),t.forEach(function(t,e){t.forEach(function(t,r){null!=t&&n.add(t,e,r)})})}return i(n,e),n.prototype._forEach=function(t){for(var e=0;e<this._nRows;e++)for(var n=0;n<this._nCols;n++)null!=this._rows[e][n]&&t(this._rows[e][n])},n.prototype.has=function(t){for(var e=0;e<this._nRows;e++)for(var n=0;n<this._nCols;n++)if(this._rows[e][n]===t)return!0;return!1},n.prototype.componentAt=function(t,e){return 0>t||t>=this._nRows||0>e||e>=this._nCols?null:this._rows[t][e]},n.prototype.add=function(t,e,n){if(null==t)throw Error("Cannot add null to a table cell");if(!this.has(t)){var r=this._rows[e]&&this._rows[e][n];if(null!=r)throw new Error("cell is occupied");t.detach(),this._nRows=Math.max(e+1,this._nRows),this._nCols=Math.max(n+1,this._nCols),this._padTableToSize(this._nRows,this._nCols),this._rows[e][n]=t,this._adoptAndAnchor(t),this.redraw()}return this},n.prototype._remove=function(t){for(var e=0;e<this._nRows;e++)for(var n=0;n<this._nCols;n++)if(this._rows[e][n]===t)return this._rows[e][n]=null,!0;return!1},n.prototype._iterateLayout=function(e,r,i){void 0===i&&(i=!1);for(var o,a,s,l,u,c=this._rows,h=d3.transpose(this._rows),d=e-this._columnPadding*(this._nCols-1),f=r-this._rowPadding*(this._nRows-1),p=n._calcComponentWeights(this._rowWeights,c,function(t){return null==t||t.fixedHeight()}),m=n._calcComponentWeights(this._columnWeights,h,function(t){return null==t||t.fixedWidth()}),g=m.map(function(t){return 0===t?.5:t}),v=p.map(function(t){return 0===t?.5:t}),_=n._calcProportionalSpace(g,d),y=n._calcProportionalSpace(v,f),w=t.Utils.Array.createFilledArray(0,this._nCols),b=t.Utils.Array.createFilledArray(0,this._nRows),x=0;;){var S=t.Utils.Array.add(b,y),E=t.Utils.Array.add(w,_);s=this._determineGuarantees(E,S,i),w=s.guaranteedWidths,b=s.guaranteedHeights,l=s.wantsWidthArr.some(function(t){return t}),u=s.wantsHeightArr.some(function(t){return t});var $=o,T=a;o=d-d3.sum(s.guaranteedWidths),a=f-d3.sum(s.guaranteedHeights);var C=void 0;l?(C=s.wantsWidthArr.map(function(t){return t?.1:0}),C=t.Utils.Array.add(C,m)):C=m;var k=void 0;u?(k=s.wantsHeightArr.map(function(t){return t?.1:0}),k=t.Utils.Array.add(k,p)):k=p,_=n._calcProportionalSpace(C,o),y=n._calcProportionalSpace(k,a),x++;var M=o>0&&o!==$,A=a>0&&a!==T;if(!M&&!A)break;if(x>5)break}return o=d-d3.sum(s.guaranteedWidths),a=f-d3.sum(s.guaranteedHeights),_=n._calcProportionalSpace(m,o),y=n._calcProportionalSpace(p,a),{colProportionalSpace:_,rowProportionalSpace:y,guaranteedWidths:s.guaranteedWidths,guaranteedHeights:s.guaranteedHeights,wantsWidth:l,wantsHeight:u}},n.prototype._determineGuarantees=function(e,n,r){void 0===r&&(r=!1);var i=t.Utils.Array.createFilledArray(0,this._nCols),o=t.Utils.Array.createFilledArray(0,this._nRows),a=t.Utils.Array.createFilledArray(!1,this._nCols),s=t.Utils.Array.createFilledArray(!1,this._nRows);return this._rows.forEach(function(t,l){t.forEach(function(t,u){var c;c=null!=t?t.requestedSpace(e[u],n[l]):{minWidth:0,minHeight:0};var h=r?Math.min(c.minWidth,e[u]):c.minWidth;i[u]=Math.max(i[u],h);var d=r?Math.min(c.minHeight,n[l]):c.minHeight;o[l]=Math.max(o[l],d);var f=c.minWidth>e[u];a[u]=a[u]||f;var p=c.minHeight>n[l];s[l]=s[l]||p})}),{guaranteedWidths:i,guaranteedHeights:o,wantsWidthArr:a,wantsHeightArr:s}},n.prototype.requestedSpace=function(t,e){return this._calculatedLayout=this._iterateLayout(t,e),{minWidth:d3.sum(this._calculatedLayout.guaranteedWidths),minHeight:d3.sum(this._calculatedLayout.guaranteedHeights)}},n.prototype.computeLayout=function(n,r,i){var o=this;e.prototype.computeLayout.call(this,n,r,i);var a=d3.sum(this._calculatedLayout.guaranteedWidths),s=d3.sum(this._calculatedLayout.guaranteedHeights),l=this._calculatedLayout;(a>this.width()||s>this.height())&&(l=this._iterateLayout(this.width(),this.height(),!0));var u=0,c=t.Utils.Array.add(l.rowProportionalSpace,l.guaranteedHeights),h=t.Utils.Array.add(l.colProportionalSpace,l.guaranteedWidths);return this._rows.forEach(function(t,e){var n=0;t.forEach(function(t,r){null!=t&&t.computeLayout({x:n,y:u},h[r],c[e]),n+=h[r]+o._columnPadding}),u+=c[e]+o._rowPadding}),this},n.prototype.rowPadding=function(e){if(null==e)return this._rowPadding;if(!t.Utils.Math.isValidNumber(e)||0>e)throw Error("rowPadding must be a non-negative finite value");return this._rowPadding=e,this.redraw(),this},n.prototype.columnPadding=function(e){if(null==e)return this._columnPadding;if(!t.Utils.Math.isValidNumber(e)||0>e)throw Error("columnPadding must be a non-negative finite value");return this._columnPadding=e,this.redraw(),this},n.prototype.rowWeight=function(e,n){if(null==n)return this._rowWeights[e];if(!t.Utils.Math.isValidNumber(n)||0>n)throw Error("rowWeight must be a non-negative finite value");return this._rowWeights[e]=n,this.redraw(),this},n.prototype.columnWeight=function(e,n){if(null==n)return this._columnWeights[e];if(!t.Utils.Math.isValidNumber(n)||0>n)throw Error("columnWeight must be a non-negative finite value");return this._columnWeights[e]=n,this.redraw(),this},n.prototype.fixedWidth=function(){var t=d3.transpose(this._rows);return n._fixedSpace(t,function(t){return null==t||t.fixedWidth()})},n.prototype.fixedHeight=function(){return n._fixedSpace(this._rows,function(t){return null==t||t.fixedHeight()})},n.prototype._padTableToSize=function(t,e){for(var n=0;t>n;n++){void 0===this._rows[n]&&(this._rows[n]=[],this._rowWeights[n]=null);for(var r=0;e>r;r++)void 0===this._rows[n][r]&&(this._rows[n][r]=null)}for(var r=0;e>r;r++)void 0===this._columnWeights[r]&&(this._columnWeights[r]=null)},n._calcComponentWeights=function(t,e,n){return t.map(function(t,r){if(null!=t)return t;var i=e[r].map(n),o=i.reduce(function(t,e){return t&&e},!0);return o?0:1})},n._calcProportionalSpace=function(e,n){var r=d3.sum(e);return 0===r?t.Utils.Array.createFilledArray(0,e.length):e.map(function(t){return n*t/r})},n._fixedSpace=function(t,e){var n=function(t){return t.reduce(function(t,e){return t&&e},!0)},r=function(t){return n(t.map(e))};return n(t.map(r))},n}(t.ComponentContainer);e.Table=n}(e=t.Components||(t.Components={}))}(r||(r={}));var r;!function(t){var e;!function(e){!function(t){t[t.VALUE=0]="VALUE",t[t.PIXEL=1]="PIXEL"}(e.PropertyMode||(e.PropertyMode={}));var n=e.PropertyMode,r=function(e){function r(){var t=this;e.call(this),this._boxVisible=!1,this._boxBounds={topLeft:{x:0,y:0},bottomRight:{x:0,y:0}},this._xBoundsMode=n.PIXEL,this._yBoundsMode=n.PIXEL,this.addClass("selection-box-layer"),this._adjustBoundsCallback=function(){t.render()},this._clipPathEnabled=!0,this._xExtent=[void 0,void 0],this._yExtent=[void 0,void 0]}return i(r,e),r.prototype._setup=function(){e.prototype._setup.call(this),this._box=this.content().append("g").classed("selection-box",!0).remove(),this._boxArea=this._box.append("rect").classed("selection-area",!0)},r.prototype._sizeFromOffer=function(t,e){return{width:t,height:e}},r.prototype.bounds=function(t){return null==t?this._getBounds():(this._setBounds(t),this._xBoundsMode=n.PIXEL,this._yBoundsMode=n.PIXEL,this.render(),this)},r.prototype._setBounds=function(t){var e={x:Math.min(t.topLeft.x,t.bottomRight.x),y:Math.min(t.topLeft.y,t.bottomRight.y)},n={x:Math.max(t.topLeft.x,t.bottomRight.x),y:Math.max(t.topLeft.y,t.bottomRight.y)};this._boxBounds={topLeft:e,bottomRight:n}},r.prototype._getBounds=function(){return{topLeft:{x:this._xBoundsMode===n.PIXEL?this._boxBounds.topLeft.x:null==this._xScale?0:Math.min(this.xScale().scale(this.xExtent()[0]),this.xScale().scale(this.xExtent()[1])),y:this._yBoundsMode===n.PIXEL?this._boxBounds.topLeft.y:null==this._yScale?0:Math.min(this.yScale().scale(this.yExtent()[0]),this.yScale().scale(this.yExtent()[1]))},bottomRight:{x:this._xBoundsMode===n.PIXEL?this._boxBounds.bottomRight.x:null==this._xScale?0:Math.max(this.xScale().scale(this.xExtent()[0]),this.xScale().scale(this.xExtent()[1])),y:this._yBoundsMode===n.PIXEL?this._boxBounds.bottomRight.y:null==this._yScale?0:Math.max(this.yScale().scale(this.yExtent()[0]),this.yScale().scale(this.yExtent()[1]))}}},r.prototype.renderImmediately=function(){if(e.prototype.renderImmediately.call(this),this._boxVisible){var n=this.bounds(),r=n.topLeft.y,i=n.bottomRight.y,o=n.topLeft.x,a=n.bottomRight.x;if(!(t.Utils.Math.isValidNumber(r)&&t.Utils.Math.isValidNumber(i)&&t.Utils.Math.isValidNumber(o)&&t.Utils.Math.isValidNumber(a)))throw new Error("bounds have not been properly set");this._boxArea.attr({x:o,y:r,width:a-o,height:i-r}),this.content().node().appendChild(this._box.node())}else this._box.remove();return this},r.prototype.boxVisible=function(t){return null==t?this._boxVisible:(this._boxVisible=t,this.render(),this)},r.prototype.fixedWidth=function(){return!0},r.prototype.fixedHeight=function(){return!0},r.prototype.xScale=function(t){return null==t?this._xScale:(null!=this._xScale&&this._xScale.offUpdate(this._adjustBoundsCallback),this._xScale=t,this._xBoundsMode=n.VALUE,this._xScale.onUpdate(this._adjustBoundsCallback),this.render(),this)},r.prototype.yScale=function(t){return null==t?this._yScale:(null!=this._yScale&&this._yScale.offUpdate(this._adjustBoundsCallback),this._yScale=t,this._yBoundsMode=n.VALUE,this._yScale.onUpdate(this._adjustBoundsCallback),this.render(),this)},r.prototype.xExtent=function(t){return null==t?this._getXExtent():(this._setXExtent(t),this._xBoundsMode=n.VALUE,this.render(),this)},r.prototype._getXExtent=function(){return this._xBoundsMode===n.VALUE?this._xExtent:null==this._xScale?[void 0,void 0]:[this._xScale.invert(this._boxBounds.topLeft.x),this._xScale.invert(this._boxBounds.bottomRight.x)]},r.prototype._setXExtent=function(t){this._xExtent=t},r.prototype.yExtent=function(t){return null==t?this._getYExtent():(this._setYExtent(t),this._yBoundsMode=n.VALUE,this.render(),this)},r.prototype._getYExtent=function(){return this._yBoundsMode===n.VALUE?this._yExtent:null==this._yScale?[void 0,void 0]:[this._yScale.invert(this._boxBounds.topLeft.y),this._yScale.invert(this._boxBounds.bottomRight.y)]},r.prototype._setYExtent=function(t){this._yExtent=t},r.prototype.destroy=function(){e.prototype.destroy.call(this),null!=this._xScale&&this.xScale().offUpdate(this._adjustBoundsCallback),null!=this._yScale&&this.yScale().offUpdate(this._adjustBoundsCallback)},r}(t.Component);e.SelectionBoxLayer=r}(e=t.Components||(t.Components={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n;!function(t){t[t.VALUE=0]="VALUE",t[t.PIXEL=1]="PIXEL"}(n||(n={}));var r=function(e){function r(t){var i=this;if(e.call(this),this._mode=n.VALUE,t!==r.ORIENTATION_VERTICAL&&t!==r.ORIENTATION_HORIZONTAL)throw new Error(t+" is not a valid orientation for GuideLineLayer");this._orientation=t,this._clipPathEnabled=!0,this.addClass("guide-line-layer"),this._isVertical()?this.addClass("vertical"):this.addClass("horizontal"),this._scaleUpdateCallback=function(){i._syncPixelPositionAndValue(),i.render()}}return i(r,e),r.prototype._setup=function(){e.prototype._setup.call(this),this._guideLine=this.content().append("line").classed("guide-line",!0)},r.prototype._sizeFromOffer=function(t,e){return{width:t,height:e}},r.prototype._isVertical=function(){return this._orientation===r.ORIENTATION_VERTICAL},r.prototype.fixedWidth=function(){return!0},r.prototype.fixedHeight=function(){return!0},r.prototype.computeLayout=function(t,n,r){return e.prototype.computeLayout.call(this,t,n,r),null!=this.scale()&&(this._isVertical()?this.scale().range([0,this.width()]):this.scale().range([this.height(),0])),this},r.prototype.renderImmediately=function(){return e.prototype.renderImmediately.call(this),this._syncPixelPositionAndValue(),this._guideLine.attr({x1:this._isVertical()?this.pixelPosition():0,y1:this._isVertical()?0:this.pixelPosition(),x2:this._isVertical()?this.pixelPosition():this.width(),y2:this._isVertical()?this.height():this.pixelPosition()}),this},r.prototype._syncPixelPositionAndValue=function(){null!=this.scale()&&(this._mode===n.VALUE&&null!=this.value()?this._pixelPosition=this.scale().scale(this.value()):this._mode===n.PIXEL&&null!=this.pixelPosition()&&(this._value=this.scale().invert(this.pixelPosition())))},r.prototype._setPixelPositionWithoutChangingMode=function(t){this._pixelPosition=t,null!=this.scale()&&(this._value=this.scale().invert(this.pixelPosition())),this.render()},r.prototype.scale=function(t){if(null==t)return this._scale;var e=this._scale;return null!=e&&e.offUpdate(this._scaleUpdateCallback),this._scale=t,this._scale.onUpdate(this._scaleUpdateCallback),this._syncPixelPositionAndValue(),this.redraw(),this},r.prototype.value=function(t){return null==t?this._value:(this._value=t,this._mode=n.VALUE,this._syncPixelPositionAndValue(),this.render(),this)},r.prototype.pixelPosition=function(e){if(null==e)return this._pixelPosition;if(!t.Utils.Math.isValidNumber(e))throw new Error("pixelPosition must be a finite number");return this._pixelPosition=e,this._mode=n.PIXEL,this._syncPixelPositionAndValue(),this.render(),this},r.prototype.destroy=function(){e.prototype.destroy.call(this),null!=this.scale()&&this.scale().offUpdate(this._scaleUpdateCallback)},r.ORIENTATION_VERTICAL="vertical",r.ORIENTATION_HORIZONTAL="horizontal",r}(t.Component);e.GuideLineLayer=r}(e=t.Components||(t.Components={}))}(r||(r={}));var r;!function(t){var e;!function(t){var e;!function(t){t.MAIN="main",t.RESET="reset"}(e=t.Animator||(t.Animator={}))}(e=t.Plots||(t.Plots={}))}(r||(r={}));var r;!function(t){var e=function(e){function n(){var r=this;e.call(this),this._dataChanged=!1,this._animate=!1,this._animators={},this._clipPathEnabled=!0,this.addClass("plot"),this._datasetToDrawer=new t.Utils.Map,this._attrBindings=d3.map(),this._attrExtents=d3.map(),this._includedValuesProvider=function(t){return r._includedValuesForScale(t)},this._renderCallback=function(t){return r.render()},this._onDatasetUpdateCallback=function(){return r._onDatasetUpdate()},this._propertyBindings=d3.map(),this._propertyExtents=d3.map();var i=(new t.Animators.Easing).maxTotalDuration(n._ANIMATION_MAX_DURATION);this.animator(t.Plots.Animator.MAIN,i),this.animator(t.Plots.Animator.RESET,new t.Animators.Null)}return i(n,e),n.prototype.anchor=function(t){return e.prototype.anchor.call(this,t),this._dataChanged=!0,this._updateExtents(),this},n.prototype._setup=function(){var t=this;e.prototype._setup.call(this),this._renderArea=this.content().append("g").classed("render-area",!0),this.datasets().forEach(function(e){return t._createNodesForDataset(e)})},n.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),this._scales().forEach(function(e){return e.offUpdate(t._renderCallback)}),this.datasets([])},n.prototype._createNodesForDataset=function(t){var e=this._datasetToDrawer.get(t);return e.renderArea(this._renderArea.append("g")),e},n.prototype._createDrawer=function(e){return new t.Drawer(e)},n.prototype._getAnimator=function(e){return this._animateOnNextRender()?this._animators[e]||new t.Animators.Null:new t.Animators.Null},n.prototype._onDatasetUpdate=function(){this._updateExtents(),this._dataChanged=!0,this.render()},n.prototype.attr=function(t,e,n){return null==e?this._attrBindings.get(t):(this._bindAttr(t,e,n),this.render(),this)},n.prototype._bindProperty=function(t,e,n){var r=this._propertyBindings.get(t),i=null!=r?r.scale:null;this._propertyBindings.set(t,{accessor:d3.functor(e),scale:n}),this._updateExtentsForProperty(t),null!=i&&this._uninstallScaleForKey(i,t),null!=n&&this._installScaleForKey(n,t)},n.prototype._bindAttr=function(t,e,n){var r=this._attrBindings.get(t),i=null!=r?r.scale:null;this._attrBindings.set(t,{accessor:d3.functor(e),scale:n}),this._updateExtentsForAttr(t),null!=i&&this._uninstallScaleForKey(i,t),null!=n&&this._installScaleForKey(n,t)},n.prototype._generateAttrToProjector=function(){var t={};this._attrBindings.forEach(function(e,n){var r=n.accessor,i=n.scale,o=i?function(t,e,n){return i.scale(r(t,e,n))}:r;t[e]=o});var e=this._propertyProjectors();return Object.keys(e).forEach(function(n){null==t[n]&&(t[n]=e[n])}),t},n.prototype.renderImmediately=function(){return e.prototype.renderImmediately.call(this),this._isAnchored&&(this._paint(),this._dataChanged=!1),this},n.prototype.animated=function(t){return null==t?this._animate:(this._animate=t,this)},n.prototype.detach=function(){return e.prototype.detach.call(this),this._updateExtents(),this},n.prototype._scales=function(){var t=[];return this._attrBindings.forEach(function(e,n){var r=n.scale;null!=r&&-1===t.indexOf(r)&&t.push(r)}),this._propertyBindings.forEach(function(e,n){var r=n.scale;null!=r&&-1===t.indexOf(r)&&t.push(r)}),t},n.prototype._updateExtents=function(){var t=this;this._attrBindings.forEach(function(e){return t._updateExtentsForAttr(e)}),this._propertyExtents.forEach(function(e){return t._updateExtentsForProperty(e)}),this._scales().forEach(function(e){return e.addIncludedValuesProvider(t._includedValuesProvider)})},n.prototype._updateExtentsForAttr=function(t){this._updateExtentsForKey(t,this._attrBindings,this._attrExtents,null)},n.prototype._updateExtentsForProperty=function(t){this._updateExtentsForKey(t,this._propertyBindings,this._propertyExtents,this._filterForProperty(t))},n.prototype._filterForProperty=function(t){return null},n.prototype._updateExtentsForKey=function(t,e,n,r){var i=this,o=e.get(t);null!=o&&null!=o.accessor&&n.set(t,this.datasets().map(function(t){return i._computeExtent(t,o,r)}))},n.prototype._computeExtent=function(t,e,n){var r=e.accessor,i=e.scale;if(null==i)return[];var o=t.data();null!=n&&(o=o.filter(function(e,r){return n(e,r,t)}));var a=function(e,n){return r(e,n,t)},s=o.map(a);return i.extentOfValues(s)},n.prototype._extentsForProperty=function(t){return this._propertyExtents.get(t)},n.prototype._includedValuesForScale=function(t){var e=this;if(!this._isAnchored)return[];var n=[];return this._attrBindings.forEach(function(r,i){if(i.scale===t){var o=e._attrExtents.get(r);null!=o&&(n=n.concat(d3.merge(o)))}}),this._propertyBindings.forEach(function(r,i){if(i.scale===t){var o=e._extentsForProperty(r);null!=o&&(n=n.concat(d3.merge(o)))}}),n},n.prototype.animator=function(t,e){return void 0===e?this._animators[t]:(this._animators[t]=e,this)},n.prototype.addDataset=function(t){return this._addDataset(t),this._onDatasetUpdate(),this},n.prototype._addDataset=function(t){this._removeDataset(t);var e=this._createDrawer(t);return this._datasetToDrawer.set(t,e),this._isSetup&&this._createNodesForDataset(t),t.onUpdate(this._onDatasetUpdateCallback),this},n.prototype.removeDataset=function(t){return this._removeDataset(t),this._onDatasetUpdate(),this},n.prototype._removeDataset=function(t){return-1===this.datasets().indexOf(t)?this:(this._removeDatasetNodes(t),t.offUpdate(this._onDatasetUpdateCallback),this._datasetToDrawer["delete"](t),this)},n.prototype._removeDatasetNodes=function(t){var e=this._datasetToDrawer.get(t);e.remove()},n.prototype.datasets=function(t){var e=this,n=[];return this._datasetToDrawer.forEach(function(t,e){return n.push(e)}),null==t?n:(n.forEach(function(t){return e._removeDataset(t)}),t.forEach(function(t){return e._addDataset(t)}),this._onDatasetUpdate(),this)},n.prototype._getDrawersInOrder=function(){var t=this;return this.datasets().map(function(e){return t._datasetToDrawer.get(e)})},n.prototype._generateDrawSteps=function(){return[{attrToProjector:this._generateAttrToProjector(),animator:new t.Animators.Null}]},n.prototype._additionalPaint=function(t){},n.prototype._getDataToDraw=function(){var e=new t.Utils.Map;return this.datasets().forEach(function(t){return e.set(t,t.data())}),e},n.prototype._paint=function(){var e=this._generateDrawSteps(),n=this._getDataToDraw(),r=this._getDrawersInOrder();this.datasets().forEach(function(t,i){return r[i].draw(n.get(t),e)});var i=this.datasets().map(function(t,i){return r[i].totalDrawTime(n.get(t),e)}),o=t.Utils.Math.max(i,0);this._additionalPaint(o)},n.prototype.selections=function(t){var e=this;void 0===t&&(t=this.datasets());var n=[];return t.forEach(function(t){var r=e._datasetToDrawer.get(t);null!=r&&r.renderArea().selectAll(r.selector()).each(function(){n.push(this)})}),d3.selectAll(n)},n.prototype.entities=function(t){var e=this;return void 0===t&&(t=this.datasets()),this._lightweightEntities(t).map(function(t){return e._lightweightPlotEntityToPlotEntity(t)})},n.prototype._lightweightEntities=function(e){var n=this;void 0===e&&(e=this.datasets());var r=[];return e.forEach(function(e){var i=n._datasetToDrawer.get(e),o=0;e.data().forEach(function(a,s){var l=n._pixelPoint(a,s,e);t.Utils.Math.isNaN(l.x)||t.Utils.Math.isNaN(l.y)||(r.push({datum:a,index:s,dataset:e,position:l,component:n,drawer:i,validDatumIndex:o}),o++)})}),r},n.prototype._lightweightPlotEntityToPlotEntity=function(t){var e={datum:t.datum,position:t.position,dataset:t.dataset,index:t.index,component:t.component,selection:t.drawer.selectionForIndex(t.validDatumIndex)};return e},n.prototype.entityNearest=function(e){var n,r=this,i=1/0,o=this._lightweightEntities();return o.forEach(function(o){if(r._entityVisibleOnPlot(o.position,o.datum,o.index,o.dataset)){var a=t.Utils.Math.distanceSquared(o.position,e);i>a&&(i=a,n=o)}}),void 0!==n?this._lightweightPlotEntityToPlotEntity(n):void 0},n.prototype._entityVisibleOnPlot=function(t,e,n,r){return!(t.x<0||t.y<0||t.x>this.width()||t.y>this.height())},n.prototype._uninstallScaleForKey=function(t,e){t.offUpdate(this._renderCallback),t.removeIncludedValuesProvider(this._includedValuesProvider);
},n.prototype._installScaleForKey=function(t,e){t.onUpdate(this._renderCallback),t.addIncludedValuesProvider(this._includedValuesProvider)},n.prototype._propertyProjectors=function(){return{}},n._scaledAccessor=function(t){return null==t.scale?t.accessor:function(e,n,r){return t.scale.scale(t.accessor(e,n,r))}},n.prototype._pixelPoint=function(t,e,n){return{x:0,y:0}},n.prototype._animateOnNextRender=function(){return this._animate&&this._dataChanged},n._ANIMATION_MAX_DURATION=600,n}(t.Component);t.Plot=e}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(){var n=this;e.call(this),this._labelFormatter=t.Formatters.identity(),this._labelsEnabled=!1,this.innerRadius(0),this.outerRadius(function(){return Math.min(n.width(),n.height())/2}),this.addClass("pie-plot"),this.attr("fill",function(t,e){return String(e)},new t.Scales.Color),this._strokeDrawers=new t.Utils.Map}return i(n,e),n.prototype._setup=function(){var t=this;e.prototype._setup.call(this),this._strokeDrawers.forEach(function(e){return e.renderArea(t._renderArea.append("g"))})},n.prototype.computeLayout=function(t,n,r){e.prototype.computeLayout.call(this,t,n,r),this._renderArea.attr("transform","translate("+this.width()/2+","+this.height()/2+")");var i=Math.min(this.width(),this.height())/2;return null!=this.innerRadius().scale&&this.innerRadius().scale.range([0,i]),null!=this.outerRadius().scale&&this.outerRadius().scale.range([0,i]),this},n.prototype.addDataset=function(t){return e.prototype.addDataset.call(this,t),this},n.prototype._addDataset=function(n){if(1===this.datasets().length)return t.Utils.Window.warn("Only one dataset is supported in Pie plots"),this;this._updatePieAngles();var r=new t.Drawers.ArcOutline(n);return this._isSetup&&r.renderArea(this._renderArea.append("g")),this._strokeDrawers.set(n,r),e.prototype._addDataset.call(this,n),this},n.prototype.removeDataset=function(t){return e.prototype.removeDataset.call(this,t),this},n.prototype._removeDatasetNodes=function(t){e.prototype._removeDatasetNodes.call(this,t),this._strokeDrawers.get(t).remove()},n.prototype._removeDataset=function(t){return e.prototype._removeDataset.call(this,t),this._startAngles=[],this._endAngles=[],this},n.prototype.selections=function(t){var n=this;void 0===t&&(t=this.datasets());var r=e.prototype.selections.call(this,t)[0];return t.forEach(function(t){var e=n._strokeDrawers.get(t);null!=e&&e.renderArea().selectAll(e.selector()).each(function(){r.push(this)})}),d3.selectAll(r)},n.prototype._onDatasetUpdate=function(){this._updatePieAngles(),e.prototype._onDatasetUpdate.call(this)},n.prototype._createDrawer=function(e){return new t.Drawers.Arc(e)},n.prototype.entities=function(t){var n=this;void 0===t&&(t=this.datasets());var r=e.prototype.entities.call(this,t);return r.forEach(function(t){t.position.x+=n.width()/2,t.position.y+=n.height()/2;var e=n._strokeDrawers.get(t.dataset).selectionForIndex(t.index);t.selection[0].push(e[0][0])}),r},n.prototype.sectorValue=function(t,e){return null==t?this._propertyBindings.get(n._SECTOR_VALUE_KEY):(this._bindProperty(n._SECTOR_VALUE_KEY,t,e),this._updatePieAngles(),this.render(),this)},n.prototype.innerRadius=function(t,e){return null==t?this._propertyBindings.get(n._INNER_RADIUS_KEY):(this._bindProperty(n._INNER_RADIUS_KEY,t,e),this.render(),this)},n.prototype.outerRadius=function(t,e){return null==t?this._propertyBindings.get(n._OUTER_RADIUS_KEY):(this._bindProperty(n._OUTER_RADIUS_KEY,t,e),this.render(),this)},n.prototype.labelsEnabled=function(t){return null==t?this._labelsEnabled:(this._labelsEnabled=t,this.render(),this)},n.prototype.labelFormatter=function(t){return null==t?this._labelFormatter:(this._labelFormatter=t,this.render(),this)},n.prototype.entitiesAt=function(t){var e={x:this.width()/2,y:this.height()/2},n={x:t.x-e.x,y:t.y-e.y},r=this._sliceIndexForPoint(n);return null==r?[]:[this.entities()[r]]},n.prototype._propertyProjectors=function(){var n=this,r=e.prototype._propertyProjectors.call(this),i=t.Plot._scaledAccessor(this.innerRadius()),o=t.Plot._scaledAccessor(this.outerRadius());return r.d=function(t,e,r){return d3.svg.arc().innerRadius(i(t,e,r)).outerRadius(o(t,e,r)).startAngle(n._startAngles[e]).endAngle(n._endAngles[e])(t,e)},r},n.prototype._updatePieAngles=function(){if(null!=this.sectorValue()&&0!==this.datasets().length){var e=t.Plot._scaledAccessor(this.sectorValue()),n=this.datasets()[0],r=this._getDataToDraw().get(n),i=d3.layout.pie().sort(null).value(function(t,r){return e(t,r,n)})(r);this._startAngles=i.map(function(t){return t.startAngle}),this._endAngles=i.map(function(t){return t.endAngle})}},n.prototype._getDataToDraw=function(){var r=e.prototype._getDataToDraw.call(this);if(0===this.datasets().length)return r;var i=t.Plot._scaledAccessor(this.sectorValue()),o=this.datasets()[0],a=r.get(o),s=a.filter(function(t,e){return n._isValidData(i(t,e,o))});return r.set(o,s),r},n._isValidData=function(e){return t.Utils.Math.isValidNumber(e)&&e>=0},n.prototype._pixelPoint=function(e,r,i){var o=t.Plot._scaledAccessor(this.sectorValue());if(!n._isValidData(o(e,r,i)))return{x:NaN,y:NaN};var a=t.Plot._scaledAccessor(this.innerRadius())(e,r,i),s=t.Plot._scaledAccessor(this.outerRadius())(e,r,i),l=(a+s)/2,u=d3.layout.pie().sort(null).value(function(t,e){var r=o(t,e,i);return n._isValidData(r)?r:0})(i.data()),c=u[r].startAngle,h=u[r].endAngle,d=(c+h)/2;return{x:l*Math.sin(d),y:-l*Math.cos(d)}},n.prototype._additionalPaint=function(e){var n=this;this._renderArea.select(".label-area").remove(),this._labelsEnabled&&t.Utils.Window.setTimeout(function(){return n._drawLabels()},e);var r=this._generateStrokeDrawSteps(),i=this._getDataToDraw();this.datasets().forEach(function(t){return n._strokeDrawers.get(t).draw(i.get(t),r)})},n.prototype._generateStrokeDrawSteps=function(){var e=this._generateAttrToProjector();return[{attrToProjector:e,animator:new t.Animators.Null}]},n.prototype._sliceIndexForPoint=function(t){var e=Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2)),n=Math.acos(-t.y/e);t.x<0&&(n=2*Math.PI-n);for(var r,i=0;i<this._startAngles.length;i++)if(this._startAngles[i]<n&&this._endAngles[i]>n){r=i;break}if(void 0!==r){var o=this.datasets()[0],a=o.data()[r],s=this.innerRadius().accessor(a,r,o),l=this.outerRadius().accessor(a,r,o);if(e>s&&l>e)return r}return null},n.prototype._drawLabels=function(){var e=this,n=this._generateAttrToProjector(),r=this._renderArea.append("g").classed("label-area",!0),i=new o.Measurers.Measurer(r),a=new o.Writers.Writer(i),s=this.datasets()[0],l=this._getDataToDraw().get(s);l.forEach(function(o,l){var u=e.sectorValue().accessor(o,l,s);if(t.Utils.Math.isValidNumber(u)){u=e._labelFormatter(u);var c=i.measure(u),h=(e._endAngles[l]+e._startAngles[l])/2,d=e.outerRadius().accessor(o,l,s);e.outerRadius().scale&&(d=e.outerRadius().scale.scale(d));var f=e.innerRadius().accessor(o,l,s);e.innerRadius().scale&&(f=e.innerRadius().scale.scale(f));var p=(d+f)/2,m=Math.sin(h)*p-c.width/2,g=-Math.cos(h)*p-c.height/2,v=[{x:m,y:g},{x:m,y:g+c.height},{x:m+c.width,y:g},{x:m+c.width,y:g+c.height}],_=v.every(function(t){return Math.abs(t.x)<=e.width()/2&&Math.abs(t.y)<=e.height()/2});if(_){var y=v.map(function(t){return e._sliceIndexForPoint(t)});_=y.every(function(t){return t===l})}var w=n.fill(o,l,s),b=1.6*t.Utils.Color.contrast("white",w)<t.Utils.Color.contrast("black",w),x=r.append("g").attr("transform","translate("+m+","+g+")"),S=b?"dark-label":"light-label";x.classed(S,!0),x.style("visibility",_?"inherit":"hidden"),a.write(u,c.width,c.height,{selection:x,xAlign:"center",yAlign:"center",textRotation:0})}})},n._INNER_RADIUS_KEY="inner-radius",n._OUTER_RADIUS_KEY="outer-radius",n._SECTOR_VALUE_KEY="sector-value",n}(t.Plot);e.Pie=n}(e=t.Plots||(t.Plots={}))}(r||(r={}));var r;!function(t){var e=function(e){function n(){var t=this;e.call(this),this._autoAdjustXScaleDomain=!1,this._autoAdjustYScaleDomain=!1,this._deferredRendering=!1,this._cachedDomainX=[null,null],this._cachedDomainY=[null,null],this.addClass("xy-plot"),this._adjustYDomainOnChangeFromXCallback=function(e){return t._adjustYDomainOnChangeFromX()},this._adjustXDomainOnChangeFromYCallback=function(e){return t._adjustXDomainOnChangeFromY()};var n=0,r=0,i=1,o=1,a=[null,null],s=[null,null],l=0,u=500,c=function(){null!=t._renderArea&&(t._renderArea.attr("transform","translate("+n+", "+r+")scale("+i+", "+o+")"),clearTimeout(l),l=setTimeout(function(){t._cachedDomainX=a,t._cachedDomainY=s,n=0,r=0,i=1,o=1,t.render(),t._renderArea.attr("transform","translate(0, 0) scale(1, 1)")},u))},h=function(e){t._isAnchored&&(a=e.domain(),i=(e.scale(t._cachedDomainX[1])-e.scale(t._cachedDomainX[0]))/(e.scale(a[1])-e.scale(a[0]))||1,n=e.scale(t._cachedDomainX[0])-e.scale(a[0])||0,c())},d=function(e){t._isAnchored&&(s=e.domain(),o=(e.scale(t._cachedDomainY[1])-e.scale(t._cachedDomainY[0]))/(e.scale(s[1])-e.scale(s[0]))||1,r=e.scale(t._cachedDomainY[0])-e.scale(s[0])*o||0,c())};this._renderCallback=function(e){t.deferredRendering()&&t.x()&&t.x().scale===e?h(e):t.deferredRendering()&&t.y()&&t.y().scale===e?d(e):t.render()}}return i(n,e),n.prototype.deferredRendering=function(t){return null==t?this._deferredRendering:(t&&this._isAnchored&&(this.x()&&this.x().scale&&(this._cachedDomainX=this.x().scale.domain()),this.y()&&this.y().scale&&(this._cachedDomainY=this.y().scale.domain())),this._deferredRendering=t,this)},n.prototype.x=function(t,e){if(null==t)return this._propertyBindings.get(n._X_KEY);this._bindProperty(n._X_KEY,t,e);var r=this.width();return null!=e&&null!=r&&e.range([0,r]),this._autoAdjustYScaleDomain&&this._updateYExtentsAndAutodomain(),this.render(),this},n.prototype.y=function(e,r){if(null==e)return this._propertyBindings.get(n._Y_KEY);this._bindProperty(n._Y_KEY,e,r);var i=this.height();return null!=r&&null!=i&&(r instanceof t.Scales.Category?r.range([0,i]):r.range([i,0])),this._autoAdjustXScaleDomain&&this._updateXExtentsAndAutodomain(),this.render(),this},n.prototype._filterForProperty=function(t){return"x"===t&&this._autoAdjustXScaleDomain?this._makeFilterByProperty("y"):"y"===t&&this._autoAdjustYScaleDomain?this._makeFilterByProperty("x"):null},n.prototype._makeFilterByProperty=function(e){var n=this._propertyBindings.get(e);if(null!=n){var r=n.accessor,i=n.scale;if(null!=i)return function(e,n,o){var a=i.range();return t.Utils.Math.inRange(i.scale(r(e,n,o)),a[0],a[1])}}return null},n.prototype._uninstallScaleForKey=function(t,r){e.prototype._uninstallScaleForKey.call(this,t,r);var i=r===n._X_KEY?this._adjustYDomainOnChangeFromXCallback:this._adjustXDomainOnChangeFromYCallback;t.offUpdate(i)},n.prototype._installScaleForKey=function(t,r){e.prototype._installScaleForKey.call(this,t,r);var i=r===n._X_KEY?this._adjustYDomainOnChangeFromXCallback:this._adjustXDomainOnChangeFromYCallback;t.onUpdate(i)},n.prototype.destroy=function(){return e.prototype.destroy.call(this),this.x().scale&&this.x().scale.offUpdate(this._adjustYDomainOnChangeFromXCallback),this.y().scale&&this.y().scale.offUpdate(this._adjustXDomainOnChangeFromYCallback),this},n.prototype.autorangeMode=function(t){if(null==t)return this._autoAdjustXScaleDomain?"x":this._autoAdjustYScaleDomain?"y":"none";switch(t){case"x":this._autoAdjustXScaleDomain=!0,this._autoAdjustYScaleDomain=!1,this._adjustXDomainOnChangeFromY();break;case"y":this._autoAdjustXScaleDomain=!1,this._autoAdjustYScaleDomain=!0,this._adjustYDomainOnChangeFromX();break;case"none":this._autoAdjustXScaleDomain=!1,this._autoAdjustYScaleDomain=!1;break;default:throw new Error("Invalid scale name '"+t+"', must be 'x', 'y' or 'none'")}return this},n.prototype.computeLayout=function(n,r,i){e.prototype.computeLayout.call(this,n,r,i);var o=this.x(),a=o&&o.scale;null!=a&&a.range([0,this.width()]);var s=this.y(),l=s&&s.scale;return null!=l&&(l instanceof t.Scales.Category?l.range([0,this.height()]):l.range([this.height(),0])),this},n.prototype._updateXExtentsAndAutodomain=function(){this._updateExtentsForProperty("x");var t=this.x().scale;null!=t&&t.autoDomain()},n.prototype._updateYExtentsAndAutodomain=function(){this._updateExtentsForProperty("y");var t=this.y().scale;null!=t&&t.autoDomain()},n.prototype.showAllData=function(){return this._updateXExtentsAndAutodomain(),this._updateYExtentsAndAutodomain(),this},n.prototype._adjustYDomainOnChangeFromX=function(){this._projectorsReady()&&this._autoAdjustYScaleDomain&&this._updateYExtentsAndAutodomain()},n.prototype._adjustXDomainOnChangeFromY=function(){this._projectorsReady()&&this._autoAdjustXScaleDomain&&this._updateXExtentsAndAutodomain()},n.prototype._projectorsReady=function(){var t=this.x(),e=this.y();return null!=t&&null!=t.accessor&&null!=e&&null!=e.accessor},n.prototype._pixelPoint=function(e,n,r){var i=t.Plot._scaledAccessor(this.x()),o=t.Plot._scaledAccessor(this.y());return{x:i(e,n,r),y:o(e,n,r)}},n.prototype._getDataToDraw=function(){var n=this,r=e.prototype._getDataToDraw.call(this),i=function(e,r,i){var o=t.Plot._scaledAccessor(n.x())(e,r,i),a=t.Plot._scaledAccessor(n.y())(e,r,i);return t.Utils.Math.isValidNumber(o)&&t.Utils.Math.isValidNumber(a)};return this.datasets().forEach(function(t){r.set(t,r.get(t).filter(function(e,n){return i(e,n,t)}))}),r},n._X_KEY="x",n._Y_KEY="y",n}(t.Plot);t.XYPlot=e}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(){e.call(this),this._labelsEnabled=!1,this._label=null,this.animator("rectangles",new t.Animators.Null),this.addClass("rectangle-plot"),this.attr("fill",(new t.Scales.Color).range()[0])}return i(n,e),n.prototype._createDrawer=function(e){return new t.Drawers.Rectangle(e)},n.prototype._generateAttrToProjector=function(){var r=this,i=e.prototype._generateAttrToProjector.call(this),o=t.Plot._scaledAccessor(this.x()),a=i[n._X2_KEY],s=t.Plot._scaledAccessor(this.y()),l=i[n._Y2_KEY],u=this.x().scale,c=this.y().scale;return null!=a?(i.width=function(t,e,n){return Math.abs(a(t,e,n)-o(t,e,n))},i.x=function(t,e,n){return Math.min(a(t,e,n),o(t,e,n))}):(i.width=function(t,e,n){return r._rectangleWidth(u)},i.x=function(t,e,n){return o(t,e,n)-.5*i.width(t,e,n)}),null!=l?(i.height=function(t,e,n){return Math.abs(l(t,e,n)-s(t,e,n))},i.y=function(t,e,n){return Math.max(l(t,e,n),s(t,e,n))-i.height(t,e,n)}):(i.height=function(t,e,n){return r._rectangleWidth(c)},i.y=function(t,e,n){return s(t,e,n)-.5*i.height(t,e,n)}),delete i[n._X2_KEY],delete i[n._Y2_KEY],i},n.prototype._generateDrawSteps=function(){return[{attrToProjector:this._generateAttrToProjector(),animator:this._getAnimator("rectangles")}]},n.prototype._updateExtentsForProperty=function(t){e.prototype._updateExtentsForProperty.call(this,t),"x"===t?e.prototype._updateExtentsForProperty.call(this,"x2"):"y"===t&&e.prototype._updateExtentsForProperty.call(this,"y2")},n.prototype._filterForProperty=function(t){return"x2"===t?e.prototype._filterForProperty.call(this,"x"):"y2"===t?e.prototype._filterForProperty.call(this,"y"):e.prototype._filterForProperty.call(this,t)},n.prototype.x=function(r,i){if(null==r)return e.prototype.x.call(this);if(null==i?e.prototype.x.call(this,r):e.prototype.x.call(this,r,i),null!=i){var o=this.x2(),a=o&&o.accessor;null!=a&&this._bindProperty(n._X2_KEY,a,i)}return i instanceof t.Scales.Category&&i.innerPadding(0).outerPadding(0),this},n.prototype.x2=function(t){if(null==t)return this._propertyBindings.get(n._X2_KEY);var e=this.x(),r=e&&e.scale;return this._bindProperty(n._X2_KEY,t,r),this.render(),this},n.prototype.y=function(r,i){if(null==r)return e.prototype.y.call(this);if(null==i?e.prototype.y.call(this,r):e.prototype.y.call(this,r,i),null!=i){var o=this.y2(),a=o&&o.accessor;null!=a&&this._bindProperty(n._Y2_KEY,a,i)}return i instanceof t.Scales.Category&&i.innerPadding(0).outerPadding(0),this},n.prototype.y2=function(t){if(null==t)return this._propertyBindings.get(n._Y2_KEY);var e=this.y(),r=e&&e.scale;return this._bindProperty(n._Y2_KEY,t,r),this.render(),this},n.prototype.entitiesAt=function(t){var e=this._generateAttrToProjector();return this.entities().filter(function(n){var r=n.datum,i=n.index,o=n.dataset,a=e.x(r,i,o),s=e.y(r,i,o),l=e.width(r,i,o),u=e.height(r,i,o);return a<=t.x&&t.x<=a+l&&s<=t.y&&t.y<=s+u})},n.prototype.entitiesIn=function(t,e){var n,r;if(null==e){var i=t;n={min:i.topLeft.x,max:i.bottomRight.x},r={min:i.topLeft.y,max:i.bottomRight.y}}else n=t,r=e;return this._entitiesIntersecting(n,r)},n.prototype._entityBBox=function(t,e,n,r){return{x:r.x(t,e,n),y:r.y(t,e,n),width:r.width(t,e,n),height:r.height(t,e,n)}},n.prototype._entitiesIntersecting=function(e,n){var r=this,i=[],o=this._generateAttrToProjector();return this.entities().forEach(function(a){t.Utils.DOM.intersectsBBox(e,n,r._entityBBox(a.datum,a.index,a.dataset,o))&&i.push(a)}),i},n.prototype.label=function(t){return null==t?this._label:(this._label=t,this.render(),this)},n.prototype.labelsEnabled=function(t){return null==t?this._labelsEnabled:(this._labelsEnabled=t,this.render(),this)},n.prototype._propertyProjectors=function(){var n=e.prototype._propertyProjectors.call(this);return null!=this.x2()&&(n.x2=t.Plot._scaledAccessor(this.x2())),null!=this.y2()&&(n.y2=t.Plot._scaledAccessor(this.y2())),n},n.prototype._pixelPoint=function(t,e,n){var r=this._generateAttrToProjector(),i=r.x(t,e,n),o=r.y(t,e,n),a=r.width(t,e,n),s=r.height(t,e,n),l=i+a/2,u=o+s/2;return{x:l,y:u}},n.prototype._rectangleWidth=function(e){if(e instanceof t.Scales.Category)return e.rangeBand();var n=e===this.x().scale?this.x().accessor:this.y().accessor,r=d3.set(t.Utils.Array.flatten(this.datasets().map(function(t){return t.data().map(function(e,r){return n(e,r,t).valueOf()})}))).values().map(function(t){return+t}),i=t.Utils.Math.min(r,0),o=t.Utils.Math.max(r,0),a=e.scale(i),s=e.scale(o);return(s-a)/Math.abs(o-i)},n.prototype._getDataToDraw=function(){var e=new t.Utils.Map,n=this._generateAttrToProjector();return this.datasets().forEach(function(r){var i=r.data().filter(function(e,i){return t.Utils.Math.isValidNumber(n.x(e,i,r))&&t.Utils.Math.isValidNumber(n.y(e,i,r))&&t.Utils.Math.isValidNumber(n.width(e,i,r))&&t.Utils.Math.isValidNumber(n.height(e,i,r))});e.set(r,i)}),e},n.prototype._additionalPaint=function(e){var n=this;this._renderArea.selectAll(".label-area").remove(),this._labelsEnabled&&null!=this.label()&&t.Utils.Window.setTimeout(function(){return n._drawLabels()},e)},n.prototype._drawLabels=function(){var t=this,e=this._getDataToDraw();this.datasets().forEach(function(n,r){return t._drawLabel(e,n,r)})},n.prototype._drawLabel=function(e,n,r){var i=this,a=this._generateAttrToProjector(),s=this._renderArea.append("g").classed("label-area",!0),l=new o.Measurers.Measurer(s),u=new o.Writers.Writer(l),c=this.x().scale.range(),h=this.y().scale.range(),d=Math.min.apply(null,c),f=Math.max.apply(null,c),p=Math.min.apply(null,h),m=Math.max.apply(null,h),g=e.get(n);g.forEach(function(o,c){var h=""+i.label()(o,c,n),g=l.measure(h),v=a.x(o,c,n),_=a.y(o,c,n),y=a.width(o,c,n),w=a.height(o,c,n);if(g.height<=w&&g.width<=y){var b=(y-g.width)/2,x=(w-g.height)/2;v+=b,_+=x;var S={min:v,max:v+g.width},E={min:_,max:_+g.height};if(S.min<d||S.max>f||E.min<p||E.max>m)return;if(i._overlayLabel(S,E,c,r,e))return;var $=a.fill(o,c,n),T=1.6*t.Utils.Color.contrast("white",$)<t.Utils.Color.contrast("black",$),C=s.append("g").attr("transform","translate("+v+","+_+")"),k=T?"dark-label":"light-label";C.classed(k,!0),u.write(h,g.width,g.height,{selection:C,xAlign:"center",yAlign:"center",textRotation:0})}})},n.prototype._overlayLabel=function(e,n,r,i,o){for(var a=this._generateAttrToProjector(),s=this.datasets(),l=i;l<s.length;l++)for(var u=s[l],c=o.get(u),h=l===i?r+1:0;h<c.length;h++)if(t.Utils.DOM.intersectsBBox(e,n,this._entityBBox(c[h],h,u,a)))return!0;return!1},n._X2_KEY="x2",n._Y2_KEY="y2",n}(t.XYPlot);e.Rectangle=n}(e=t.Plots||(t.Plots={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(n){function r(){n.call(this),this.addClass("scatter-plot");var r=new t.Animators.Easing;r.startDelay(5),r.stepDuration(250),r.maxTotalDuration(t.Plot._ANIMATION_MAX_DURATION),this.animator(e.Animator.MAIN,r),this.attr("opacity",.6),this.attr("fill",(new t.Scales.Color).range()[0]),this.size(6);var i=t.SymbolFactories.circle();this.symbol(function(){return i})}return i(r,n),r.prototype._createDrawer=function(e){return new t.Drawers.Symbol(e)},r.prototype.size=function(t,e){return null==t?this._propertyBindings.get(r._SIZE_KEY):(this._bindProperty(r._SIZE_KEY,t,e),this.render(),this)},r.prototype.symbol=function(t){return null==t?this._propertyBindings.get(r._SYMBOL_KEY):(this._propertyBindings.set(r._SYMBOL_KEY,{accessor:t}),this.render(),this)},r.prototype._generateDrawSteps=function(){var t=[];if(this._animateOnNextRender()){var n=this._generateAttrToProjector();n.d=function(){return""},t.push({attrToProjector:n,animator:this._getAnimator(e.Animator.RESET)})}return t.push({attrToProjector:this._generateAttrToProjector(),animator:this._getAnimator(e.Animator.MAIN)}),t},r.prototype._entityVisibleOnPlot=function(e,n,r,i){var o={min:0,max:this.width()},a={min:0,max:this.height()},s=t.Plot._scaledAccessor(this.size())(n,r,i),l={x:e.x-s,y:e.y-s,width:s,height:s};return t.Utils.DOM.intersectsBBox(o,a,l)},r.prototype._propertyProjectors=function(){var e=n.prototype._propertyProjectors.call(this),r=t.Plot._scaledAccessor(this.x()),i=t.Plot._scaledAccessor(this.y()),o=t.Plot._scaledAccessor(this.size());e.transform=function(t,e,n){return"translate("+r(t,e,n)+","+i(t,e,n)+")"};var a=t.Plot._scaledAccessor(this.symbol());return e.d=function(t,e,n){return a(t,e,n)(o(t,e,n))},e},r.prototype.entitiesIn=function(e,n){var r,i;if(null==n){var o=e;r={min:o.topLeft.x,max:o.bottomRight.x},i={min:o.topLeft.y,max:o.bottomRight.y}}else r=e,i=n;var a=t.Plot._scaledAccessor(this.x()),s=t.Plot._scaledAccessor(this.y());return this.entities().filter(function(t){var e=t.datum,n=t.index,o=t.dataset,l=a(e,n,o),u=s(e,n,o);return r.min<=l&&l<=r.max&&i.min<=u&&u<=i.max})},r.prototype.entitiesAt=function(e){var n=t.Plot._scaledAccessor(this.x()),r=t.Plot._scaledAccessor(this.y()),i=t.Plot._scaledAccessor(this.size());return this.entities().filter(function(t){var o=t.datum,a=t.index,s=t.dataset,l=n(o,a,s),u=r(o,a,s),c=i(o,a,s);return l-c/2<=e.x&&e.x<=l+c/2&&u-c/2<=e.y&&e.y<=u+c/2})},r._SIZE_KEY="size",r._SYMBOL_KEY="symbol",r}(t.XYPlot);e.Scatter=n}(e=t.Plots||(t.Plots={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(n){function r(e){var i=this;if(void 0===e&&(e=r.ORIENTATION_VERTICAL),n.call(this),this._labelFormatter=t.Formatters.identity(),this._labelsEnabled=!1,this._hideBarsIfAnyAreTooWide=!0,this._barPixelWidth=0,this.addClass("bar-plot"),e!==r.ORIENTATION_VERTICAL&&e!==r.ORIENTATION_HORIZONTAL)throw new Error(e+" is not a valid orientation for Plots.Bar");this._isVertical=e===r.ORIENTATION_VERTICAL,this.animator("baseline",new t.Animators.Null),this.attr("fill",(new t.Scales.Color).range()[0]),this.attr("width",function(){return i._barPixelWidth}),this._labelConfig=new t.Utils.Map,this._baselineValueProvider=function(){return[i.baselineValue()]},this._updateBarPixelWidthCallback=function(){return i._updateBarPixelWidth()}}return i(r,n),r.prototype.x=function(t,e){return null==t?n.prototype.x.call(this):(null==e?n.prototype.x.call(this,t):(n.prototype.x.call(this,t,e),e.onUpdate(this._updateBarPixelWidthCallback)),this._updateValueScale(),this)},r.prototype.y=function(t,e){return null==t?n.prototype.y.call(this):(null==e?n.prototype.y.call(this,t):(n.prototype.y.call(this,t,e),e.onUpdate(this._updateBarPixelWidthCallback)),this._updateValueScale(),this)},r.prototype.orientation=function(){return this._isVertical?r.ORIENTATION_VERTICAL:r.ORIENTATION_HORIZONTAL},r.prototype.render=function(){return this._updateBarPixelWidth(),this._updateExtents(),n.prototype.render.call(this),this},r.prototype._createDrawer=function(e){return new t.Drawers.Rectangle(e)},r.prototype._setup=function(){n.prototype._setup.call(this),this._baseline=this._renderArea.append("line").classed("baseline",!0)},r.prototype.baselineValue=function(e){if(null==e){if(null!=this._baselineValue)return this._baselineValue;if(!this._projectorsReady())return 0;var n=this._isVertical?this.y().scale:this.x().scale;return n&&n instanceof t.Scales.Time?new Date(0):0}return this._baselineValue=e,this._updateValueScale(),this.render(),this},r.prototype.addDataset=function(t){return n.prototype.addDataset.call(this,t),this._updateBarPixelWidth(),this},r.prototype._addDataset=function(t){return t.onUpdate(this._updateBarPixelWidthCallback),n.prototype._addDataset.call(this,t),this},r.prototype.removeDataset=function(t){return t.offUpdate(this._updateBarPixelWidthCallback),n.prototype.removeDataset.call(this,t),this._updateBarPixelWidth(),this},r.prototype._removeDataset=function(t){return t.offUpdate(this._updateBarPixelWidthCallback),n.prototype._removeDataset.call(this,t),this},r.prototype.datasets=function(t){return null==t?n.prototype.datasets.call(this):(n.prototype.datasets.call(this,t),this._updateBarPixelWidth(),this)},r.prototype.labelsEnabled=function(t){return null==t?this._labelsEnabled:(this._labelsEnabled=t,this.render(),this)},r.prototype.labelFormatter=function(t){return null==t?this._labelFormatter:(this._labelFormatter=t,this.render(),this)},r.prototype._createNodesForDataset=function(t){var e=n.prototype._createNodesForDataset.call(this,t);e.renderArea().classed(r._BAR_AREA_CLASS,!0);var i=this._renderArea.append("g").classed(r._LABEL_AREA_CLASS,!0),a=new o.Measurers.CacheCharacterMeasurer(i),s=new o.Writers.Writer(a);return this._labelConfig.set(t,{labelArea:i,measurer:a,writer:s}),e},r.prototype._removeDatasetNodes=function(t){n.prototype._removeDatasetNodes.call(this,t);var e=this._labelConfig.get(t);null!=e&&(e.labelArea.remove(),this._labelConfig["delete"](t))},r.prototype.entityNearest=function(e){var n,r=this,i=1/0,o=1/0,a=this._isVertical?e.x:e.y,s=this._isVertical?e.y:e.x,l=.5;return this.entities().forEach(function(u){if(r._entityVisibleOnPlot(u.position,u.datum,u.index,u.dataset)){var c=0,h=0,d=u.position,f=t.Utils.DOM.elementBBox(u.selection);if(!t.Utils.DOM.intersectsBBox(e.x,e.y,f,l)){var p=r._isVertical?d.x:d.y;c=Math.abs(a-p);var m=r._isVertical?f.y:f.x,g=m+(r._isVertical?f.height:f.width);if(s>=m-l&&g+l>=s)h=0;else{var v=r._isVertical?d.y:d.x;h=Math.abs(s-v)}}(i>c||c===i&&o>h)&&(n=u,i=c,o=h)}}),n},r.prototype._entityVisibleOnPlot=function(e,n,r,i){var o={min:0,max:this.width()},a={min:0,max:this.height()},s=this._generateAttrToProjector(),l={x:s.x(n,r,i),y:s.y(n,r,i),width:s.width(n,r,i),height:s.height(n,r,i)};return t.Utils.DOM.intersectsBBox(o,a,l)},r.prototype.entitiesAt=function(t){return this._entitiesIntersecting(t.x,t.y)},r.prototype.entitiesIn=function(t,e){var n,r;if(null==e){var i=t;n={min:i.topLeft.x,max:i.bottomRight.x},r={min:i.topLeft.y,max:i.bottomRight.y}}else n=t,r=e;return this._entitiesIntersecting(n,r)},r.prototype._entitiesIntersecting=function(e,n){var r=[];return this.entities().forEach(function(i){t.Utils.DOM.intersectsBBox(e,n,t.Utils.DOM.elementBBox(i.selection))&&r.push(i)}),r},r.prototype._updateValueScale=function(){if(this._projectorsReady()){var e=this._isVertical?this.y().scale:this.x().scale;if(e instanceof t.QuantitativeScale){var n=e;n.addPaddingExceptionsProvider(this._baselineValueProvider),n.addIncludedValuesProvider(this._baselineValueProvider)}}},r.prototype._additionalPaint=function(e){var n=this,r=this._isVertical?this.y().scale:this.x().scale,i=r.scale(this.baselineValue()),o={x1:this._isVertical?0:i,y1:this._isVertical?i:0,x2:this._isVertical?this.width():i,y2:this._isVertical?i:this.height()};this._getAnimator("baseline").animate(this._baseline,o),this.datasets().forEach(function(t){return n._labelConfig.get(t).labelArea.selectAll("g").remove()}),this._labelsEnabled&&t.Utils.Window.setTimeout(function(){return n._drawLabels()},e)},r.prototype._extentsForProperty=function(e){var r,i=this,o=n.prototype._extentsForProperty.call(this,e);if("x"===e&&this._isVertical)r=this.x();else{if("y"!==e||this._isVertical)return o;r=this.y()}if(!(r&&r.scale&&r.scale instanceof t.QuantitativeScale))return o;var a=r.scale;return o=o.map(function(t){return d3.extent([a.invert(a.scale(t[0])-i._barPixelWidth/2),a.invert(a.scale(t[0])+i._barPixelWidth/2),a.invert(a.scale(t[1])-i._barPixelWidth/2),a.invert(a.scale(t[1])+i._barPixelWidth/2)])})},r.prototype._drawLabels=function(){var t=this,e=this._getDataToDraw(),n=!1;this.datasets().forEach(function(r){return n=n||t._drawLabel(e.get(r),r)}),this._hideBarsIfAnyAreTooWide&&n&&this.datasets().forEach(function(e){return t._labelConfig.get(e).labelArea.selectAll("g").remove()})},r.prototype._drawLabel=function(e,n){var i=this,o=this._generateAttrToProjector(),a=this._labelConfig.get(n),s=a.labelArea,l=a.measurer,u=a.writer,c=function(e,a){var c,h=i._isVertical?i.y().accessor:i.x().accessor,d=h(e,a,n),f=i._isVertical?i.y().scale:i.x().scale,p=null!=f?f.scale(d):d,m=null!=f?f.scale(i.baselineValue()):i.baselineValue(),g=o.width(e,a,n),v=o.height(e,a,n),_=i._labelFormatter(h(e,a,n)),y=l.measure(_),w="center",b="center",x={x:o.x(e,a,n),y:o.y(e,a,n)},S=g,E=v,$={x:x.x,y:x.y};if(i._isVertical){$.x+=S/2-y.width/2;var T=o.y(e,a,n),C=v;T+v>i.height()?C=i.height()-T:0>T&&(C=T+v);var k=r._LABEL_VERTICAL_PADDING;c=y.height+2*k<=C,c?m>p?(x.y+=k,b="top",$.y+=k):(x.y-=k,b="bottom",$.y+=E-k-y.height):(E=v+k+y.height,m>=p?(x.y-=k+y.height,b="top",$.y-=k+y.height):(b="bottom",$.y+=v+k))}else{$.y+=E/2-y.height/2;var M=o.x(e,a,n),A=g;M+g>i.width()?A=i.width()-M:0>M&&(A=M+g);var k=r._LABEL_HORIZONTAL_PADDING;c=y.width+2*k<=A,c?m>p?(x.x+=k,w="left",$.x+=k):(x.x-=k,w="right",$.x+=S-k-y.width):(S=g+k+y.width,m>p?(x.x-=k+y.width,w="left",$.x-=k+y.width):(w="right",$.x+=g+k))}var D=s.append("g").attr("transform","translate("+x.x+", "+x.y+")");if(c){D.classed("on-bar-label",!0);var I=o.fill(e,a,n),P=1.6*t.Utils.Color.contrast("white",I)<t.Utils.Color.contrast("black",I);D.classed(P?"dark-label":"light-label",!0)}else D.classed("off-bar-label",!0);var L=$.x<0||$.y<0||$.x+y.width>i.width()||$.y+y.height>i.height();D.style("visibility",L?"hidden":"inherit");var N={selection:D,xAlign:w,yAlign:b,textRotation:0};u.write(_,S,E,N);var O=i._isVertical?g<y.width:v<y.height;return O},h=e.map(c);return h.some(function(t){return t})},r.prototype._generateDrawSteps=function(){var t=[];if(this._animateOnNextRender()){var n=this._generateAttrToProjector(),r=this._isVertical?this.y().scale:this.x().scale,i=r.scale(this.baselineValue()),o=this._isVertical?"y":"x",a=this._isVertical?"height":"width";n[o]=function(){return i},n[a]=function(){return 0},t.push({attrToProjector:n,animator:this._getAnimator(e.Animator.RESET)})}return t.push({attrToProjector:this._generateAttrToProjector(),animator:this._getAnimator(e.Animator.MAIN)}),t},r.prototype._generateAttrToProjector=function(){var e=n.prototype._generateAttrToProjector.call(this),r=this._isVertical?this.y().scale:this.x().scale,i=this._isVertical?"y":"x",o=this._isVertical?"x":"y",a=r.scale(this.baselineValue()),s=this._isVertical?t.Plot._scaledAccessor(this.x()):t.Plot._scaledAccessor(this.y()),l=e.width,u=this._isVertical?t.Plot._scaledAccessor(this.y()):t.Plot._scaledAccessor(this.x()),c=function(t,e,n){return Math.abs(a-u(t,e,n))};return e.width=this._isVertical?l:c,e.height=this._isVertical?c:l,e[o]=function(t,e,n){return s(t,e,n)-l(t,e,n)/2},e[i]=function(t,e,n){var r=u(t,e,n);return r>a?a:r},e},r.prototype._getBarPixelWidth=function(){if(!this._projectorsReady())return 0;var e,n=this._isVertical?this.x().scale:this.y().scale;if(n instanceof t.Scales.Category)e=n.rangeBand();else{var i=this._isVertical?this.x().accessor:this.y().accessor,o=d3.set(t.Utils.Array.flatten(this.datasets().map(function(t){return t.data().map(function(e,n){return i(e,n,t)}).filter(function(t){return null!=t}).map(function(t){return t.valueOf()})}))).values().map(function(t){return+t});o.sort(function(t,e){return t-e});var a=o.map(function(t){return n.scale(t)}),s=d3.pairs(a),l=this._isVertical?this.width():this.height();
e=t.Utils.Math.min(s,function(t,e){return Math.abs(t[1]-t[0])},l*r._SINGLE_BAR_DIMENSION_RATIO),e*=r._BAR_WIDTH_RATIO}return e},r.prototype._updateBarPixelWidth=function(){this._barPixelWidth=this._getBarPixelWidth()},r.prototype.entities=function(t){if(void 0===t&&(t=this.datasets()),!this._projectorsReady())return[];var e=n.prototype.entities.call(this,t);return e},r.prototype._pixelPoint=function(e,n,r){var i,o,a=this._generateAttrToProjector(),s=a.x(e,n,r),l=a.y(e,n,r),u=a.width(e,n,r),c=a.height(e,n,r),h=(this._isVertical?t.Plot._scaledAccessor(this.y()):t.Plot._scaledAccessor(this.x()))(e,n,r),d=(this._isVertical?this.y().scale:this.x().scale).scale(this.baselineValue());return this._isVertical?(i=s+u/2,o=d>=h?l:l+c):(i=h>=d?s+u:s,o=l+c/2),{x:i,y:o}},r.prototype._uninstallScaleForKey=function(t,e){t.offUpdate(this._updateBarPixelWidthCallback),n.prototype._uninstallScaleForKey.call(this,t,e)},r.prototype._getDataToDraw=function(){var e=new t.Utils.Map,n=this._generateAttrToProjector();return this.datasets().forEach(function(r){var i=r.data().filter(function(e,i){return t.Utils.Math.isValidNumber(n.x(e,i,r))&&t.Utils.Math.isValidNumber(n.y(e,i,r))&&t.Utils.Math.isValidNumber(n.width(e,i,r))&&t.Utils.Math.isValidNumber(n.height(e,i,r))});e.set(r,i)}),e},r.ORIENTATION_VERTICAL="vertical",r.ORIENTATION_HORIZONTAL="horizontal",r._BAR_WIDTH_RATIO=.95,r._SINGLE_BAR_DIMENSION_RATIO=.4,r._BAR_AREA_CLASS="bar-area",r._LABEL_AREA_CLASS="bar-label-text-area",r._LABEL_VERTICAL_PADDING=5,r._LABEL_HORIZONTAL_PADDING=5,r}(t.XYPlot);e.Bar=n}(e=t.Plots||(t.Plots={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(n){function r(){n.call(this),this._interpolator="linear",this._autorangeSmooth=!1,this._croppedRenderingEnabled=!0,this._downsamplingEnabled=!1,this.addClass("line-plot");var r=new t.Animators.Easing;r.stepDuration(t.Plot._ANIMATION_MAX_DURATION),r.easingMode("exp-in-out"),r.maxTotalDuration(t.Plot._ANIMATION_MAX_DURATION),this.animator(e.Animator.MAIN,r),this.attr("stroke",(new t.Scales.Color).range()[0]),this.attr("stroke-width","2px")}return i(r,n),r.prototype.x=function(t,e){return null==t?n.prototype.x.call(this):(null==e?n.prototype.x.call(this,t):n.prototype.x.call(this,t,e),this._setScaleSnapping(),this)},r.prototype.y=function(t,e){return null==t?n.prototype.y.call(this):(n.prototype.y.call(this,t,e),this._setScaleSnapping(),this)},r.prototype.autorangeMode=function(t){return null==t?n.prototype.autorangeMode.call(this):(n.prototype.autorangeMode.call(this,t),this._setScaleSnapping(),this)},r.prototype.autorangeSmooth=function(t){return null==t?this._autorangeSmooth:(this._autorangeSmooth=t,this._setScaleSnapping(),this)},r.prototype._setScaleSnapping=function(){"x"===this.autorangeMode()&&this.x()&&this.x().scale&&this.x().scale instanceof t.QuantitativeScale&&this.x().scale.snappingDomainEnabled(!this.autorangeSmooth()),"y"===this.autorangeMode()&&this.y()&&this.y().scale&&this.y().scale instanceof t.QuantitativeScale&&this.y().scale.snappingDomainEnabled(!this.autorangeSmooth())},r.prototype.interpolator=function(t){return null==t?this._interpolator:(this._interpolator=t,this.render(),this)},r.prototype.downsamplingEnabled=function(t){return null==t?this._downsamplingEnabled:(this._downsamplingEnabled=t,this)},r.prototype.croppedRenderingEnabled=function(t){return null==t?this._croppedRenderingEnabled:(this._croppedRenderingEnabled=t,this.render(),this)},r.prototype._createDrawer=function(e){return new t.Drawers.Line(e)},r.prototype._extentsForProperty=function(t){var e=n.prototype._extentsForProperty.call(this,t);if(!this._autorangeSmooth)return e;if(this.autorangeMode()!==t)return e;if("x"!==this.autorangeMode()&&"y"!==this.autorangeMode())return e;var r,i=this._getEdgeIntersectionPoints();return r="y"===this.autorangeMode()?i.left.concat(i.right).map(function(t){return t.y}):i.top.concat(i.bottom).map(function(t){return t.x}),e.map(function(t){return d3.extent(d3.merge([t,r]))})},r.prototype._getEdgeIntersectionPoints=function(){var e=this;if(!(this.y().scale instanceof t.QuantitativeScale&&this.x().scale instanceof t.QuantitativeScale))return{left:[],right:[],top:[],bottom:[]};var n=this.y().scale,r=this.x().scale,i={left:[],right:[],top:[],bottom:[]},o=r.scale(r.domain()[0]),a=r.scale(r.domain()[1]),s=n.scale(n.domain()[0]),l=n.scale(n.domain()[1]);return this.datasets().forEach(function(t){for(var u,c,h,d,f,p,m,g,v=t.data(),_=1;_<v.length;_++)f=m||r.scale(e.x().accessor(v[_-1],_-1,t)),p=g||n.scale(e.y().accessor(v[_-1],_-1,t)),m=r.scale(e.x().accessor(v[_],_,t)),g=n.scale(e.y().accessor(v[_],_,t)),o>f==m>=o&&(u=o-f,c=m-f,d=g-p,h=u*d/c,i.left.push({x:o,y:n.invert(p+h)})),a>f==m>=a&&(u=a-f,c=m-f,d=g-p,h=u*d/c,i.right.push({x:a,y:n.invert(p+h)})),l>p==g>=l&&(c=m-f,h=l-p,d=g-p,u=h*c/d,i.top.push({x:r.invert(f+u),y:l})),s>p==g>=s&&(c=m-f,h=s-p,d=g-p,u=h*c/d,i.bottom.push({x:r.invert(f+u),y:s}))}),i},r.prototype._getResetYFunction=function(){var t=this.y().scale.domain(),e=Math.max(t[0],t[1]),n=Math.min(t[0],t[1]),r=0>e&&e||n>0&&n||0,i=this.y().scale.scale(r);return function(t,e,n){return i}},r.prototype._generateDrawSteps=function(){var n=[];if(this._animateOnNextRender()){var r=this._generateAttrToProjector();r.d=this._constructLineProjector(t.Plot._scaledAccessor(this.x()),this._getResetYFunction()),n.push({attrToProjector:r,animator:this._getAnimator(e.Animator.RESET)})}return n.push({attrToProjector:this._generateAttrToProjector(),animator:this._getAnimator(e.Animator.MAIN)}),n},r.prototype._generateAttrToProjector=function(){var t=n.prototype._generateAttrToProjector.call(this);return Object.keys(t).forEach(function(e){if("d"!==e){var n=t[e];t[e]=function(t,e,r){return t.length>0?n(t[0],e,r):null}}}),t},r.prototype.entityNearest=function(t){var e,n=this,r=1/0,i=1/0;return this.entities().forEach(function(o){if(n._entityVisibleOnPlot(o.position,o.datum,o.index,o.dataset)){var a=Math.abs(t.x-o.position.x),s=Math.abs(t.y-o.position.y);(r>a||a===r&&i>s)&&(e=o,r=a,i=s)}}),e},r.prototype._propertyProjectors=function(){var e=n.prototype._propertyProjectors.call(this);return e.d=this._constructLineProjector(t.Plot._scaledAccessor(this.x()),t.Plot._scaledAccessor(this.y())),e},r.prototype._constructLineProjector=function(e,n){var r=this,i=function(e,n,i){var o=t.Plot._scaledAccessor(r.x())(e,n,i),a=t.Plot._scaledAccessor(r.y())(e,n,i);return null!=o&&!t.Utils.Math.isNaN(o)&&null!=a&&!t.Utils.Math.isNaN(a)};return function(t,o,a){return d3.svg.line().x(function(t,n){return e(t,n,a)}).y(function(t,e){return n(t,e,a)}).interpolate(r.interpolator()).defined(function(t,e){return i(t,e,a)})(t)}},r.prototype._getDataToDraw=function(){var e=this,n=new t.Utils.Map;return this.datasets().forEach(function(t){var r=t.data();if(!e._croppedRenderingEnabled&&!e._downsamplingEnabled)return void n.set(t,[r]);var i=r.map(function(t,e){return e});e._croppedRenderingEnabled&&(i=e._filterCroppedRendering(t,i)),e._downsamplingEnabled&&(i=e._filterDownsampling(t,i)),n.set(t,[i.map(function(t,e){return r[t]})])}),n},r.prototype._filterCroppedRendering=function(e,n){for(var r=this,i=t.Plot._scaledAccessor(this.x()),o=t.Plot._scaledAccessor(this.y()),a=e.data(),s=[],l=function(e,n){return t.Utils.Math.inRange(e,0,r.width())&&t.Utils.Math.inRange(n,0,r.height())},u=0;u<n.length;u++){var c=i(a[n[u]],n[u],e),h=o(a[n[u]],n[u],e),d=l(c,h);if(!d&&null!=n[u-1]&&null!=a[n[u-1]]){var f=i(a[n[u-1]],n[u-1],e),p=o(a[n[u-1]],n[u-1],e);d=d||l(f,p)}if(!d&&null!=n[u+1]&&null!=a[n[u+1]]){var m=i(a[n[u+1]],n[u+1],e),g=o(a[n[u+1]],n[u+1],e);d=d||l(m,g)}d&&s.push(n[u])}return s},r.prototype._filterDownsampling=function(e,n){if(0===n.length)return[];for(var r=e.data(),i=t.Plot._scaledAccessor(this.x()),o=t.Plot._scaledAccessor(this.y()),a=[n[0]],s=function(t,a){var s=i(r[n[t]],n[t],e),l=o(r[n[t]],n[t],e),u=i(r[n[t+1]],n[t+1],e),c=o(r[n[t+1]],n[t+1],e);if(a===1/0)return Math.floor(s)===Math.floor(u);var h=l+(u-s)*a;return Math.floor(c)===Math.floor(h)},l=0;l<n.length-1;){for(var u=n[l],c=i(r[n[l]],n[l],e),h=o(r[n[l]],n[l],e),d=i(r[n[l+1]],n[l+1],e),f=o(r[n[l+1]],n[l+1],e),p=Math.floor(c)===Math.floor(d)?1/0:(f-h)/(d-c),m=n[l],g=p===1/0?h:c,v=m,_=g,y=!0;l<n.length-1&&(y||s(l,p));){l++,y=!1;var w=p===1/0?o(r[n[l]],n[l],e):i(r[n[l]],n[l],e);w>_&&(_=w,v=n[l]),g>w&&(g=w,m=n[l])}var b=n[l];m!==u&&a.push(m),v!==m&&v!==u&&a.push(v),b!==u&&b!==m&&b!==v&&a.push(b)}return a},r}(t.XYPlot);e.Line=n}(e=t.Plots||(t.Plots={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(n){function r(){n.call(this),this.addClass("area-plot"),this.y0(0),this.attr("fill-opacity",.25),this.attr("fill",(new t.Scales.Color).range()[0]),this._lineDrawers=new t.Utils.Map}return i(r,n),r.prototype._setup=function(){var t=this;n.prototype._setup.call(this),this._lineDrawers.forEach(function(e){return e.renderArea(t._renderArea.append("g"))})},r.prototype.y=function(t,e){if(null==t)return n.prototype.y.call(this);if(null==e?n.prototype.y.call(this,t):n.prototype.y.call(this,t,e),null!=e){var i=this.y0().accessor;null!=i&&this._bindProperty(r._Y0_KEY,i,e),this._updateYScale()}return this},r.prototype.y0=function(t){if(null==t)return this._propertyBindings.get(r._Y0_KEY);var e=this.y(),n=e&&e.scale;return this._bindProperty(r._Y0_KEY,t,n),this._updateYScale(),this.render(),this},r.prototype._onDatasetUpdate=function(){n.prototype._onDatasetUpdate.call(this),this._updateYScale()},r.prototype.addDataset=function(t){return n.prototype.addDataset.call(this,t),this},r.prototype._addDataset=function(e){var r=new t.Drawers.Line(e);return this._isSetup&&r.renderArea(this._renderArea.append("g")),this._lineDrawers.set(e,r),n.prototype._addDataset.call(this,e),this},r.prototype._removeDatasetNodes=function(t){n.prototype._removeDatasetNodes.call(this,t),this._lineDrawers.get(t).remove()},r.prototype._additionalPaint=function(){var t=this,e=this._generateLineDrawSteps(),n=this._getDataToDraw();this.datasets().forEach(function(r){return t._lineDrawers.get(r).draw(n.get(r),e)})},r.prototype._generateLineDrawSteps=function(){var n=[];if(this._animateOnNextRender()){var r=this._generateLineAttrToProjector();r.d=this._constructLineProjector(t.Plot._scaledAccessor(this.x()),this._getResetYFunction()),n.push({attrToProjector:r,animator:this._getAnimator(e.Animator.RESET)})}return n.push({attrToProjector:this._generateLineAttrToProjector(),animator:this._getAnimator(e.Animator.MAIN)}),n},r.prototype._generateLineAttrToProjector=function(){var e=this._generateAttrToProjector();return e.d=this._constructLineProjector(t.Plot._scaledAccessor(this.x()),t.Plot._scaledAccessor(this.y())),e},r.prototype._createDrawer=function(e){return new t.Drawers.Area(e)},r.prototype._generateDrawSteps=function(){var n=[];if(this._animateOnNextRender()){var r=this._generateAttrToProjector();r.d=this._constructAreaProjector(t.Plot._scaledAccessor(this.x()),this._getResetYFunction(),t.Plot._scaledAccessor(this.y0())),n.push({attrToProjector:r,animator:this._getAnimator(e.Animator.RESET)})}return n.push({attrToProjector:this._generateAttrToProjector(),animator:this._getAnimator(e.Animator.MAIN)}),n},r.prototype._updateYScale=function(){var e=this._propertyExtents.get("y0"),n=t.Utils.Array.flatten(e),r=t.Utils.Array.uniq(n),i=1===r.length?r[0]:null,o=this.y(),a=o&&o.scale;null!=a&&(null!=this._constantBaselineValueProvider&&(a.removePaddingExceptionsProvider(this._constantBaselineValueProvider),this._constantBaselineValueProvider=null),null!=i&&(this._constantBaselineValueProvider=function(){return[i]},a.addPaddingExceptionsProvider(this._constantBaselineValueProvider)))},r.prototype._getResetYFunction=function(){return t.Plot._scaledAccessor(this.y0())},r.prototype._propertyProjectors=function(){var e=n.prototype._propertyProjectors.call(this);return e.d=this._constructAreaProjector(t.Plot._scaledAccessor(this.x()),t.Plot._scaledAccessor(this.y()),t.Plot._scaledAccessor(this.y0())),e},r.prototype.selections=function(t){var e=this;void 0===t&&(t=this.datasets());var r=n.prototype.selections.call(this,t)[0],i=t.map(function(t){return e._lineDrawers.get(t)}).filter(function(t){return null!=t});return i.forEach(function(t,e){return r.push(t.selectionForIndex(e).node())}),d3.selectAll(r)},r.prototype._constructAreaProjector=function(e,n,r){var i=this,o=function(e,n,r){var o=t.Plot._scaledAccessor(i.x())(e,n,r),a=t.Plot._scaledAccessor(i.y())(e,n,r);return t.Utils.Math.isValidNumber(o)&&t.Utils.Math.isValidNumber(a)};return function(t,a,s){var l=d3.svg.area().x(function(t,n){return e(t,n,s)}).y1(function(t,e){return n(t,e,s)}).y0(function(t,e){return r(t,e,s)}).interpolate(i.interpolator()).defined(function(t,e){return o(t,e,s)});return l(t)}},r._Y0_KEY="y0",r}(e.Line);e.Area=n}(e=t.Plots||(t.Plots={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(n){function r(r){void 0===r&&(r=e.Bar.ORIENTATION_VERTICAL),n.call(this,r),this._clusterOffsets=new t.Utils.Map}return i(r,n),r.prototype._generateAttrToProjector=function(){var t=this,e=n.prototype._generateAttrToProjector.call(this),r=this._makeInnerScale(),i=function(t,e){return r.rangeBand()};e.width=this._isVertical?i:e.width,e.height=this._isVertical?e.height:i;var o=e.x,a=e.y;return e.x=this._isVertical?function(e,n,r){return o(e,n,r)+t._clusterOffsets.get(r)}:function(t,e,n){return o(t,e,n)},e.y=this._isVertical?function(t,e,n){return a(t,e,n)}:function(e,n,r){return a(e,n,r)+t._clusterOffsets.get(r)},e},r.prototype._updateClusterPosition=function(){var t=this,e=this._makeInnerScale();this.datasets().forEach(function(n,r){return t._clusterOffsets.set(n,e.scale(String(r))-e.rangeBand()/2)})},r.prototype._makeInnerScale=function(){var e=new t.Scales.Category;e.domain(this.datasets().map(function(t,e){return String(e)}));var n=t.Plot._scaledAccessor(this.attr("width"));return e.range([0,n(null,0,null)]),e},r.prototype._getDataToDraw=function(){return this._updateClusterPosition(),n.prototype._getDataToDraw.call(this)},r}(e.Bar);e.ClusteredBar=n}(e=t.Plots||(t.Plots={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(){var n=this;e.call(this),this._baselineValue=0,this.addClass("stacked-area-plot"),this.attr("fill-opacity",1),this._stackingResult=new t.Utils.Map,this._stackedExtent=[],this._baselineValueProvider=function(){return[n._baselineValue]},this.croppedRenderingEnabled(!1)}return i(n,e),n.prototype.croppedRenderingEnabled=function(n){return null==n?e.prototype.croppedRenderingEnabled.call(this):n===!0?(t.Utils.Window.warn("Warning: Stacked Area Plot does not support cropped rendering."),this):e.prototype.croppedRenderingEnabled.call(this,n)},n.prototype._getAnimator=function(e){return new t.Animators.Null},n.prototype._setup=function(){e.prototype._setup.call(this),this._baseline=this._renderArea.append("line").classed("baseline",!0)},n.prototype.x=function(t,n){return null==t?e.prototype.x.call(this):(null==n?e.prototype.x.call(this,t):e.prototype.x.call(this,t,n),this._updateStackExtentsAndOffsets(),this)},n.prototype.y=function(t,n){return null==t?e.prototype.y.call(this):(null==n?e.prototype.y.call(this,t):e.prototype.y.call(this,t,n),this._updateStackExtentsAndOffsets(),this)},n.prototype.downsamplingEnabled=function(n){return null==n?e.prototype.downsamplingEnabled.call(this):(t.Utils.Window.warn("Warning: Stacked Area Plot does not support downsampling"),this)},n.prototype._additionalPaint=function(){var t=this.y().scale.scale(this._baselineValue),e={x1:0,y1:t,x2:this.width(),y2:t};this._getAnimator("baseline").animate(this._baseline,e)},n.prototype._updateYScale=function(){var t=this.y(),e=t&&t.scale;null!=e&&(e.addPaddingExceptionsProvider(this._baselineValueProvider),e.addIncludedValuesProvider(this._baselineValueProvider))},n.prototype._onDatasetUpdate=function(){return this._updateStackExtentsAndOffsets(),e.prototype._onDatasetUpdate.call(this),this},n.prototype._updateExtentsForProperty=function(t){e.prototype._updateExtentsForProperty.call(this,t),"x"!==t&&"y"!==t||!this._projectorsReady()||this._updateStackExtentsAndOffsets()},n.prototype._extentsForProperty=function(t){var n="y";return t===n?[this._stackedExtent]:e.prototype._extentsForProperty.call(this,t)},n.prototype._updateStackExtentsAndOffsets=function(){if(this._projectorsReady()){var e=this.datasets(),n=this.x().accessor,r=this.y().accessor,i=this._filterForProperty("y");this._checkSameDomain(e,n),this._stackingResult=t.Utils.Stacking.stack(e,n,r),this._stackedExtent=t.Utils.Stacking.stackedExtent(this._stackingResult,n,i)}},n.prototype._checkSameDomain=function(e,r){var i=e.map(function(t){return d3.set(t.data().map(function(e,n){return r(e,n,t).toString()})).values()}),o=n._domainKeys(e,r);i.some(function(t){return t.length!==o.length})&&t.Utils.Window.warn("the domains across the datasets are not the same. Plot may produce unintended behavior.")},n._domainKeys=function(t,e){var n=d3.set();return t.forEach(function(t){t.data().forEach(function(r,i){n.add(e(r,i,t))})}),n.values()},n.prototype._propertyProjectors=function(){var n=this,r=e.prototype._propertyProjectors.call(this),i=this.y().accessor,o=this.x().accessor,a=function(e,n,r){return t.Utils.Stacking.normalizeKey(o(e,n,r))},s=function(t,e,r){return n.y().scale.scale(+i(t,e,r)+n._stackingResult.get(r).get(a(t,e,r)).offset)},l=function(t,e,r){return n.y().scale.scale(n._stackingResult.get(r).get(a(t,e,r)).offset)};return r.d=this._constructAreaProjector(t.Plot._scaledAccessor(this.x()),s,l),r},n.prototype._pixelPoint=function(n,r,i){var o=e.prototype._pixelPoint.call(this,n,r,i),a=this.x().accessor(n,r,i),s=this.y().accessor(n,r,i),l=this.y().scale.scale(+s+this._stackingResult.get(i).get(t.Utils.Stacking.normalizeKey(a)).offset);return{x:o.x,y:l}},n}(e.Area);e.StackedArea=n}(e=t.Plots||(t.Plots={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(n){function r(r){void 0===r&&(r=e.Bar.ORIENTATION_VERTICAL),n.call(this,r),this.addClass("stacked-bar-plot"),this._stackingResult=new t.Utils.Map,this._stackedExtent=[]}return i(r,n),r.prototype.x=function(t,e){return null==t?n.prototype.x.call(this):(null==e?n.prototype.x.call(this,t):n.prototype.x.call(this,t,e),this._updateStackExtentsAndOffsets(),this)},r.prototype.y=function(t,e){return null==t?n.prototype.y.call(this):(null==e?n.prototype.y.call(this,t):n.prototype.y.call(this,t,e),this._updateStackExtentsAndOffsets(),this)},r.prototype._generateAttrToProjector=function(){var e=this,r=n.prototype._generateAttrToProjector.call(this),i=this._isVertical?"y":"x",o=this._isVertical?"x":"y",a=this._isVertical?this.y().scale:this.x().scale,s=this._propertyBindings.get(i).accessor,l=this._propertyBindings.get(o).accessor,u=function(e,n,r){return t.Utils.Stacking.normalizeKey(l(e,n,r))},c=function(t,n,r){return a.scale(e._stackingResult.get(r).get(u(t,n,r)).offset)},h=function(t,n,r){return a.scale(+s(t,n,r)+e._stackingResult.get(r).get(u(t,n,r)).offset)},d=function(t,e,n){return Math.abs(h(t,e,n)-c(t,e,n))};r[this._isVertical?"height":"width"]=d;var f=function(t,e,n){return+s(t,e,n)<0?c(t,e,n):h(t,e,n)};return r[i]=function(t,n,r){return e._isVertical?f(t,n,r):f(t,n,r)-d(t,n,r)},r},r.prototype._onDatasetUpdate=function(){return this._updateStackExtentsAndOffsets(),n.prototype._onDatasetUpdate.call(this),this},r.prototype._updateExtentsForProperty=function(t){n.prototype._updateExtentsForProperty.call(this,t),"x"!==t&&"y"!==t||!this._projectorsReady()||this._updateStackExtentsAndOffsets()},r.prototype._extentsForProperty=function(t){var e=this._isVertical?"y":"x";return t===e?[this._stackedExtent]:n.prototype._extentsForProperty.call(this,t)},r.prototype._updateStackExtentsAndOffsets=function(){if(this._projectorsReady()){var e=this.datasets(),n=this._isVertical?this.x().accessor:this.y().accessor,r=this._isVertical?this.y().accessor:this.x().accessor,i=this._filterForProperty(this._isVertical?"y":"x");this._stackingResult=t.Utils.Stacking.stack(e,n,r),this._stackedExtent=t.Utils.Stacking.stackedExtent(this._stackingResult,n,i)}},r}(e.Bar);e.StackedBar=n}(e=t.Plots||(t.Plots={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(){e.call(this),this.addClass("segment-plot"),this.attr("stroke",(new t.Scales.Color).range()[0]),this.attr("stroke-width","2px")}return i(n,e),n.prototype._createDrawer=function(e){return new t.Drawers.Segment(e)},n.prototype._generateDrawSteps=function(){return[{attrToProjector:this._generateAttrToProjector(),animator:new t.Animators.Null}]},n.prototype._updateExtentsForProperty=function(t){e.prototype._updateExtentsForProperty.call(this,t),"x"===t?e.prototype._updateExtentsForProperty.call(this,"x2"):"y"===t&&e.prototype._updateExtentsForProperty.call(this,"y2")},n.prototype._filterForProperty=function(t){return"x2"===t?e.prototype._filterForProperty.call(this,"x"):"y2"===t?e.prototype._filterForProperty.call(this,"y"):e.prototype._filterForProperty.call(this,t)},n.prototype.x=function(t,r){if(null==t)return e.prototype.x.call(this);if(null==r)e.prototype.x.call(this,t);else{e.prototype.x.call(this,t,r);var i=this.x2(),o=i&&i.accessor;null!=o&&this._bindProperty(n._X2_KEY,o,r)}return this},n.prototype.x2=function(t){if(null==t)return this._propertyBindings.get(n._X2_KEY);var e=this.x(),r=e&&e.scale;return this._bindProperty(n._X2_KEY,t,r),this.render(),this},n.prototype.y=function(t,r){if(null==t)return e.prototype.y.call(this);if(null==r)e.prototype.y.call(this,t);else{e.prototype.y.call(this,t,r);var i=this.y2(),o=i&&i.accessor;null!=o&&this._bindProperty(n._Y2_KEY,o,r)}return this},n.prototype.y2=function(t){if(null==t)return this._propertyBindings.get(n._Y2_KEY);var e=this.y(),r=e&&e.scale;return this._bindProperty(n._Y2_KEY,t,r),this.render(),this},n.prototype._propertyProjectors=function(){var n=e.prototype._propertyProjectors.call(this);return n.x1=t.Plot._scaledAccessor(this.x()),n.x2=null==this.x2()?t.Plot._scaledAccessor(this.x()):t.Plot._scaledAccessor(this.x2()),n.y1=t.Plot._scaledAccessor(this.y()),n.y2=null==this.y2()?t.Plot._scaledAccessor(this.y()):t.Plot._scaledAccessor(this.y2()),n},n.prototype.entitiesIn=function(t,e){var n,r;if(null==e){var i=t;n={min:i.topLeft.x,max:i.bottomRight.x},r={min:i.topLeft.y,max:i.bottomRight.y}}else n=t,r=e;return this._entitiesIntersecting(n,r)},n.prototype._entitiesIntersecting=function(t,e){var n=this,r=[],i=this._generateAttrToProjector();return this.entities().forEach(function(o){n._lineIntersectsBox(o,t,e,i)&&r.push(o)}),r},n.prototype._lineIntersectsBox=function(t,e,n,r){var i=this,o=r.x1(t.datum,t.index,t.dataset),a=r.x2(t.datum,t.index,t.dataset),s=r.y1(t.datum,t.index,t.dataset),l=r.y2(t.datum,t.index,t.dataset);if(e.min<=o&&o<=e.max&&n.min<=s&&s<=n.max||e.min<=a&&a<=e.max&&n.min<=l&&l<=n.max)return!0;var u={x:o,y:s},c={x:a,y:l},h=[{x:e.min,y:n.min},{x:e.min,y:n.max},{x:e.max,y:n.max},{x:e.max,y:n.min}],d=h.filter(function(t,e){return 0!==e?i._lineIntersectsSegment(u,c,t,h[e-1])&&i._lineIntersectsSegment(t,h[e-1],u,c):void 0});return d.length>0},n.prototype._lineIntersectsSegment=function(t,e,n,r){var i=function(t,e,n){return(e.x-t.x)*(n.y-e.y)-(e.y-t.y)*(n.x-e.x)};return i(t,e,n)*i(t,e,r)<0},n._X2_KEY="x2",n._Y2_KEY="y2",n}(t.XYPlot);e.Segment=n}(e=t.Plots||(t.Plots={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(){e.call(this),this._connectorsEnabled=!1,this.addClass("waterfall-plot")}return i(n,e),n.prototype.connectorsEnabled=function(t){return null==t?this._connectorsEnabled:(this._connectorsEnabled=t,this)},n.prototype.total=function(t){return null==t?this._propertyBindings.get(n._TOTAL_KEY):(this._bindProperty(n._TOTAL_KEY,t,null),this)},n.prototype._additionalPaint=function(e){var n=this;this._connectorArea.selectAll("line").remove(),this._connectorsEnabled&&t.Utils.Window.setTimeout(function(){return n._drawConnectors()},e)},n.prototype._createNodesForDataset=function(t){var r=e.prototype._createNodesForDataset.call(this,t);return this._connectorArea=this._renderArea.append("g").classed(n._CONNECTOR_AREA_CLASS,!0),r},n.prototype._extentsForProperty=function(t){var n="y";return t===n?[this._extent]:e.prototype._extentsForProperty.call(this,t)},n.prototype._generateAttrToProjector=function(){var r=this,i=e.prototype._generateAttrToProjector.call(this),o=this.y().scale,a=t.Plot._scaledAccessor(this.total()),s=this.attr("y");null==s&&(i.y=function(t,e,n){var i=r.y().accessor(t,e,n),s=a(t,e,n);if(s)return Math.min(o.scale(i),o.scale(0));var l=r._subtotals[e];if(0===e)return 0>i?o.scale(l-i):o.scale(l);var u=r._subtotals[e-1];return l>u?o.scale(l):o.scale(u)});var l=this.attr("height");return null==l&&(i.height=function(t,e,n){var i=a(t,e,n),s=r.y().accessor(t,e,n);if(i)return Math.abs(o.scale(s)-o.scale(0));var l=r._subtotals[e];if(0===e)return Math.abs(o.scale(l)-o.scale(l-s));var u=r._subtotals[e-1];return Math.abs(o.scale(l)-o.scale(u))}),i["class"]=function(t,e,i){var o="";null!=r.attr("class")&&(o=r.attr("class").accessor(t,e,i)+" ");var s=a(t,e,i);if(s)return o+n._BAR_TOTAL_CLASS;var l=r.y().accessor(t,e,i);return o+(l>0?n._BAR_GROWTH_CLASS:n._BAR_DECLINE_CLASS)},i},n.prototype._onDatasetUpdate=function(){return this._updateSubtotals(),e.prototype._onDatasetUpdate.call(this),this},n.prototype._calculateSubtotalsAndExtent=function(t){var e=this,n=Number.MAX_VALUE,r=Number.MIN_VALUE,i=0,o=!1;t.data().forEach(function(a,s){var l=e.y().accessor(a,s,t),u=e.total().accessor(a,s,t);if(u&&0!==s||(i+=l),e._subtotals.push(i),n>i&&(n=i),i>r&&(r=i),u&&(n>l&&(n=l),l>r&&(r=l)),!o&&u){for(var c=l-i,h=0;h<e._subtotals.length;h++)e._subtotals[h]+=c;o=!0,i+=c,n+=c,r+=c}}),this._extent=[n,r]},n.prototype._drawConnectors=function(){for(var t=this._generateAttrToProjector(),e=this.datasets()[0],r=1;r<e.data().length;r++){var i=r-1,o=e.data()[r],a=e.data()[i],s=t.x(a,i,e),l=t.x(o,r,e)+t.width(o,r,e),u=t.y(o,r,e);(this._subtotals[r]>0&&this._subtotals[r]>this._subtotals[i]||this._subtotals[r]<0&&this._subtotals[r]>=this._subtotals[i])&&(u=t.y(o,r,e)+t.height(o,r,e)),this._connectorArea.append("line").classed(n._CONNECTOR_CLASS,!0).attr("x1",s).attr("x2",l).attr("y1",u).attr("y2",u)}},n.prototype._updateSubtotals=function(){var t=this.datasets();if(t.length>0){var e=t[t.length-1];this._subtotals=new Array,this._calculateSubtotalsAndExtent(e)}},n._BAR_DECLINE_CLASS="waterfall-decline",n._BAR_GROWTH_CLASS="waterfall-growth",n._BAR_TOTAL_CLASS="waterfall-total",n._CONNECTOR_CLASS="connector",n._CONNECTOR_AREA_CLASS="connector-area",n._TOTAL_KEY="total",n}(e.Bar);e.Waterfall=n}(e=t.Plots||(t.Plots={}))}(r||(r={}));var r;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.totalTime=function(t){return 0},t.prototype.animate=function(t,e){return t.attr(e)},t}();t.Null=e}(e=t.Animators||(t.Animators={}))}(r||(r={}));var r;!function(t){var e;!function(t){var e=function(){function t(){this._startDelay=t._DEFAULT_START_DELAY_MILLISECONDS,this._stepDuration=t._DEFAULT_STEP_DURATION_MILLISECONDS,this._stepDelay=t._DEFAULT_ITERATIVE_DELAY_MILLISECONDS,this._maxTotalDuration=t._DEFAULT_MAX_TOTAL_DURATION_MILLISECONDS,this._easingMode=t._DEFAULT_EASING_MODE}return t.prototype.totalTime=function(t){var e=this._getAdjustedIterativeDelay(t);return this.startDelay()+e*Math.max(t-1,0)+this.stepDuration()},t.prototype.animate=function(t,e){var n=this,r=t[0].length,i=this._getAdjustedIterativeDelay(r);return t.transition().ease(this.easingMode()).duration(this.stepDuration()).delay(function(t,e){return n.startDelay()+i*e}).attr(e)},t.prototype.startDelay=function(t){return null==t?this._startDelay:(this._startDelay=t,this)},t.prototype.stepDuration=function(t){return null==t?Math.min(this._stepDuration,this._maxTotalDuration):(this._stepDuration=t,this)},t.prototype.stepDelay=function(t){return null==t?this._stepDelay:(this._stepDelay=t,this)},t.prototype.maxTotalDuration=function(t){return null==t?this._maxTotalDuration:(this._maxTotalDuration=t,this)},t.prototype.easingMode=function(t){return null==t?this._easingMode:(this._easingMode=t,this)},t.prototype._getAdjustedIterativeDelay=function(t){var e=this.maxTotalDuration()-this.stepDuration();e=Math.max(e,0);var n=e/Math.max(t-1,1);return Math.min(this.stepDelay(),n)},t._DEFAULT_START_DELAY_MILLISECONDS=0,t._DEFAULT_STEP_DURATION_MILLISECONDS=300,t._DEFAULT_ITERATIVE_DELAY_MILLISECONDS=15,t._DEFAULT_MAX_TOTAL_DURATION_MILLISECONDS=1/0,t._DEFAULT_EASING_MODE="exp-out",t}();t.Easing=e}(e=t.Animators||(t.Animators={}))}(r||(r={}));var r;!function(t){var e=function(){function e(){this._eventToProcessingFunction={},this._eventNameToCallbackSet={},this._connected=!1}return e.prototype._hasNoCallbacks=function(){for(var t=Object.keys(this._eventNameToCallbackSet),e=0;e<t.length;e++)if(0!==this._eventNameToCallbackSet[t[e]].size)return!1;return!0},e.prototype._connect=function(){var t=this;this._connected||(Object.keys(this._eventToProcessingFunction).forEach(function(e){var n=t._eventToProcessingFunction[e];document.addEventListener(e,n)}),this._connected=!0)},e.prototype._disconnect=function(){var t=this;this._connected&&this._hasNoCallbacks()&&(Object.keys(this._eventToProcessingFunction).forEach(function(e){var n=t._eventToProcessingFunction[e];document.removeEventListener(e,n)}),this._connected=!1)},e.prototype._addCallbackForEvent=function(e,n){null==this._eventNameToCallbackSet[e]&&(this._eventNameToCallbackSet[e]=new t.Utils.CallbackSet),this._eventNameToCallbackSet[e].add(n),this._connect()},e.prototype._removeCallbackForEvent=function(t,e){null!=this._eventNameToCallbackSet[t]&&this._eventNameToCallbackSet[t]["delete"](e),this._disconnect()},e.prototype._callCallbacksForEvent=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this._eventNameToCallbackSet[t];null!=r&&r.callCallbacks.apply(r,e)},e}();t.Dispatcher=e}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(r){var i=this;e.call(this),this._translator=t.Utils.ClientToSVGTranslator.getTranslator(r),this._lastMousePosition={x:-1,y:-1};var o=function(t){return i._measureAndDispatch(t,n._MOUSEMOVE_EVENT_NAME,"page")};this._eventToProcessingFunction[n._MOUSEOVER_EVENT_NAME]=o,this._eventToProcessingFunction[n._MOUSEMOVE_EVENT_NAME]=o,this._eventToProcessingFunction[n._MOUSEOUT_EVENT_NAME]=o,this._eventToProcessingFunction[n._MOUSEDOWN_EVENT_NAME]=function(t){return i._measureAndDispatch(t,n._MOUSEDOWN_EVENT_NAME)},this._eventToProcessingFunction[n._MOUSEUP_EVENT_NAME]=function(t){return i._measureAndDispatch(t,n._MOUSEUP_EVENT_NAME,"page")},this._eventToProcessingFunction[n._WHEEL_EVENT_NAME]=function(t){return i._measureAndDispatch(t,n._WHEEL_EVENT_NAME)},this._eventToProcessingFunction[n._DBLCLICK_EVENT_NAME]=function(t){return i._measureAndDispatch(t,n._DBLCLICK_EVENT_NAME)}}return i(n,e),n.getDispatcher=function(e){var r=t.Utils.DOM.boundingSVG(e),i=r[n._DISPATCHER_KEY];return null==i&&(i=new n(r),r[n._DISPATCHER_KEY]=i),i},n.prototype.onMouseMove=function(t){return this._addCallbackForEvent(n._MOUSEMOVE_EVENT_NAME,t),this},n.prototype.offMouseMove=function(t){return this._removeCallbackForEvent(n._MOUSEMOVE_EVENT_NAME,t),this},n.prototype.onMouseDown=function(t){return this._addCallbackForEvent(n._MOUSEDOWN_EVENT_NAME,t),this},n.prototype.offMouseDown=function(t){return this._removeCallbackForEvent(n._MOUSEDOWN_EVENT_NAME,t),this},n.prototype.onMouseUp=function(t){return this._addCallbackForEvent(n._MOUSEUP_EVENT_NAME,t),this},n.prototype.offMouseUp=function(t){return this._removeCallbackForEvent(n._MOUSEUP_EVENT_NAME,t),this},n.prototype.onWheel=function(t){return this._addCallbackForEvent(n._WHEEL_EVENT_NAME,t),this},n.prototype.offWheel=function(t){return this._removeCallbackForEvent(n._WHEEL_EVENT_NAME,t),this},n.prototype.onDblClick=function(t){return this._addCallbackForEvent(n._DBLCLICK_EVENT_NAME,t),this},n.prototype.offDblClick=function(t){return this._removeCallbackForEvent(n._DBLCLICK_EVENT_NAME,t),this},n.prototype._measureAndDispatch=function(t,e,n){if(void 0===n&&(n="element"),
"page"!==n&&"element"!==n)throw new Error("Invalid scope '"+n+"', must be 'element' or 'page'");if("page"===n||this.eventInsideSVG(t)){var r=this._translator.computePosition(t.clientX,t.clientY);null!=r&&(this._lastMousePosition=r,this._callCallbacksForEvent(e,this.lastMousePosition(),t))}},n.prototype.eventInsideSVG=function(t){return this._translator.insideSVG(t)},n.prototype.lastMousePosition=function(){return this._lastMousePosition},n._DISPATCHER_KEY="__Plottable_Dispatcher_Mouse",n._MOUSEOVER_EVENT_NAME="mouseover",n._MOUSEMOVE_EVENT_NAME="mousemove",n._MOUSEOUT_EVENT_NAME="mouseout",n._MOUSEDOWN_EVENT_NAME="mousedown",n._MOUSEUP_EVENT_NAME="mouseup",n._WHEEL_EVENT_NAME="wheel",n._DBLCLICK_EVENT_NAME="dblclick",n}(t.Dispatcher);e.Mouse=n}(e=t.Dispatchers||(t.Dispatchers={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(r){var i=this;e.call(this),this._translator=t.Utils.ClientToSVGTranslator.getTranslator(r),this._eventToProcessingFunction[n._TOUCHSTART_EVENT_NAME]=function(t){return i._measureAndDispatch(t,n._TOUCHSTART_EVENT_NAME,"page")},this._eventToProcessingFunction[n._TOUCHMOVE_EVENT_NAME]=function(t){return i._measureAndDispatch(t,n._TOUCHMOVE_EVENT_NAME,"page")},this._eventToProcessingFunction[n._TOUCHEND_EVENT_NAME]=function(t){return i._measureAndDispatch(t,n._TOUCHEND_EVENT_NAME,"page")},this._eventToProcessingFunction[n._TOUCHCANCEL_EVENT_NAME]=function(t){return i._measureAndDispatch(t,n._TOUCHCANCEL_EVENT_NAME,"page")}}return i(n,e),n.getDispatcher=function(e){var r=t.Utils.DOM.boundingSVG(e),i=r[n._DISPATCHER_KEY];return null==i&&(i=new n(r),r[n._DISPATCHER_KEY]=i),i},n.prototype.onTouchStart=function(t){return this._addCallbackForEvent(n._TOUCHSTART_EVENT_NAME,t),this},n.prototype.offTouchStart=function(t){return this._removeCallbackForEvent(n._TOUCHSTART_EVENT_NAME,t),this},n.prototype.onTouchMove=function(t){return this._addCallbackForEvent(n._TOUCHMOVE_EVENT_NAME,t),this},n.prototype.offTouchMove=function(t){return this._removeCallbackForEvent(n._TOUCHMOVE_EVENT_NAME,t),this},n.prototype.onTouchEnd=function(t){return this._addCallbackForEvent(n._TOUCHEND_EVENT_NAME,t),this},n.prototype.offTouchEnd=function(t){return this._removeCallbackForEvent(n._TOUCHEND_EVENT_NAME,t),this},n.prototype.onTouchCancel=function(t){return this._addCallbackForEvent(n._TOUCHCANCEL_EVENT_NAME,t),this},n.prototype.offTouchCancel=function(t){return this._removeCallbackForEvent(n._TOUCHCANCEL_EVENT_NAME,t),this},n.prototype._measureAndDispatch=function(t,e,n){if(void 0===n&&(n="element"),"page"!==n&&"element"!==n)throw new Error("Invalid scope '"+n+"', must be 'element' or 'page'");if("element"!==n||this.eventInsideSVG(t)){for(var r=t.changedTouches,i={},o=[],a=0;a<r.length;a++){var s=r[a],l=s.identifier,u=this._translator.computePosition(s.clientX,s.clientY);null!=u&&(i[l]=u,o.push(l))}o.length>0&&this._callCallbacksForEvent(e,o,i,t)}},n.prototype.eventInsideSVG=function(t){return this._translator.insideSVG(t)},n._DISPATCHER_KEY="__Plottable_Dispatcher_Touch",n._TOUCHSTART_EVENT_NAME="touchstart",n._TOUCHMOVE_EVENT_NAME="touchmove",n._TOUCHEND_EVENT_NAME="touchend",n._TOUCHCANCEL_EVENT_NAME="touchcancel",n}(t.Dispatcher);e.Touch=n}(e=t.Dispatchers||(t.Dispatchers={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(t){function e(){var n=this;t.call(this),this._eventToProcessingFunction[e._KEYDOWN_EVENT_NAME]=function(t){return n._processKeydown(t)},this._eventToProcessingFunction[e._KEYUP_EVENT_NAME]=function(t){return n._processKeyup(t)}}return i(e,t),e.getDispatcher=function(){var t=document[e._DISPATCHER_KEY];return null==t&&(t=new e,document[e._DISPATCHER_KEY]=t),t},e.prototype._processKeydown=function(t){this._callCallbacksForEvent(e._KEYDOWN_EVENT_NAME,t.keyCode,t)},e.prototype._processKeyup=function(t){this._callCallbacksForEvent(e._KEYUP_EVENT_NAME,t.keyCode,t)},e.prototype.onKeyDown=function(t){return this._addCallbackForEvent(e._KEYDOWN_EVENT_NAME,t),this},e.prototype.offKeyDown=function(t){return this._removeCallbackForEvent(e._KEYDOWN_EVENT_NAME,t),this},e.prototype.onKeyUp=function(t){return this._addCallbackForEvent(e._KEYUP_EVENT_NAME,t),this},e.prototype.offKeyUp=function(t){return this._removeCallbackForEvent(e._KEYUP_EVENT_NAME,t),this},e._DISPATCHER_KEY="__Plottable_Dispatcher_Key",e._KEYDOWN_EVENT_NAME="keydown",e._KEYUP_EVENT_NAME="keyup",e}(t.Dispatcher);e.Key=n}(e=t.Dispatchers||(t.Dispatchers={}))}(r||(r={}));var r;!function(t){var e=function(){function t(){var t=this;this._anchorCallback=function(e){return t._anchor(e)},this._enabled=!0}return t.prototype._anchor=function(t){this._isAnchored=!0},t.prototype._unanchor=function(){this._isAnchored=!1},t.prototype.attachTo=function(t){return this._disconnect(),this._componentAttachedTo=t,this._connect(),this},t.prototype._connect=function(){this.enabled()&&null!=this._componentAttachedTo&&!this._isAnchored&&this._componentAttachedTo.onAnchor(this._anchorCallback)},t.prototype.detachFrom=function(t){return this._disconnect(),this._componentAttachedTo=null,this},t.prototype._disconnect=function(){this._isAnchored&&this._unanchor(),null!=this._componentAttachedTo&&this._componentAttachedTo.offAnchor(this._anchorCallback)},t.prototype.enabled=function(t){return null==t?this._enabled:(this._enabled=t,this._enabled?this._connect():this._disconnect(),this)},t.prototype._translateToComponentSpace=function(t){var e=this._componentAttachedTo.originToSVG();return{x:t.x-e.x,y:t.y-e.y}},t.prototype._isInsideComponent=function(t){return 0<=t.x&&0<=t.y&&t.x<=this._componentAttachedTo.width()&&t.y<=this._componentAttachedTo.height()},t}();t.Interaction=e}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(){var n=this;e.apply(this,arguments),this._clickedDown=!1,this._onClickCallbacks=new t.Utils.CallbackSet,this._mouseDownCallback=function(t){return n._handleClickDown(t)},this._mouseUpCallback=function(t){return n._handleClickUp(t)},this._touchStartCallback=function(t,e){return n._handleClickDown(e[t[0]])},this._touchEndCallback=function(t,e){return n._handleClickUp(e[t[0]])},this._touchCancelCallback=function(t,e){return n._clickedDown=!1}}return i(n,e),n.prototype._anchor=function(n){e.prototype._anchor.call(this,n),this._mouseDispatcher=t.Dispatchers.Mouse.getDispatcher(n.content().node()),this._mouseDispatcher.onMouseDown(this._mouseDownCallback),this._mouseDispatcher.onMouseUp(this._mouseUpCallback),this._touchDispatcher=t.Dispatchers.Touch.getDispatcher(n.content().node()),this._touchDispatcher.onTouchStart(this._touchStartCallback),this._touchDispatcher.onTouchEnd(this._touchEndCallback),this._touchDispatcher.onTouchCancel(this._touchCancelCallback)},n.prototype._unanchor=function(){e.prototype._unanchor.call(this),this._mouseDispatcher.offMouseDown(this._mouseDownCallback),this._mouseDispatcher.offMouseUp(this._mouseUpCallback),this._mouseDispatcher=null,this._touchDispatcher.offTouchStart(this._touchStartCallback),this._touchDispatcher.offTouchEnd(this._touchEndCallback),this._touchDispatcher.offTouchCancel(this._touchCancelCallback),this._touchDispatcher=null},n.prototype._handleClickDown=function(t){var e=this._translateToComponentSpace(t);this._isInsideComponent(e)&&(this._clickedDown=!0)},n.prototype._handleClickUp=function(t){var e=this._translateToComponentSpace(t);this._clickedDown&&this._isInsideComponent(e)&&this._onClickCallbacks.callCallbacks(e),this._clickedDown=!1},n.prototype.onClick=function(t){return this._onClickCallbacks.add(t),this},n.prototype.offClick=function(t){return this._onClickCallbacks["delete"](t),this},n}(t.Interaction);e.Click=n}(e=t.Interactions||(t.Interactions={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n;!function(t){t[t.NotClicked=0]="NotClicked",t[t.SingleClicked=1]="SingleClicked",t[t.DoubleClicked=2]="DoubleClicked"}(n||(n={}));var r=function(e){function r(){var r=this;e.apply(this,arguments),this._clickState=n.NotClicked,this._clickedDown=!1,this._onDoubleClickCallbacks=new t.Utils.CallbackSet,this._mouseDownCallback=function(t){return r._handleClickDown(t)},this._mouseUpCallback=function(t){return r._handleClickUp(t)},this._dblClickCallback=function(t){return r._handleDblClick()},this._touchStartCallback=function(t,e){return r._handleClickDown(e[t[0]])},this._touchEndCallback=function(t,e){return r._handleClickUp(e[t[0]])},this._touchCancelCallback=function(t,e){return r._handleClickCancel()}}return i(r,e),r.prototype._anchor=function(n){e.prototype._anchor.call(this,n),this._mouseDispatcher=t.Dispatchers.Mouse.getDispatcher(n.content().node()),this._mouseDispatcher.onMouseDown(this._mouseDownCallback),this._mouseDispatcher.onMouseUp(this._mouseUpCallback),this._mouseDispatcher.onDblClick(this._dblClickCallback),this._touchDispatcher=t.Dispatchers.Touch.getDispatcher(n.content().node()),this._touchDispatcher.onTouchStart(this._touchStartCallback),this._touchDispatcher.onTouchEnd(this._touchEndCallback),this._touchDispatcher.onTouchCancel(this._touchCancelCallback)},r.prototype._unanchor=function(){e.prototype._unanchor.call(this),this._mouseDispatcher.offMouseDown(this._mouseDownCallback),this._mouseDispatcher.offMouseUp(this._mouseUpCallback),this._mouseDispatcher.offDblClick(this._dblClickCallback),this._mouseDispatcher=null,this._touchDispatcher.offTouchStart(this._touchStartCallback),this._touchDispatcher.offTouchEnd(this._touchEndCallback),this._touchDispatcher.offTouchCancel(this._touchCancelCallback),this._touchDispatcher=null},r.prototype._handleClickDown=function(t){var e=this._translateToComponentSpace(t);this._isInsideComponent(e)&&(this._clickState===n.SingleClicked&&r._pointsEqual(e,this._clickedPoint)||(this._clickState=n.NotClicked),this._clickedPoint=e,this._clickedDown=!0)},r.prototype._handleClickUp=function(t){var e=this._translateToComponentSpace(t);this._clickedDown&&r._pointsEqual(e,this._clickedPoint)?this._clickState=this._clickState===n.NotClicked?n.SingleClicked:n.DoubleClicked:this._clickState=n.NotClicked,this._clickedDown=!1},r.prototype._handleDblClick=function(){this._clickState===n.DoubleClicked&&(this._onDoubleClickCallbacks.callCallbacks(this._clickedPoint),this._clickState=n.NotClicked)},r.prototype._handleClickCancel=function(){this._clickState=n.NotClicked,this._clickedDown=!1},r._pointsEqual=function(t,e){return t.x===e.x&&t.y===e.y},r.prototype.onDoubleClick=function(t){return this._onDoubleClickCallbacks.add(t),this},r.prototype.offDoubleClick=function(t){return this._onDoubleClickCallbacks["delete"](t),this},r}(t.Interaction);e.DoubleClick=r}(e=t.Interactions||(t.Interactions={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(){var n=this;e.apply(this,arguments),this._keyPressCallbacks={},this._keyReleaseCallbacks={},this._mouseMoveCallback=function(t){return!1},this._downedKeys=new t.Utils.Set,this._keyDownCallback=function(t,e){return n._handleKeyDownEvent(t,e)},this._keyUpCallback=function(t){return n._handleKeyUpEvent(t)}}return i(n,e),n.prototype._anchor=function(n){e.prototype._anchor.call(this,n),this._positionDispatcher=t.Dispatchers.Mouse.getDispatcher(this._componentAttachedTo._element.node()),this._positionDispatcher.onMouseMove(this._mouseMoveCallback),this._keyDispatcher=t.Dispatchers.Key.getDispatcher(),this._keyDispatcher.onKeyDown(this._keyDownCallback),this._keyDispatcher.onKeyUp(this._keyUpCallback)},n.prototype._unanchor=function(){e.prototype._unanchor.call(this),this._positionDispatcher.offMouseMove(this._mouseMoveCallback),this._positionDispatcher=null,this._keyDispatcher.offKeyDown(this._keyDownCallback),this._keyDispatcher.offKeyUp(this._keyUpCallback),this._keyDispatcher=null},n.prototype._handleKeyDownEvent=function(t,e){var n=this._translateToComponentSpace(this._positionDispatcher.lastMousePosition());this._isInsideComponent(n)&&!e.repeat&&(this._keyPressCallbacks[t]&&this._keyPressCallbacks[t].callCallbacks(t),this._downedKeys.add(t))},n.prototype._handleKeyUpEvent=function(t){this._downedKeys.has(t)&&this._keyReleaseCallbacks[t]&&this._keyReleaseCallbacks[t].callCallbacks(t),this._downedKeys["delete"](t)},n.prototype.onKeyPress=function(e,n){return this._keyPressCallbacks[e]||(this._keyPressCallbacks[e]=new t.Utils.CallbackSet),this._keyPressCallbacks[e].add(n),this},n.prototype.offKeyPress=function(t,e){return this._keyPressCallbacks[t]["delete"](e),0===this._keyPressCallbacks[t].size&&delete this._keyPressCallbacks[t],this},n.prototype.onKeyRelease=function(e,n){return this._keyReleaseCallbacks[e]||(this._keyReleaseCallbacks[e]=new t.Utils.CallbackSet),this._keyReleaseCallbacks[e].add(n),this},n.prototype.offKeyRelease=function(t,e){return this._keyReleaseCallbacks[t]["delete"](e),0===this._keyReleaseCallbacks[t].size&&delete this._keyReleaseCallbacks[t],this},n}(t.Interaction);e.Key=n}(e=t.Interactions||(t.Interactions={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(){var n=this;e.apply(this,arguments),this._overComponent=!1,this._pointerEnterCallbacks=new t.Utils.CallbackSet,this._pointerMoveCallbacks=new t.Utils.CallbackSet,this._pointerExitCallbacks=new t.Utils.CallbackSet,this._mouseMoveCallback=function(t,e){return n._handleMouseEvent(t,e)},this._touchStartCallback=function(t,e,r){return n._handleTouchEvent(e[t[0]],r)}}return i(n,e),n.prototype._anchor=function(n){e.prototype._anchor.call(this,n),this._mouseDispatcher=t.Dispatchers.Mouse.getDispatcher(this._componentAttachedTo.content().node()),this._mouseDispatcher.onMouseMove(this._mouseMoveCallback),this._touchDispatcher=t.Dispatchers.Touch.getDispatcher(this._componentAttachedTo.content().node()),this._touchDispatcher.onTouchStart(this._touchStartCallback)},n.prototype._unanchor=function(){e.prototype._unanchor.call(this),this._mouseDispatcher.offMouseMove(this._mouseMoveCallback),this._mouseDispatcher=null,this._touchDispatcher.offTouchStart(this._touchStartCallback),this._touchDispatcher=null},n.prototype._handleMouseEvent=function(t,e){var n=this._mouseDispatcher.eventInsideSVG(e);this._handlePointerEvent(t,n)},n.prototype._handleTouchEvent=function(t,e){var n=this._touchDispatcher.eventInsideSVG(e);this._handlePointerEvent(t,n)},n.prototype._handlePointerEvent=function(t,e){var n=this._translateToComponentSpace(t),r=this._isInsideComponent(n);r&&e?(this._overComponent||this._pointerEnterCallbacks.callCallbacks(n),this._pointerMoveCallbacks.callCallbacks(n)):this._overComponent&&this._pointerExitCallbacks.callCallbacks(n),this._overComponent=r&&e},n.prototype.onPointerEnter=function(t){return this._pointerEnterCallbacks.add(t),this},n.prototype.offPointerEnter=function(t){return this._pointerEnterCallbacks["delete"](t),this},n.prototype.onPointerMove=function(t){return this._pointerMoveCallbacks.add(t),this},n.prototype.offPointerMove=function(t){return this._pointerMoveCallbacks["delete"](t),this},n.prototype.onPointerExit=function(t){return this._pointerExitCallbacks.add(t),this},n.prototype.offPointerExit=function(t){return this._pointerExitCallbacks["delete"](t),this},n}(t.Interaction);e.Pointer=n}(e=t.Interactions||(t.Interactions={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(n){function r(r,i){var o=this;n.call(this),this._wheelCallback=function(t,e){return o._handleWheelEvent(t,e)},this._touchStartCallback=function(t,e,n){return o._handleTouchStart(t,e,n)},this._touchMoveCallback=function(t,e,n){return o._handlePinch(t,e,n)},this._touchEndCallback=function(t,e,n){return o._handleTouchEnd(t,e,n)},this._touchCancelCallback=function(t,e,n){return o._handleTouchEnd(t,e,n)},this._xScales=new t.Utils.Set,this._yScales=new t.Utils.Set,this._dragInteraction=new e.Drag,this._setupDragInteraction(),this._touchIds=d3.map(),this._minDomainExtents=new t.Utils.Map,this._maxDomainExtents=new t.Utils.Map,null!=r&&this.addXScale(r),null!=i&&this.addYScale(i)}return i(r,n),r.prototype._anchor=function(e){n.prototype._anchor.call(this,e),this._dragInteraction.attachTo(e),this._mouseDispatcher=t.Dispatchers.Mouse.getDispatcher(this._componentAttachedTo.content().node()),this._mouseDispatcher.onWheel(this._wheelCallback),this._touchDispatcher=t.Dispatchers.Touch.getDispatcher(this._componentAttachedTo.content().node()),this._touchDispatcher.onTouchStart(this._touchStartCallback),this._touchDispatcher.onTouchMove(this._touchMoveCallback),this._touchDispatcher.onTouchEnd(this._touchEndCallback),this._touchDispatcher.onTouchCancel(this._touchCancelCallback)},r.prototype._unanchor=function(){n.prototype._unanchor.call(this),this._mouseDispatcher.offWheel(this._wheelCallback),this._mouseDispatcher=null,this._touchDispatcher.offTouchStart(this._touchStartCallback),this._touchDispatcher.offTouchMove(this._touchMoveCallback),this._touchDispatcher.offTouchEnd(this._touchEndCallback),this._touchDispatcher.offTouchCancel(this._touchCancelCallback),this._touchDispatcher=null,this._dragInteraction.detachFrom(this._componentAttachedTo)},r.prototype._handleTouchStart=function(t,e,n){for(var r=0;r<t.length&&this._touchIds.size()<2;r++){var i=t[r];this._touchIds.set(i.toString(),this._translateToComponentSpace(e[i]))}},r.prototype._handlePinch=function(t,e,n){var i=this;if(!(this._touchIds.size()<2)){var o=this._touchIds.values();if(this._isInsideComponent(this._translateToComponentSpace(o[0]))&&this._isInsideComponent(this._translateToComponentSpace(o[1]))){var a=r._pointDistance(o[0],o[1]);if(0!==a){t.forEach(function(t){i._touchIds.has(t.toString())&&i._touchIds.set(t.toString(),i._translateToComponentSpace(e[t]))});var s=this._touchIds.values(),l=r._pointDistance(s[0],s[1]);if(0!==l){var u=a/l,c=s.map(function(t,e){return{x:(t.x-o[e].x)/u,y:(t.y-o[e].y)/u}});this.xScales().forEach(function(t){u=i._constrainedZoomAmount(t,u)}),this.yScales().forEach(function(t){u=i._constrainedZoomAmount(t,u)});var h=o.map(function(t,e){return{x:c[e].x*u+t.x,y:c[e].y*u+t.y}}),d=r._centerPoint(o[0],o[1]),f=d.x-(h[0].x+h[1].x)/2;this.xScales().forEach(function(t){i._magnifyScale(t,u,d.x),i._translateScale(t,f)});var p=d.y-(h[0].y+h[1].y)/2;this.yScales().forEach(function(t){i._magnifyScale(t,u,d.y),i._translateScale(t,p)})}}}}},r._centerPoint=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y);return{x:(n+r)/2,y:(o+i)/2}},r._pointDistance=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y);return Math.sqrt(Math.pow(r-n,2)+Math.pow(o-i,2))},r.prototype._handleTouchEnd=function(t,e,n){var r=this;t.forEach(function(t){r._touchIds.remove(t.toString())})},r.prototype._magnifyScale=function(t,e,n){var r=function(r){return t.invert(n-(n-r)*e)};t.domain(t.range().map(r))},r.prototype._translateScale=function(t,e){var n=function(n){return t.invert(n+e)};t.domain(t.range().map(n))},r.prototype._handleWheelEvent=function(t,e){var n=this,i=this._translateToComponentSpace(t);if(this._isInsideComponent(i)){e.preventDefault();var o=e.deltaY*(e.deltaMode?r._PIXELS_PER_LINE:1),a=Math.pow(2,.002*o);this.xScales().forEach(function(t){a=n._constrainedZoomAmount(t,a)}),this.yScales().forEach(function(t){a=n._constrainedZoomAmount(t,a)}),this.xScales().forEach(function(t){n._magnifyScale(t,a,i.x)}),this.yScales().forEach(function(t){n._magnifyScale(t,a,i.y)})}},r.prototype._constrainedZoomAmount=function(t,e){var n=e>1,r=n?this.maxDomainExtent(t):this.minDomainExtent(t);if(null==r)return e;var i=t.domain(),o=Math.abs(i[1]-i[0]),a=n?Math.min:Math.max;return a(e,r/o)},r.prototype._setupDragInteraction=function(){var t=this;this._dragInteraction.constrainedToComponent(!1);var e;this._dragInteraction.onDragStart(function(){return e=null}),this._dragInteraction.onDrag(function(n,r){if(!(t._touchIds.size()>=2)){var i=(null==e?n.x:e.x)-r.x;t.xScales().forEach(function(e){t._translateScale(e,i)});var o=(null==e?n.y:e.y)-r.y;t.yScales().forEach(function(e){t._translateScale(e,o)}),e=r}})},r.prototype._nonLinearScaleWithExtents=function(e){return!(null==this.minDomainExtent(e)||null==this.maxDomainExtent(e)||e instanceof t.Scales.Linear||e instanceof t.Scales.Time)},r.prototype.xScales=function(e){var n=this;if(null==e){var r=[];return this._xScales.forEach(function(t){r.push(t)}),r}return this._xScales=new t.Utils.Set,e.forEach(function(t){n.addXScale(t)}),this},r.prototype.yScales=function(e){var n=this;if(null==e){var r=[];return this._yScales.forEach(function(t){r.push(t)}),r}return this._yScales=new t.Utils.Set,e.forEach(function(t){n.addYScale(t)}),this},r.prototype.addXScale=function(t){return this._xScales.add(t),this},r.prototype.removeXScale=function(t){return this._xScales["delete"](t),this._minDomainExtents["delete"](t),this._maxDomainExtents["delete"](t),this},r.prototype.addYScale=function(t){return this._yScales.add(t),this},r.prototype.removeYScale=function(t){return this._yScales["delete"](t),this._minDomainExtents["delete"](t),this._maxDomainExtents["delete"](t),this},r.prototype.minDomainExtent=function(e,n){if(null==n)return this._minDomainExtents.get(e);if(n.valueOf()<0)throw new Error("extent must be non-negative");var r=this.maxDomainExtent(e);if(null!=r&&r.valueOf()<n.valueOf())throw new Error("minDomainExtent must be smaller than maxDomainExtent for the same Scale");return this._nonLinearScaleWithExtents(e)&&t.Utils.Window.warn("Panning and zooming with extents on a nonlinear scale may have unintended behavior."),this._minDomainExtents.set(e,n),this},r.prototype.maxDomainExtent=function(e,n){if(null==n)return this._maxDomainExtents.get(e);if(n.valueOf()<=0)throw new Error("extent must be positive");var r=this.minDomainExtent(e);if(null!=r&&n.valueOf()<r.valueOf())throw new Error("maxDomainExtent must be larger than minDomainExtent for the same Scale");return this._nonLinearScaleWithExtents(e)&&t.Utils.Window.warn("Panning and zooming with extents on a nonlinear scale may have unintended behavior."),this._maxDomainExtents.set(e,n),this},r._PIXELS_PER_LINE=120,r}(t.Interaction);e.PanZoom=n}(e=t.Interactions||(t.Interactions={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(){var n=this;e.apply(this,arguments),this._dragging=!1,this._constrainedToComponent=!0,this._dragStartCallbacks=new t.Utils.CallbackSet,this._dragCallbacks=new t.Utils.CallbackSet,this._dragEndCallbacks=new t.Utils.CallbackSet,this._mouseDownCallback=function(t,e){return n._startDrag(t,e)},this._mouseMoveCallback=function(t,e){return n._doDrag(t,e)},this._mouseUpCallback=function(t,e){return n._endDrag(t,e)},this._touchStartCallback=function(t,e,r){return n._startDrag(e[t[0]],r)},this._touchMoveCallback=function(t,e,r){return n._doDrag(e[t[0]],r)},this._touchEndCallback=function(t,e,r){return n._endDrag(e[t[0]],r)}}return i(n,e),n.prototype._anchor=function(n){e.prototype._anchor.call(this,n),this._mouseDispatcher=t.Dispatchers.Mouse.getDispatcher(this._componentAttachedTo.content().node()),this._mouseDispatcher.onMouseDown(this._mouseDownCallback),this._mouseDispatcher.onMouseMove(this._mouseMoveCallback),this._mouseDispatcher.onMouseUp(this._mouseUpCallback),this._touchDispatcher=t.Dispatchers.Touch.getDispatcher(this._componentAttachedTo.content().node()),this._touchDispatcher.onTouchStart(this._touchStartCallback),this._touchDispatcher.onTouchMove(this._touchMoveCallback),this._touchDispatcher.onTouchEnd(this._touchEndCallback)},n.prototype._unanchor=function(){e.prototype._unanchor.call(this),this._mouseDispatcher.offMouseDown(this._mouseDownCallback),this._mouseDispatcher.offMouseMove(this._mouseMoveCallback),this._mouseDispatcher.offMouseUp(this._mouseUpCallback),this._mouseDispatcher=null,this._touchDispatcher.offTouchStart(this._touchStartCallback),this._touchDispatcher.offTouchMove(this._touchMoveCallback),this._touchDispatcher.offTouchEnd(this._touchEndCallback),this._touchDispatcher=null},n.prototype._translateAndConstrain=function(e){var n=this._translateToComponentSpace(e);return this._constrainedToComponent?{x:t.Utils.Math.clamp(n.x,0,this._componentAttachedTo.width()),y:t.Utils.Math.clamp(n.y,0,this._componentAttachedTo.height())}:n},n.prototype._startDrag=function(t,e){if(!(e instanceof MouseEvent&&0!==e.button)){var n=this._translateToComponentSpace(t);this._isInsideComponent(n)&&(e.preventDefault(),this._dragging=!0,this._dragOrigin=n,this._dragStartCallbacks.callCallbacks(this._dragOrigin))}},n.prototype._doDrag=function(t,e){this._dragging&&this._dragCallbacks.callCallbacks(this._dragOrigin,this._translateAndConstrain(t))},n.prototype._endDrag=function(t,e){e instanceof MouseEvent&&0!==e.button||this._dragging&&(this._dragging=!1,this._dragEndCallbacks.callCallbacks(this._dragOrigin,this._translateAndConstrain(t)))},n.prototype.constrainedToComponent=function(t){return null==t?this._constrainedToComponent:(this._constrainedToComponent=t,this)},n.prototype.onDragStart=function(t){return this._dragStartCallbacks.add(t),this},n.prototype.offDragStart=function(t){return this._dragStartCallbacks["delete"](t),this},n.prototype.onDrag=function(t){return this._dragCallbacks.add(t),this},n.prototype.offDrag=function(t){return this._dragCallbacks["delete"](t),this},n.prototype.onDragEnd=function(t){return this._dragEndCallbacks.add(t),this},n.prototype.offDragEnd=function(t){return this._dragEndCallbacks["delete"](t),this},n}(t.Interaction);e.Drag=n}(e=t.Interactions||(t.Interactions={}))}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(n){function r(){n.call(this),this._detectionRadius=3,this._resizable=!1,this._movable=!1,this._hasCorners=!0,this.addClass("drag-box-layer"),this._dragInteraction=new t.Interactions.Drag,this._setUpCallbacks(),this._dragInteraction.attachTo(this),this._dragStartCallbacks=new t.Utils.CallbackSet,this._dragCallbacks=new t.Utils.CallbackSet,this._dragEndCallbacks=new t.Utils.CallbackSet}return i(r,n),r.prototype._setUpCallbacks=function(){var t,n,r,i,o=this,a={newBox:0,resize:1,move:2},s=a.newBox,l=function(l){t=o._getResizingEdges(l);var u=o.bounds(),c=u.topLeft.x<=l.x&&l.x<=u.bottomRight.x&&u.topLeft.y<=l.y&&l.y<=u.bottomRight.y;o.boxVisible()&&(t.top||t.bottom||t.left||t.right)?s=a.resize:o.boxVisible()&&o.movable()&&c?s=a.move:(s=a.newBox,o._setBounds({topLeft:l,bottomRight:l}),o._xBoundsMode===e.PropertyMode.VALUE&&null!=o.xScale()&&o._setXExtent([o.xScale().invert(l.x),o.xScale().invert(l.x)]),o._yBoundsMode===e.PropertyMode.VALUE&&null!=o.yScale()&&o._setYExtent([o.yScale().invert(l.y),o.yScale().invert(l.y)]),o.render()),o.boxVisible(!0),u=o.bounds(),n={x:u.topLeft.x,y:u.topLeft.y},r={x:u.bottomRight.x,y:u.bottomRight.y},i=l,o._dragStartCallbacks.callCallbacks(u)},u=function(l,u){switch(s){case a.newBox:r.x=u.x,r.y=u.y;break;case a.resize:t.bottom?r.y=u.y:t.top&&(n.y=u.y),t.right?r.x=u.x:t.left&&(n.x=u.x);break;case a.move:var c=u.x-i.x,h=u.y-i.y;n.x+=c,n.y+=h,r.x+=c,r.y+=h,i=u}o._setBounds({topLeft:n,bottomRight:r}),o._xBoundsMode===e.PropertyMode.VALUE&&null!=o.xScale()&&o._setXExtent([o.xScale().invert(n.x),o.xScale().invert(r.x)]),o._yBoundsMode===e.PropertyMode.VALUE&&null!=o.yScale()&&o._setYExtent([o.yScale().invert(n.y),o.yScale().invert(r.y)]),o.render(),o._dragCallbacks.callCallbacks(o.bounds())},c=function(t,e){s===a.newBox&&t.x===e.x&&t.y===e.y&&o.boxVisible(!1),o._dragEndCallbacks.callCallbacks(o.bounds())};this._dragInteraction.onDragStart(l),this._dragInteraction.onDrag(u),this._dragInteraction.onDragEnd(c),this._disconnectInteraction=function(){o._dragInteraction.offDragStart(l),o._dragInteraction.offDrag(u),o._dragInteraction.offDragEnd(c),o._dragInteraction.detachFrom(o)}},r.prototype._setup=function(){var t=this;n.prototype._setup.call(this);var e=function(){return t._box.append("line").style({opacity:0,stroke:"pink","pointer-events":"visibleStroke"})};if(this._detectionEdgeT=e().classed("drag-edge-tb",!0),this._detectionEdgeB=e().classed("drag-edge-tb",!0),this._detectionEdgeL=e().classed("drag-edge-lr",!0),this._detectionEdgeR=e().classed("drag-edge-lr",!0),this._hasCorners){var r=function(){return t._box.append("circle").style({opacity:0,fill:"pink","pointer-events":"visibleFill"})};this._detectionCornerTL=r().classed("drag-corner-tl",!0),this._detectionCornerTR=r().classed("drag-corner-tr",!0),this._detectionCornerBL=r().classed("drag-corner-bl",!0),this._detectionCornerBR=r().classed("drag-corner-br",!0)}},r.prototype._getResizingEdges=function(t){var e={top:!1,bottom:!1,left:!1,right:!1};if(!this.resizable())return e;var n=this.bounds(),r=n.topLeft.y,i=n.bottomRight.y,o=n.topLeft.x,a=n.bottomRight.x,s=this._detectionRadius;return o-s<=t.x&&t.x<=a+s&&(e.top=r-s<=t.y&&t.y<=r+s,e.bottom=i-s<=t.y&&t.y<=i+s),r-s<=t.y&&t.y<=i+s&&(e.left=o-s<=t.x&&t.x<=o+s,e.right=a-s<=t.x&&t.x<=a+s),e},r.prototype.renderImmediately=function(){if(n.prototype.renderImmediately.call(this),this.boxVisible()){var t=this.bounds(),e=t.topLeft.y,r=t.bottomRight.y,i=t.topLeft.x,o=t.bottomRight.x;return this._detectionEdgeT.attr({x1:i,y1:e,x2:o,y2:e,"stroke-width":2*this._detectionRadius}),this._detectionEdgeB.attr({x1:i,y1:r,x2:o,y2:r,"stroke-width":2*this._detectionRadius}),this._detectionEdgeL.attr({x1:i,y1:e,x2:i,y2:r,"stroke-width":2*this._detectionRadius}),this._detectionEdgeR.attr({x1:o,y1:e,x2:o,y2:r,"stroke-width":2*this._detectionRadius}),this._hasCorners&&(this._detectionCornerTL.attr({cx:i,cy:e,r:this._detectionRadius}),this._detectionCornerTR.attr({cx:o,cy:e,r:this._detectionRadius}),this._detectionCornerBL.attr({cx:i,cy:r,r:this._detectionRadius}),this._detectionCornerBR.attr({cx:o,cy:r,r:this._detectionRadius})),this}},r.prototype.detectionRadius=function(t){if(null==t)return this._detectionRadius;if(0>t)throw new Error("detection radius cannot be negative.");return this._detectionRadius=t,this.render(),this},r.prototype.resizable=function(t){return null==t?this._resizable:(this._resizable=t,this._setResizableClasses(t),this)},r.prototype._setResizableClasses=function(t){t&&this.enabled()?(this.addClass("x-resizable"),this.addClass("y-resizable")):(this.removeClass("x-resizable"),this.removeClass("y-resizable"))},r.prototype.movable=function(t){return null==t?this._movable:(this._movable=t,this._setMovableClass(),this)},r.prototype._setMovableClass=function(){this.movable()&&this.enabled()?this.addClass("movable"):this.removeClass("movable")},r.prototype.onDragStart=function(t){return this._dragStartCallbacks.add(t),this},r.prototype.offDragStart=function(t){return this._dragStartCallbacks["delete"](t),this},r.prototype.onDrag=function(t){return this._dragCallbacks.add(t),this},r.prototype.offDrag=function(t){return this._dragCallbacks["delete"](t),this},r.prototype.onDragEnd=function(t){return this._dragEndCallbacks.add(t),this},r.prototype.offDragEnd=function(t){return this._dragEndCallbacks["delete"](t),this},r.prototype.dragInteraction=function(){return this._dragInteraction},r.prototype.enabled=function(t){return null==t?this._dragInteraction.enabled():(this._dragInteraction.enabled(t),this._setResizableClasses(this.resizable()),this._setMovableClass(),this)},r.prototype.destroy=function(){var t=this;n.prototype.destroy.call(this),this._dragStartCallbacks.forEach(function(e){return t._dragCallbacks["delete"](e)}),this._dragCallbacks.forEach(function(e){return t._dragCallbacks["delete"](e)}),this._dragEndCallbacks.forEach(function(e){return t._dragEndCallbacks["delete"](e)}),this._disconnectInteraction()},r.prototype.detach=function(){return this._resetState(),this._dragInteraction.detachFrom(this),n.prototype.detach.call(this),this},r.prototype.anchor=function(t){return this._dragInteraction.attachTo(this),n.prototype.anchor.call(this,t),this},r.prototype._resetState=function(){this.bounds({topLeft:{x:0,y:0},bottomRight:{x:0,y:0}})},r}(e.SelectionBoxLayer);e.DragBoxLayer=n}(e=t.Components||(t.Components={}))}(r||(r={}));var r;!function(t){var e;!function(t){var e=function(t){function e(){t.call(this),this.addClass("x-drag-box-layer"),this._hasCorners=!1}return i(e,t),e.prototype.computeLayout=function(e,n,r){return t.prototype.computeLayout.call(this,e,n,r),
this._setBounds(this.bounds()),this},e.prototype._setBounds=function(e){t.prototype._setBounds.call(this,{topLeft:{x:e.topLeft.x,y:0},bottomRight:{x:e.bottomRight.x,y:this.height()}})},e.prototype._setResizableClasses=function(t){t&&this.enabled()?this.addClass("x-resizable"):this.removeClass("x-resizable")},e.prototype.yScale=function(e){if(null==e)return t.prototype.yScale.call(this);throw new Error("yScales cannot be set on an XDragBoxLayer")},e.prototype.yExtent=function(e){if(null==e)return t.prototype.yExtent.call(this);throw new Error("XDragBoxLayer has no yExtent")},e}(t.DragBoxLayer);t.XDragBoxLayer=e}(e=t.Components||(t.Components={}))}(r||(r={}));var r;!function(t){var e;!function(t){var e=function(t){function e(){t.call(this),this.addClass("y-drag-box-layer"),this._hasCorners=!1}return i(e,t),e.prototype.computeLayout=function(e,n,r){return t.prototype.computeLayout.call(this,e,n,r),this._setBounds(this.bounds()),this},e.prototype._setBounds=function(e){t.prototype._setBounds.call(this,{topLeft:{x:0,y:e.topLeft.y},bottomRight:{x:this.width(),y:e.bottomRight.y}})},e.prototype._setResizableClasses=function(t){t&&this.enabled()?this.addClass("y-resizable"):this.removeClass("y-resizable")},e.prototype.xScale=function(e){if(null==e)return t.prototype.xScale.call(this);throw new Error("xScales cannot be set on an YDragBoxLayer")},e.prototype.xExtent=function(e){if(null==e)return t.prototype.xExtent.call(this);throw new Error("YDragBoxLayer has no xExtent")},e}(t.DragBoxLayer);t.YDragBoxLayer=e}(e=t.Components||(t.Components={}))}(r||(r={}));var r;!function(t){}(r||(r={}));var r;!function(t){var e;!function(e){var n=function(e){function n(n){var r=this;e.call(this,n),this._detectionRadius=3,this._enabled=!0,this.addClass("drag-line-layer"),this.addClass("enabled"),this._dragInteraction=new t.Interactions.Drag,this._dragInteraction.attachTo(this);var i=function(t){return r._isVertical()&&r.pixelPosition()-r.detectionRadius()<=t.x&&t.x<=r.pixelPosition()+r.detectionRadius()||!r._isVertical()&&r.pixelPosition()-r.detectionRadius()<=t.y&&t.y<=r.pixelPosition()+r.detectionRadius()},o=!1,a=function(t){i(t)&&(o=!0,r._dragStartCallbacks.callCallbacks(r))};this._dragInteraction.onDragStart(a);var s=function(t,e){o&&(r._setPixelPositionWithoutChangingMode(r._isVertical()?e.x:e.y),r._dragCallbacks.callCallbacks(r))};this._dragInteraction.onDrag(s);var l=function(t,e){o&&(o=!1,r._dragEndCallbacks.callCallbacks(r))};this._dragInteraction.onDragEnd(l),this._disconnectInteraction=function(){r._dragInteraction.offDragStart(a),r._dragInteraction.offDrag(s),r._dragInteraction.offDragEnd(l),r._dragInteraction.detachFrom(r)},this._dragStartCallbacks=new t.Utils.CallbackSet,this._dragCallbacks=new t.Utils.CallbackSet,this._dragEndCallbacks=new t.Utils.CallbackSet}return i(n,e),n.prototype._setup=function(){e.prototype._setup.call(this),this._detectionEdge=this.content().append("line").style({opacity:0,stroke:"pink","pointer-events":"visibleStroke"}).classed("drag-edge",!0)},n.prototype.renderImmediately=function(){return e.prototype.renderImmediately.call(this),this._detectionEdge.attr({x1:this._isVertical()?this.pixelPosition():0,y1:this._isVertical()?0:this.pixelPosition(),x2:this._isVertical()?this.pixelPosition():this.width(),y2:this._isVertical()?this.height():this.pixelPosition(),"stroke-width":2*this._detectionRadius}),this},n.prototype.detectionRadius=function(t){if(null==t)return this._detectionRadius;if(0>t)throw new Error("detection radius cannot be negative.");return this._detectionRadius=t,this.render(),this},n.prototype.enabled=function(t){return null==t?this._enabled:(this._enabled=t,t?this.addClass("enabled"):this.removeClass("enabled"),this._dragInteraction.enabled(t),this)},n.prototype.onDragStart=function(t){return this._dragStartCallbacks.add(t),this},n.prototype.offDragStart=function(t){return this._dragStartCallbacks["delete"](t),this},n.prototype.onDrag=function(t){return this._dragCallbacks.add(t),this},n.prototype.offDrag=function(t){return this._dragCallbacks["delete"](t),this},n.prototype.onDragEnd=function(t){return this._dragEndCallbacks.add(t),this},n.prototype.offDragEnd=function(t){return this._dragEndCallbacks["delete"](t),this},n.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),this._dragStartCallbacks.forEach(function(e){return t._dragStartCallbacks["delete"](e)}),this._dragCallbacks.forEach(function(e){return t._dragCallbacks["delete"](e)}),this._dragEndCallbacks.forEach(function(e){return t._dragEndCallbacks["delete"](e)}),this._disconnectInteraction()},n}(e.GuideLineLayer);e.DragLineLayer=n}(e=t.Components||(t.Components={}))}(r||(r={}));var o;!function(t){var e;!function(t){var e;!function(t){function e(t,e){if(null==t||null==e)return t===e;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function n(t,n){if(null==t||null==n)return t===n;var r=Object.keys(t).sort(),i=Object.keys(n).sort(),o=r.map(function(e){return t[e]}),a=i.map(function(t){return n[t]});return e(r,i)&&e(o,a)}t.arrayEq=e,t.objEq=n}(e=t.Methods||(t.Methods={}))}(e=t.Utils||(t.Utils={}))}(o||(o={}));var o;!function(t){var e;!function(t){var e;!function(t){function e(t,e,n){var r=d3.transform(t.attr("transform"));return null==e?r.translate:(n=null==n?0:n,r.translate[0]=e,r.translate[1]=n,t.attr("transform",r.toString()),t)}function n(t){var e;try{e=t.node().getBBox()}catch(n){e={x:0,y:0,width:0,height:0}}return e}t.transform=e,t.getBBox=n}(e=t.DOM||(t.DOM={}))}(e=t.Utils||(t.Utils={}))}(o||(o={}));var o;!function(t){var e;!function(t){var e=function(){function t(t,e){void 0===e&&(e=function(t,e){return t===e}),this.cache=d3.map(),this.compute=t,this.valueEq=e}return t.prototype.get=function(t){return this.cache.has(t)||this.cache.set(t,this.compute(t)),this.cache.get(t)},t.prototype.clear=function(){return this.cache=d3.map(),this},t}();t.Cache=e}(e=t.Utils||(t.Utils={}))}(o||(o={}));var o;!function(t){var e;!function(t){var e=function(){function t(){this.WordDividerRegExp=new RegExp("\\W"),this.WhitespaceRegExp=new RegExp("\\s")}return t.prototype.tokenize=function(t){var e=this;return t.split("").reduce(function(t,n){return t.slice(0,-1).concat(e.shouldCreateNewToken(t[t.length-1],n))},[""])},t.prototype.shouldCreateNewToken=function(t,e){if(!t)return[e];var n=t[t.length-1];return this.WhitespaceRegExp.test(n)&&this.WhitespaceRegExp.test(e)?[t+e]:this.WhitespaceRegExp.test(n)||this.WhitespaceRegExp.test(e)?[t,e]:this.WordDividerRegExp.test(n)||this.WordDividerRegExp.test(e)?n===e?[t+e]:[t,e]:[t+e]},t}();t.Tokenizer=e}(e=t.Utils||(t.Utils={}))}(o||(o={}));var o;!function(t){var e;!function(t){var e;!function(t){function e(t){return t.replace(/\s+/g," ")}function n(t){return t&&""!==t.trim()}function r(t,e){if(!t)return t;var r=t.split(""),i=e?function(t){return t.split(e).some(n)}:n;return r.reduce(function(t,e){return i(t+e)?t+e:t},"")}function i(t,e){if(!t)return t;var n=t.split("");return n.reverse(),n=r(n.join(""),e).split(""),n.reverse(),n.join("")}t.combineWhitespace=e,t.isNotEmptyString=n,t.trimStart=r,t.trimEnd=i}(e=t.StringMethods||(t.StringMethods={}))}(e=t.Utils||(t.Utils={}))}(o||(o={}));var o;!function(t){var e;!function(t){var e=function(){function t(){this.duration(t.DEFAULT_DURATION_MILLISECONDS),this.delay(0),this.easing(t.DEFAULT_EASING),this.moveX(0),this.moveY(0)}return t.prototype.animate=function(t){var e=d3.transform("");return e.translate=[this.moveX(),this.moveY()],t.attr("transform",e.toString()),e.translate=[0,0],this._animate(t,{transform:e.toString()})},t.prototype._animate=function(t,e){return t.transition().ease(this.easing()).duration(this.duration()).delay(this.delay()).attr(e)},t.prototype.duration=function(t){return null==t?this._duration:(this._duration=t,this)},t.prototype.moveX=function(t){return null==t?this._moveX:(this._moveX=t,this)},t.prototype.moveY=function(t){return null==t?this._moveY:(this._moveY=t,this)},t.prototype.delay=function(t){return null==t?this._delay:(this._delay=t,this)},t.prototype.easing=function(t){return null==t?this._easing:(this._easing=t,this)},t.DEFAULT_DURATION_MILLISECONDS=300,t.DEFAULT_EASING="exp-out",t}();t.BaseAnimator=e}(e=t.Animators||(t.Animators={}))}(o||(o={}));var o,i=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n};!function(t){var e;!function(e){var n=function(e){function n(){this.direction("bottom"),e.call(this)}return i(n,e),n.prototype.direction=function(t){if(null==t)return this._direction;if(-1===n.SupportedDirections.indexOf(t))throw new Error("unsupported direction - "+t);return this._direction=t,this},n.prototype.animate=function(n){var r=t.Utils.DOM.getBBox(n),i=n.select(".clip-rect");switch(i.attr("width",0),i.attr("height",0),this._direction){case"top":i.attr("y",r.y+r.height),i.attr("x",r.x),i.attr("width",r.width);break;case"bottom":i.attr("y",r.y),i.attr("x",r.x),i.attr("width",r.width);break;case"left":i.attr("y",r.y),i.attr("x",r.x),i.attr("height",r.height);break;case"right":i.attr("y",r.y),i.attr("x",r.x+r.width),i.attr("height",r.height)}return this._animate(i,r),e.prototype.animate.call(this,n)},n.SupportedDirections=["top","bottom","left","right"],n}(e.BaseAnimator);e.UnveilAnimator=n}(e=t.Animators||(t.Animators={}))}(o||(o={}));var o,i=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n};!function(t){var e;!function(t){var e=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.animate=function(e){var n=e.select(".text-area");n.attr("opacity",0);var r={opacity:1};return this._animate(n,r),t.prototype.animate.call(this,e)},e}(t.BaseAnimator);t.OpacityAnimator=e}(e=t.Animators||(t.Animators={}))}(o||(o={}));var o;!function(t){var e;!function(e){var n=function(){function e(){this.maxLines(1/0),this.textTrimming("ellipsis"),this.allowBreakingWords(!0),this._tokenizer=new t.Utils.Tokenizer,this._breakingCharacter="-"}return e.prototype.maxLines=function(t){return null==t?this._maxLines:(this._maxLines=t,this)},e.prototype.textTrimming=function(t){if(null==t)return this._textTrimming;if("ellipsis"!==t&&"none"!==t)throw new Error(t+" - unsupported text trimming option.");return this._textTrimming=t,this},e.prototype.allowBreakingWords=function(t){return null==t?this._allowBreakingWords:(this._allowBreakingWords=t,this)},e.prototype.wrap=function(t,e,n,r){var i=this;void 0===r&&(r=1/0);var o={originalText:t,wrappedText:"",noLines:0,noBrokeWords:0,truncatedText:""},a={wrapping:o,currentLine:"",availableWidth:n,availableLines:Math.min(Math.floor(r/e.measure().height),this._maxLines),canFitText:!0},s=t.split("\n");return s.reduce(function(t,n,r){return i.breakLineToFitWidth(t,n,r!==s.length-1,e)},a).wrapping},e.prototype.breakLineToFitWidth=function(e,n,r,i){var o=this;e.canFitText||""===e.wrapping.truncatedText||(e.wrapping.truncatedText+="\n");var a=this._tokenizer.tokenize(n);e=a.reduce(function(t,e){return o.wrapNextToken(e,t,i)},e);var s=t.Utils.StringMethods.trimEnd(e.currentLine);if(e.wrapping.noLines+=+(""!==s),e.wrapping.noLines===e.availableLines&&"none"!==this._textTrimming&&r){var l=this.addEllipsis(s,e.availableWidth,i);e.wrapping.wrappedText+=l.wrappedToken,e.wrapping.truncatedText+=l.remainingToken,e.canFitText=!1}else e.wrapping.wrappedText+=s;return e.currentLine="\n",e},e.prototype.canFitToken=function(t,e,n){var r=this,i=this._allowBreakingWords?t.split("").map(function(e,n){return n!==t.length-1?e+r._breakingCharacter:e}):[t];return n.measure(t).width<=e||i.every(function(t){return n.measure(t).width<=e})},e.prototype.addEllipsis=function(e,n,r){if("none"===this._textTrimming)return{wrappedToken:e,remainingToken:""};var i=e.substring(0).trim(),o=r.measure(i).width,a=r.measure("...").width,s=e.length>0&&"\n"===e[0]?"\n":"";if(a>=n){var l=a/3,u=Math.floor(n/l);return{wrappedToken:s+"...".substr(0,u),remainingToken:e}}for(;o+a>n;)i=t.Utils.StringMethods.trimEnd(i.substr(0,i.length-1)),o=r.measure(i).width;return{wrappedToken:s+i+"...",remainingToken:t.Utils.StringMethods.trimEnd(e.substring(i.length),"-").trim()}},e.prototype.wrapNextToken=function(e,n,r){if(!n.canFitText||n.availableLines===n.wrapping.noLines||!this.canFitToken(e,n.availableWidth,r))return this.finishWrapping(e,n,r);for(var i=e;i;){var o=this.breakTokenToFitInWidth(i,n.currentLine,n.availableWidth,r);if(n.currentLine=o.line,i=o.remainingToken,null!=i){if(n.wrapping.noBrokeWords+=+o.breakWord,++n.wrapping.noLines,n.availableLines===n.wrapping.noLines){var a=this.addEllipsis(n.currentLine,n.availableWidth,r);return n.wrapping.wrappedText+=a.wrappedToken,n.wrapping.truncatedText+=a.remainingToken+i,n.currentLine="\n",n}n.wrapping.wrappedText+=t.Utils.StringMethods.trimEnd(n.currentLine),n.currentLine="\n"}}return n},e.prototype.finishWrapping=function(t,e,n){if(e.canFitText&&e.availableLines!==e.wrapping.noLines&&this._allowBreakingWords&&"none"!==this._textTrimming){var r=this.addEllipsis(e.currentLine+t,e.availableWidth,n);e.wrapping.wrappedText+=r.wrappedToken,e.wrapping.truncatedText+=r.remainingToken,e.wrapping.noBrokeWords+=+(r.remainingToken.length<t.length),e.wrapping.noLines+=+(r.wrappedToken.length>0),e.currentLine=""}else e.wrapping.truncatedText+=t;return e.canFitText=!1,e},e.prototype.breakTokenToFitInWidth=function(t,e,n,r,i){if(void 0===i&&(i=this._breakingCharacter),r.measure(e+t).width<=n)return{remainingToken:null,line:e+t,breakWord:!1};if(""===t.trim())return{remainingToken:"",line:e,breakWord:!1};if(!this._allowBreakingWords)return{remainingToken:t,line:e,breakWord:!1};for(var o=0;o<t.length&&r.measure(e+t.substring(0,o+1)+i).width<=n;)++o;var a="";return o>0&&(a=i),{remainingToken:t.substring(o),line:e+t.substring(0,o)+a,breakWord:o>0}},e}();e.Wrapper=n}(e=t.Wrappers||(t.Wrappers={}))}(o||(o={}));var o,i=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n};!function(t){var e;!function(t){var e=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.wrap=function(n,r,i,o){var a=this;void 0===o&&(o=1/0);var s=n.split("\n");if(s.length>1)throw new Error("SingleLineWrapper is designed to work only on single line");var l=function(e){return t.prototype.wrap.call(a,n,r,e,o)},u=l(i);if(u.noLines<2)return u;for(var c=0,h=i,d=0;d<e.NO_WRAP_ITERATIONS&&h>c;++d){var f=(h+c)/2,p=l(f);this.areSameResults(u,p)?(h=f,u=p):c=f}return u},e.prototype.areSameResults=function(t,e){return t.noLines===e.noLines&&t.truncatedText===e.truncatedText},e.NO_WRAP_ITERATIONS=5,e}(t.Wrapper);t.SingleLineWrapper=e}(e=t.Wrappers||(t.Wrappers={}))}(o||(o={}));var o;!function(t){var e;!function(e){var n=function(){function e(t,n){this._writerID=e.nextID++,this._elementID=0,this.measurer(t),n&&this.wrapper(n),this.addTitleElement(!1)}return e.prototype.measurer=function(t){return this._measurer=t,this},e.prototype.wrapper=function(t){return this._wrapper=t,this},e.prototype.addTitleElement=function(t){return this._addTitleElement=t,this},e.prototype.writeLine=function(n,r,i,o,a){var s=r.append("text");s.text(n);var l=i*e.XOffsetFactor[o],u=e.AnchorConverter[o];s.attr("text-anchor",u).classed("text-line",!0),t.Utils.DOM.transform(s,l,a).attr("y","-0.25em")},e.prototype.writeText=function(t,n,r,i,o,a){var s=this,l=t.split("\n"),u=this._measurer.measure().height,c=e.YOffsetFactor[a]*(i-l.length*u);l.forEach(function(t,e){s.writeLine(t,n,r,o,(e+1)*u+c)})},e.prototype.write=function(t,n,r,i){if(-1===e.SupportedRotation.indexOf(i.textRotation))throw new Error("unsupported rotation - "+i.textRotation);var o=Math.abs(Math.abs(i.textRotation)-90)>45,a=o?n:r,s=o?r:n,l=i.selection.append("g").classed("text-container",!0);this._addTitleElement&&l.append("title").text(t);var u=l.append("g").classed("text-area",!0),c=this._wrapper?this._wrapper.wrap(t,this._measurer,a,s).wrappedText:t;this.writeText(c,u,a,s,i.xAlign,i.yAlign);var h=d3.transform(""),d=d3.transform("");switch(h.rotate=i.textRotation,i.textRotation){case 90:h.translate=[n,0],d.rotate=-90,d.translate=[0,200];break;case-90:h.translate=[0,r],d.rotate=90,d.translate=[n,0];break;case 180:h.translate=[n,r],d.translate=[n,r],d.rotate=180}u.attr("transform",h.toString()),this.addClipPath(l,d),i.animator&&i.animator.animate(l)},e.prototype.addClipPath=function(e,n){var r=this._elementID++,i=/MSIE [5-9]/.test(navigator.userAgent)?"":document.location.href;i=i.split("#")[0];var o="clipPath"+this._writerID+"_"+r;e.select(".text-area").attr("clip-path",'url("'+i+"#"+o+'")');var a=e.append("clipPath").attr("id",o),s=t.Utils.DOM.getBBox(e.select(".text-area")),l=a.append("rect");l.classed("clip-rect",!0).attr({x:s.x,y:s.y,width:s.width,height:s.height})},e.nextID=0,e.SupportedRotation=[-90,0,180,90],e.AnchorConverter={left:"start",center:"middle",right:"end"},e.XOffsetFactor={left:0,center:.5,right:1},e.YOffsetFactor={top:0,center:.5,bottom:1},e}();e.Writer=n}(e=t.Writers||(t.Writers={}))}(o||(o={}));var o;!function(t){var e;!function(e){var n=function(){function e(t,e){this.textMeasurer=this.getTextMeasurer(t,e)}return e.prototype.checkSelectionIsText=function(t){return"text"===t[0][0].tagName||!t.select("text").empty()},e.prototype.getTextMeasurer=function(t,e){var n=this;if(this.checkSelectionIsText(t)){var r,i=t.node().parentNode;return r="text"===t[0][0].tagName?t:t.select("text"),t.remove(),function(e){i.appendChild(t.node());var o=n.measureBBox(r,e);return t.remove(),o}}var o=t.append("text");return e&&o.classed(e,!0),o.remove(),function(e){t.node().appendChild(o.node());var r=n.measureBBox(o,e);return o.remove(),r}},e.prototype.measureBBox=function(e,n){e.text(n);var r=t.Utils.DOM.getBBox(e);return{width:r.width,height:r.height}},e.prototype.measure=function(t){return void 0===t&&(t=e.HEIGHT_TEXT),this.textMeasurer(t)},e.HEIGHT_TEXT="bqpdl",e}();e.AbstractMeasurer=n}(e=t.Measurers||(t.Measurers={}))}(o||(o={}));var o,i=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n};!function(t){var e;!function(t){var e=function(e){function n(t,n,r){void 0===n&&(n=null),void 0===r&&(r=!1),e.call(this,t,n),this.useGuards=r}return i(n,e),n.prototype._addGuards=function(e){return t.AbstractMeasurer.HEIGHT_TEXT+e+t.AbstractMeasurer.HEIGHT_TEXT},n.prototype.getGuardWidth=function(){return null==this.guardWidth&&(this.guardWidth=e.prototype.measure.call(this).width),this.guardWidth},n.prototype._measureLine=function(t){var n=this.useGuards?this._addGuards(t):t,r=e.prototype.measure.call(this,n);return r.width-=this.useGuards?2*this.getGuardWidth():0,r},n.prototype.measure=function(e){var n=this;if(void 0===e&&(e=t.AbstractMeasurer.HEIGHT_TEXT),""===e.trim())return{width:0,height:0};var r=e.trim().split("\n").map(function(t){return n._measureLine(t)});return{width:d3.max(r,function(t){return t.width}),height:d3.sum(r,function(t){return t.height})}},n}(t.AbstractMeasurer);t.Measurer=e}(e=t.Measurers||(t.Measurers={}))}(o||(o={}));var o,i=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n};!function(t){var e;!function(t){var e=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype._measureCharacter=function(e){return t.prototype._measureLine.call(this,e)},e.prototype._measureLine=function(t){var e=this,n=t.split("").map(function(t){return e._measureCharacter(t)});return{width:d3.sum(n,function(t){return t.width}),height:d3.max(n,function(t){return t.height})}},e}(t.Measurer);t.CharacterMeasurer=e}(e=t.Measurers||(t.Measurers={}))}(o||(o={}));var o,i=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n};return function(t){var e;!function(e){var n=function(e){function n(n,r){var i=this;e.call(this,n,r),this.cache=new t.Utils.Cache(function(t){return i._measureCharacterNotFromCache(t)},t.Utils.Methods.objEq)}return i(n,e),n.prototype._measureCharacterNotFromCache=function(t){return e.prototype._measureCharacter.call(this,t)},n.prototype._measureCharacter=function(t){return this.cache.get(t)},n.prototype.reset=function(){this.cache.clear()},n}(e.CharacterMeasurer);e.CacheCharacterMeasurer=n}(e=t.Measurers||(t.Measurers={}))}(o||(o={})),r}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Ln.apply(null,arguments)}function e(t){Ln=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function i(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var n in e)o(e,n)&&(t[n]=e[n]);return o(e,"toString")&&(t.toString=e.toString),o(e,"valueOf")&&(t.valueOf=e.valueOf),t}function s(t,e,n,r){return kt(t,e,n,r,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(t){return null==t._pf&&(t._pf=l()),t._pf}function c(t){if(null==t._isValid){var e=u(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function h(t){var e=s(NaN);return null!=t?a(u(e),t):u(e).userInvalidated=!0,e}function d(t,e){var n,r,i;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=u(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),On.length>0)for(n in On)r=On[n],i=e[r],"undefined"!=typeof i&&(t[r]=i);return t}function f(e){d(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),Bn===!1&&(Bn=!0,t.updateOffset(this),Bn=!1)}function p(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function m(t){return 0>t?Math.ceil(t):Math.floor(t)}function g(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=m(e)),n}function v(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;i>r;r++)(n&&t[r]!==e[r]||!n&&g(t[r])!==g(e[r]))&&a++;return a+o}function _(){}function y(t){return t?t.toLowerCase().replace("_","-"):t}function w(t){for(var e,n,r,i,o=0;o<t.length;){for(i=y(t[o]).split("-"),e=i.length,n=y(t[o+1]),n=n?n.split("-"):null;e>0;){if(r=b(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&v(i,n,!0)>=e-1)break;e--}o++}return null}function b(t){var e=null;if(!Rn[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Nn._abbr,require("./locale/"+t),x(e)}catch(n){}return Rn[t]}function x(t,e){var n;return t&&(n="undefined"==typeof e?E(t):S(t,e),n&&(Nn=n)),Nn._abbr}function S(t,e){return null!==e?(e.abbr=t,Rn[t]=Rn[t]||new _,Rn[t].set(e),x(t),Rn[t]):(delete Rn[t],null)}function E(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Nn;if(!n(t)){if(e=b(t))return e;t=[t]}return w(t)}function $(t,e){var n=t.toLowerCase();Vn[n]=Vn[n+"s"]=Vn[e]=t}function T(t){return"string"==typeof t?Vn[t]||Vn[t.toLowerCase()]:void 0}function C(t){var e,n,r={};for(n in t)o(t,n)&&(e=T(n),e&&(r[e]=t[n]));return r}function k(e,n){return function(r){return null!=r?(A(this,e,r),t.updateOffset(this,n),this):M(this,e)}}function M(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function A(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function D(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=T(t),"function"==typeof this[t])return this[t](e);return this}function I(t,e,n){var r=""+Math.abs(t),i=e-r.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function P(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(Hn[t]=i),e&&(Hn[e[0]]=function(){return I(i.apply(this,arguments),e[1],e[2])}),n&&(Hn[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function L(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function N(t){var e,n,r=t.match(Un);for(e=0,n=r.length;n>e;e++)Hn[r[e]]?r[e]=Hn[r[e]]:r[e]=L(r[e]);return function(i){var o="";for(e=0;n>e;e++)o+=r[e]instanceof Function?r[e].call(i,t):r[e];return o}}function O(t,e){return t.isValid()?(e=B(e,t.localeData()),zn[e]=zn[e]||N(e),zn[e](t)):t.localeData().invalidDate()}function B(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(Fn.lastIndex=0;r>=0&&Fn.test(t);)t=t.replace(Fn,n),Fn.lastIndex=0,r-=1;return t}function R(t){return"function"==typeof t&&"[object Function]"===Object.prototype.toString.call(t)}function V(t,e,n){ir[t]=R(e)?e:function(t){return t&&n?n:e}}function U(t,e){return o(ir,t)?ir[t](e._strict,e._locale):new RegExp(F(t))}function F(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function z(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(r=function(t,n){n[e]=g(t)}),n=0;n<t.length;n++)or[t[n]]=r}function H(t,e){z(t,function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)})}function j(t,e,n){null!=e&&o(or,t)&&or[t](e,n._a,n,t)}function q(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function Y(t){return this._months[t.month()]}function W(t){return this._monthsShort[t.month()]}function G(t,e,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=s([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function K(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),q(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function X(e){return null!=e?(K(this,e),t.updateOffset(this,!0),this):M(this,"Month")}function Z(){return q(this.year(),this.month())}function Q(t){var e,n=t._a;return n&&-2===u(t).overflow&&(e=n[sr]<0||n[sr]>11?sr:n[lr]<1||n[lr]>q(n[ar],n[sr])?lr:n[ur]<0||n[ur]>24||24===n[ur]&&(0!==n[cr]||0!==n[hr]||0!==n[dr])?ur:n[cr]<0||n[cr]>59?cr:n[hr]<0||n[hr]>59?hr:n[dr]<0||n[dr]>999?dr:-1,u(t)._overflowDayOfYear&&(ar>e||e>lr)&&(e=lr),u(t).overflow=e),t}function J(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function tt(t,e){var n=!0;return a(function(){return n&&(J(t+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function et(t,e){mr[t]||(J(e),mr[t]=!0)}function nt(t){var e,n,r=t._i,i=gr.exec(r);if(i){for(u(t).iso=!0,e=0,n=vr.length;n>e;e++)if(vr[e][1].exec(r)){t._f=vr[e][0];break}for(e=0,n=_r.length;n>e;e++)if(_r[e][1].exec(r)){t._f+=(i[6]||" ")+_r[e][0];break}r.match(er)&&(t._f+="Z"),bt(t)}else t._isValid=!1}function rt(e){var n=yr.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(nt(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function it(t,e,n,r,i,o,a){var s=new Date(t,e,n,r,i,o,a);return 1970>t&&s.setFullYear(t),s}function ot(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function at(t){return st(t)?366:365}function st(t){return t%4===0&&t%100!==0||t%400===0}function lt(){return st(this.year())}function ut(t,e,n){var r,i=n-e,o=n-t.day();return o>i&&(o-=7),i-7>o&&(o+=7),r=Mt(t).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function ct(t){return ut(t,this._week.dow,this._week.doy).week}function ht(){return this._week.dow}function dt(){return this._week.doy}function ft(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function pt(t){var e=ut(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function mt(t,e,n,r,i){var o,a=6+i-r,s=ot(t,0,1+a),l=s.getUTCDay();return i>l&&(l+=7),n=null!=n?1*n:i,o=1+a+7*(e-1)-l+n,{year:o>0?t:t-1,dayOfYear:o>0?o:at(t-1)+o}}function gt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function vt(t,e,n){return null!=t?t:null!=e?e:n}function _t(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function yt(t){var e,n,r,i,o=[];if(!t._d){for(r=_t(t),t._w&&null==t._a[lr]&&null==t._a[sr]&&wt(t),t._dayOfYear&&(i=vt(t._a[ar],r[ar]),t._dayOfYear>at(i)&&(u(t)._overflowDayOfYear=!0),n=ot(i,0,t._dayOfYear),t._a[sr]=n.getUTCMonth(),t._a[lr]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=r[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[ur]&&0===t._a[cr]&&0===t._a[hr]&&0===t._a[dr]&&(t._nextDay=!0,t._a[ur]=0),t._d=(t._useUTC?ot:it).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ur]=24)}}function wt(t){var e,n,r,i,o,a,s;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,a=4,n=vt(e.GG,t._a[ar],ut(Mt(),1,4).year),r=vt(e.W,1),i=vt(e.E,1)):(o=t._locale._week.dow,a=t._locale._week.doy,n=vt(e.gg,t._a[ar],ut(Mt(),o,a).year),r=vt(e.w,1),null!=e.d?(i=e.d,o>i&&++r):i=null!=e.e?e.e+o:o),s=mt(n,r,i,a,o),t._a[ar]=s.year,t._dayOfYear=s.dayOfYear}function bt(e){if(e._f===t.ISO_8601)return void nt(e);e._a=[],u(e).empty=!0;var n,r,i,o,a,s=""+e._i,l=s.length,c=0;for(i=B(e._f,e._locale).match(Un)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(U(o,e))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&u(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Hn[o]?(r?u(e).empty=!1:u(e).unusedTokens.push(o),j(o,r,e)):e._strict&&!r&&u(e).unusedTokens.push(o);u(e).charsLeftOver=l-c,s.length>0&&u(e).unusedInput.push(s),u(e).bigHour===!0&&e._a[ur]<=12&&e._a[ur]>0&&(u(e).bigHour=void 0),e._a[ur]=xt(e._locale,e._a[ur],e._meridiem),yt(e),Q(e)}function xt(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&12>e&&(e+=12),r||12!==e||(e=0),e):e}function St(t){var e,n,r,i,o;if(0===t._f.length)return u(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],bt(e),c(e)&&(o+=u(e).charsLeftOver,o+=10*u(e).unusedTokens.length,u(e).score=o,(null==r||r>o)&&(r=o,n=e));a(t,n||e)}function Et(t){if(!t._d){var e=C(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],yt(t)}}function $t(t){var e=new f(Q(Tt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Tt(t){var e=t._i,i=t._f;return t._locale=t._locale||E(t._l),null===e||void 0===i&&""===e?h({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),p(e)?new f(Q(e)):(n(i)?St(t):i?bt(t):r(e)?t._d=e:Ct(t),t))}function Ct(e){var o=e._i;void 0===o?e._d=new Date:r(o)?e._d=new Date(+o):"string"==typeof o?rt(e):n(o)?(e._a=i(o.slice(0),function(t){return parseInt(t,10)}),yt(e)):"object"==typeof o?Et(e):"number"==typeof o?e._d=new Date(o):t.createFromInputFallback(e)}function kt(t,e,n,r,i){var o={};return"boolean"==typeof n&&(r=n,
n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,$t(o)}function Mt(t,e,n,r){return kt(t,e,n,r,!1)}function At(t,e){var r,i;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Mt();for(r=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][t](r))&&(r=e[i]);return r}function Dt(){var t=[].slice.call(arguments,0);return At("isBefore",t)}function It(){var t=[].slice.call(arguments,0);return At("isAfter",t)}function Pt(t){var e=C(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*s,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=E(),this._bubble()}function Lt(t){return t instanceof Pt}function Nt(t,e){P(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+I(~~(t/60),2)+e+I(~~t%60,2)})}function Ot(t){var e=(t||"").match(er)||[],n=e[e.length-1]||[],r=(n+"").match(Er)||["-",0,0],i=+(60*r[1])+g(r[2]);return"+"===r[0]?i:-i}function Bt(e,n){var i,o;return n._isUTC?(i=n.clone(),o=(p(e)||r(e)?+e:+Mt(e))-+i,i._d.setTime(+i._d+o),t.updateOffset(i,!1),i):Mt(e).local()}function Rt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Vt(e,n){var r,i=this._offset||0;return null!=e?("string"==typeof e&&(e=Ot(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(r=Rt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!n||this._changeInProgress?ee(this,Xt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Rt(this)}function Ut(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Ft(t){return this.utcOffset(0,t)}function zt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Rt(this),"m")),this}function Ht(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ot(this._i)),this}function jt(t){return t=t?Mt(t).utcOffset():0,(this.utcOffset()-t)%60===0}function qt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Yt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var t={};if(d(t,this),t=Tt(t),t._a){var e=t._isUTC?s(t._a):Mt(t._a);this._isDSTShifted=this.isValid()&&v(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wt(){return!this._isUTC}function Gt(){return this._isUTC}function Kt(){return this._isUTC&&0===this._offset}function Xt(t,e){var n,r,i,a=t,s=null;return Lt(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(s=$r.exec(t))?(n="-"===s[1]?-1:1,a={y:0,d:g(s[lr])*n,h:g(s[ur])*n,m:g(s[cr])*n,s:g(s[hr])*n,ms:g(s[dr])*n}):(s=Tr.exec(t))?(n="-"===s[1]?-1:1,a={y:Zt(s[2],n),M:Zt(s[3],n),d:Zt(s[4],n),h:Zt(s[5],n),m:Zt(s[6],n),s:Zt(s[7],n),w:Zt(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=Jt(Mt(a.from),Mt(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),r=new Pt(a),Lt(t)&&o(t,"_locale")&&(r._locale=t._locale),r}function Zt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Qt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Jt(t,e){var n;return e=Bt(e,t),t.isBefore(e)?n=Qt(t,e):(n=Qt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function te(t,e){return function(n,r){var i,o;return null===r||isNaN(+r)||(et(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Xt(n,r),ee(this,i,t),this}}function ee(e,n,r,i){var o=n._milliseconds,a=n._days,s=n._months;i=null==i?!0:i,o&&e._d.setTime(+e._d+o*r),a&&A(e,"Date",M(e,"Date")+a*r),s&&K(e,M(e,"Month")+s*r),i&&t.updateOffset(e,a||s)}function ne(t,e){var n=t||Mt(),r=Bt(n,this).startOf("day"),i=this.diff(r,"days",!0),o=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(e&&e[o]||this.localeData().calendar(o,this,Mt(n)))}function re(){return new f(this)}function ie(t,e){var n;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=p(t)?t:Mt(t),+this>+t):(n=p(t)?+t:+Mt(t),n<+this.clone().startOf(e))}function oe(t,e){var n;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=p(t)?t:Mt(t),+t>+this):(n=p(t)?+t:+Mt(t),+this.clone().endOf(e)<n)}function ae(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function se(t,e){var n;return e=T(e||"millisecond"),"millisecond"===e?(t=p(t)?t:Mt(t),+this===+t):(n=+Mt(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function le(t,e,n){var r,i,o=Bt(t,this),a=6e4*(o.utcOffset()-this.utcOffset());return e=T(e),"year"===e||"month"===e||"quarter"===e?(i=ue(this,o),"quarter"===e?i/=3:"year"===e&&(i/=12)):(r=this-o,i="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-a)/864e5:"week"===e?(r-a)/6048e5:r),n?i:m(i)}function ue(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months");return 0>e-o?(n=t.clone().add(i-1,"months"),r=(e-o)/(o-n)):(n=t.clone().add(i+1,"months"),r=(e-o)/(n-o)),-(i+r)}function ce(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function he(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():O(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):O(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function de(e){var n=O(this,e||t.defaultFormat);return this.localeData().postformat(n)}function fe(t,e){return this.isValid()?Xt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pe(t){return this.from(Mt(),t)}function me(t,e){return this.isValid()?Xt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ge(t){return this.to(Mt(),t)}function ve(t){var e;return void 0===t?this._locale._abbr:(e=E(t),null!=e&&(this._locale=e),this)}function _e(){return this._locale}function ye(t){switch(t=T(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function we(t){return t=T(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function be(){return+this._d-6e4*(this._offset||0)}function xe(){return Math.floor(+this/1e3)}function Se(){return this._offset?new Date(+this):this._d}function Ee(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function $e(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Te(){return c(this)}function Ce(){return a({},u(this))}function ke(){return u(this).overflow}function Me(t,e){P(0,[t,t.length],0,e)}function Ae(t,e,n){return ut(Mt([t,11,31+e-n]),e,n).week}function De(t){var e=ut(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Ie(t){var e=ut(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Pe(){return Ae(this.year(),1,4)}function Le(){var t=this.localeData()._week;return Ae(this.year(),t.dow,t.doy)}function Ne(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Oe(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Be(t){return this._weekdays[t.day()]}function Re(t){return this._weekdaysShort[t.day()]}function Ve(t){return this._weekdaysMin[t.day()]}function Ue(t){var e,n,r;for(this._weekdaysParse=this._weekdaysParse||[],e=0;7>e;e++)if(this._weekdaysParse[e]||(n=Mt([2e3,1]).day(e),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Fe(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Oe(t,this.localeData()),this.add(t-e,"d")):e}function ze(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function He(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function je(t,e){P(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function qe(t,e){return e._meridiemParse}function Ye(t){return"p"===(t+"").toLowerCase().charAt(0)}function We(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Ge(t,e){e[dr]=g(1e3*("0."+t))}function Ke(){return this._isUTC?"UTC":""}function Xe(){return this._isUTC?"Coordinated Universal Time":""}function Ze(t){return Mt(1e3*t)}function Qe(){return Mt.apply(null,arguments).parseZone()}function Je(t,e,n){var r=this._calendar[t];return"function"==typeof r?r.call(e,n):r}function tn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function en(){return this._invalidDate}function nn(t){return this._ordinal.replace("%d",t)}function rn(t){return t}function on(t,e,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,r):i.replace(/%d/i,t)}function an(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)}function sn(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ln(t,e,n,r){var i=E(),o=s().set(r,e);return i[n](o,t)}function un(t,e,n,r,i){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return ln(t,e,n,i);var o,a=[];for(o=0;r>o;o++)a[o]=ln(t,o,n,i);return a}function cn(t,e){return un(t,e,"months",12,"month")}function hn(t,e){return un(t,e,"monthsShort",12,"month")}function dn(t,e){return un(t,e,"weekdays",7,"day")}function fn(t,e){return un(t,e,"weekdaysShort",7,"day")}function pn(t,e){return un(t,e,"weekdaysMin",7,"day")}function mn(){var t=this._data;return this._milliseconds=Kr(this._milliseconds),this._days=Kr(this._days),this._months=Kr(this._months),t.milliseconds=Kr(t.milliseconds),t.seconds=Kr(t.seconds),t.minutes=Kr(t.minutes),t.hours=Kr(t.hours),t.months=Kr(t.months),t.years=Kr(t.years),this}function gn(t,e,n,r){var i=Xt(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function vn(t,e){return gn(this,t,e,1)}function _n(t,e){return gn(this,t,e,-1)}function yn(t){return 0>t?Math.floor(t):Math.ceil(t)}function wn(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*yn(xn(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=m(o/1e3),l.seconds=t%60,e=m(t/60),l.minutes=e%60,n=m(e/60),l.hours=n%24,a+=m(n/24),i=m(bn(a)),s+=i,a-=yn(xn(i)),r=m(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function bn(t){return 4800*t/146097}function xn(t){return 146097*t/4800}function Sn(t){var e,n,r=this._milliseconds;if(t=T(t),"month"===t||"year"===t)return e=this._days+r/864e5,n=this._months+bn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(xn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function En(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function $n(t){return function(){return this.as(t)}}function Tn(t){return t=T(t),this[t+"s"]()}function Cn(t){return function(){return this._data[t]}}function kn(){return m(this.days()/7)}function Mn(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function An(t,e,n){var r=Xt(t).abs(),i=hi(r.as("s")),o=hi(r.as("m")),a=hi(r.as("h")),s=hi(r.as("d")),l=hi(r.as("M")),u=hi(r.as("y")),c=i<di.s&&["s",i]||1===o&&["m"]||o<di.m&&["mm",o]||1===a&&["h"]||a<di.h&&["hh",a]||1===s&&["d"]||s<di.d&&["dd",s]||1===l&&["M"]||l<di.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,Mn.apply(null,c)}function Dn(t,e){return void 0===di[t]?!1:void 0===e?di[t]:(di[t]=e,!0)}function In(t){var e=this.localeData(),n=An(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Pn(){var t,e,n,r=fi(this._milliseconds)/1e3,i=fi(this._days),o=fi(this._months);t=m(r/60),e=m(t/60),r%=60,t%=60,n=m(o/12),o%=12;var a=n,s=o,l=i,u=e,c=t,h=r,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||h?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var Ln,Nn,On=t.momentProperties=[],Bn=!1,Rn={},Vn={},Un=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Fn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,zn={},Hn={},jn=/\d/,qn=/\d\d/,Yn=/\d{3}/,Wn=/\d{4}/,Gn=/[+-]?\d{6}/,Kn=/\d\d?/,Xn=/\d{1,3}/,Zn=/\d{1,4}/,Qn=/[+-]?\d{1,6}/,Jn=/\d+/,tr=/[+-]?\d+/,er=/Z|[+-]\d\d:?\d\d/gi,nr=/[+-]?\d+(\.\d{1,3})?/,rr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ir={},or={},ar=0,sr=1,lr=2,ur=3,cr=4,hr=5,dr=6;P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),P("MMMM",0,0,function(t){return this.localeData().months(this,t)}),$("month","M"),V("M",Kn),V("MM",Kn,qn),V("MMM",rr),V("MMMM",rr),z(["M","MM"],function(t,e){e[sr]=g(t)-1}),z(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[sr]=i:u(n).invalidMonth=t});var fr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),pr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mr={};t.suppressDeprecationWarnings=!1;var gr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],_r=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],yr=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),$("year","y"),V("Y",tr),V("YY",Kn,qn),V("YYYY",Zn,Wn),V("YYYYY",Qn,Gn),V("YYYYYY",Qn,Gn),z(["YYYYY","YYYYYY"],ar),z("YYYY",function(e,n){n[ar]=2===e.length?t.parseTwoDigitYear(e):g(e)}),z("YY",function(e,n){n[ar]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return g(t)+(g(t)>68?1900:2e3)};var wr=k("FullYear",!1);P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),$("week","w"),$("isoWeek","W"),V("w",Kn),V("ww",Kn,qn),V("W",Kn),V("WW",Kn,qn),H(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=g(t)});var br={dow:0,doy:6};P("DDD",["DDDD",3],"DDDo","dayOfYear"),$("dayOfYear","DDD"),V("DDD",Xn),V("DDDD",Yn),z(["DDD","DDDD"],function(t,e,n){n._dayOfYear=g(t)}),t.ISO_8601=function(){};var xr=tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Mt.apply(null,arguments);return this>t?this:t}),Sr=tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Mt.apply(null,arguments);return t>this?this:t});Nt("Z",":"),Nt("ZZ",""),V("Z",er),V("ZZ",er),z(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Ot(t)});var Er=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var $r=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Tr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Xt.fn=Pt.prototype;var Cr=te(1,"add"),kr=te(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Mr=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Me("gggg","weekYear"),Me("ggggg","weekYear"),Me("GGGG","isoWeekYear"),Me("GGGGG","isoWeekYear"),$("weekYear","gg"),$("isoWeekYear","GG"),V("G",tr),V("g",tr),V("GG",Kn,qn),V("gg",Kn,qn),V("GGGG",Zn,Wn),V("gggg",Zn,Wn),V("GGGGG",Qn,Gn),V("ggggg",Qn,Gn),H(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=g(t)}),H(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),P("Q",0,0,"quarter"),$("quarter","Q"),V("Q",jn),z("Q",function(t,e){e[sr]=3*(g(t)-1)}),P("D",["DD",2],"Do","date"),$("date","D"),V("D",Kn),V("DD",Kn,qn),V("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),z(["D","DD"],lr),z("Do",function(t,e){e[lr]=g(t.match(Kn)[0],10)});var Ar=k("Date",!0);P("d",0,"do","day"),P("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),P("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),P("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),$("day","d"),$("weekday","e"),$("isoWeekday","E"),V("d",Kn),V("e",Kn),V("E",Kn),V("dd",rr),V("ddd",rr),V("dddd",rr),H(["dd","ddd","dddd"],function(t,e,n){var r=n._locale.weekdaysParse(t);null!=r?e.d=r:u(n).invalidWeekday=t}),H(["d","e","E"],function(t,e,n,r){e[r]=g(t)});var Dr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ir="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Pr="Su_Mo_Tu_We_Th_Fr_Sa".split("_");P("H",["HH",2],0,"hour"),P("h",["hh",2],0,function(){return this.hours()%12||12}),je("a",!0),je("A",!1),$("hour","h"),V("a",qe),V("A",qe),V("H",Kn),V("h",Kn),V("HH",Kn,qn),V("hh",Kn,qn),z(["H","HH"],ur),z(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),z(["h","hh"],function(t,e,n){e[ur]=g(t),u(n).bigHour=!0});var Lr=/[ap]\.?m?\.?/i,Nr=k("Hours",!0);P("m",["mm",2],0,"minute"),$("minute","m"),V("m",Kn),V("mm",Kn,qn),z(["m","mm"],cr);var Or=k("Minutes",!1);P("s",["ss",2],0,"second"),$("second","s"),V("s",Kn),V("ss",Kn,qn),z(["s","ss"],hr);var Br=k("Seconds",!1);P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),P(0,["SSS",3],0,"millisecond"),P(0,["SSSS",4],0,function(){return 10*this.millisecond()}),P(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),P(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),P(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),P(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),P(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),$("millisecond","ms"),V("S",Xn,jn),V("SS",Xn,qn),V("SSS",Xn,Yn);var Rr;for(Rr="SSSS";Rr.length<=9;Rr+="S")V(Rr,Jn);for(Rr="S";Rr.length<=9;Rr+="S")z(Rr,Ge);var Vr=k("Milliseconds",!1);P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var Ur=f.prototype;Ur.add=Cr,Ur.calendar=ne,Ur.clone=re,Ur.diff=le,Ur.endOf=we,Ur.format=de,Ur.from=fe,Ur.fromNow=pe,Ur.to=me,Ur.toNow=ge,Ur.get=D,Ur.invalidAt=ke,Ur.isAfter=ie,Ur.isBefore=oe,Ur.isBetween=ae,Ur.isSame=se,Ur.isValid=Te,Ur.lang=Mr,Ur.locale=ve,Ur.localeData=_e,Ur.max=Sr,Ur.min=xr,Ur.parsingFlags=Ce,Ur.set=D,Ur.startOf=ye,Ur.subtract=kr,Ur.toArray=Ee,Ur.toObject=$e,Ur.toDate=Se,Ur.toISOString=he,Ur.toJSON=he,Ur.toString=ce,Ur.unix=xe,Ur.valueOf=be,Ur.year=wr,Ur.isLeapYear=lt,Ur.weekYear=De,Ur.isoWeekYear=Ie,Ur.quarter=Ur.quarters=Ne,Ur.month=X,Ur.daysInMonth=Z,Ur.week=Ur.weeks=ft,Ur.isoWeek=Ur.isoWeeks=pt,Ur.weeksInYear=Le,Ur.isoWeeksInYear=Pe,Ur.date=Ar,Ur.day=Ur.days=Fe,Ur.weekday=ze,Ur.isoWeekday=He,Ur.dayOfYear=gt,Ur.hour=Ur.hours=Nr,Ur.minute=Ur.minutes=Or,Ur.second=Ur.seconds=Br,Ur.millisecond=Ur.milliseconds=Vr,Ur.utcOffset=Vt,Ur.utc=Ft,Ur.local=zt,Ur.parseZone=Ht,Ur.hasAlignedHourOffset=jt,Ur.isDST=qt,Ur.isDSTShifted=Yt,Ur.isLocal=Wt,Ur.isUtcOffset=Gt,Ur.isUtc=Kt,Ur.isUTC=Kt,Ur.zoneAbbr=Ke,Ur.zoneName=Xe,Ur.dates=tt("dates accessor is deprecated. Use date instead.",Ar),Ur.months=tt("months accessor is deprecated. Use month instead",X),Ur.years=tt("years accessor is deprecated. Use year instead",wr),Ur.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ut);var Fr=Ur,zr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Hr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},jr="Invalid date",qr="%d",Yr=/\d{1,2}/,Wr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Gr=_.prototype;Gr._calendar=zr,Gr.calendar=Je,Gr._longDateFormat=Hr,Gr.longDateFormat=tn,Gr._invalidDate=jr,Gr.invalidDate=en,Gr._ordinal=qr,Gr.ordinal=nn,Gr._ordinalParse=Yr,Gr.preparse=rn,Gr.postformat=rn,Gr._relativeTime=Wr,Gr.relativeTime=on,Gr.pastFuture=an,Gr.set=sn,Gr.months=Y,Gr._months=fr,Gr.monthsShort=W,Gr._monthsShort=pr,Gr.monthsParse=G,Gr.week=ct,Gr._week=br,Gr.firstDayOfYear=dt,Gr.firstDayOfWeek=ht,Gr.weekdays=Be,Gr._weekdays=Dr,Gr.weekdaysMin=Ve,Gr._weekdaysMin=Pr,Gr.weekdaysShort=Re,Gr._weekdaysShort=Ir,Gr.weekdaysParse=Ue,Gr.isPM=Ye,Gr._meridiemParse=Lr,Gr.meridiem=We,x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===g(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=tt("moment.lang is deprecated. Use moment.locale instead.",x),t.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",E);var Kr=Math.abs,Xr=$n("ms"),Zr=$n("s"),Qr=$n("m"),Jr=$n("h"),ti=$n("d"),ei=$n("w"),ni=$n("M"),ri=$n("y"),ii=Cn("milliseconds"),oi=Cn("seconds"),ai=Cn("minutes"),si=Cn("hours"),li=Cn("days"),ui=Cn("months"),ci=Cn("years"),hi=Math.round,di={s:45,m:45,h:22,d:26,M:11},fi=Math.abs,pi=Pt.prototype;pi.abs=mn,pi.add=vn,pi.subtract=_n,pi.as=Sn,pi.asMilliseconds=Xr,pi.asSeconds=Zr,pi.asMinutes=Qr,pi.asHours=Jr,pi.asDays=ti,pi.asWeeks=ei,pi.asMonths=ni,pi.asYears=ri,pi.valueOf=En,pi._bubble=wn,pi.get=Tn,pi.milliseconds=ii,pi.seconds=oi,pi.minutes=ai,pi.hours=si,pi.days=li,pi.weeks=kn,pi.months=ui,pi.years=ci,pi.humanize=In,pi.toISOString=Pn,pi.toString=Pn,pi.toJSON=Pn,pi.locale=ve,pi.localeData=_e,pi.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Pn),pi.lang=Mr,P("X",0,0,"unix"),P("x",0,0,"valueOf"),V("x",tr),V("X",nr),z("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),z("x",function(t,e,n){n._d=new Date(g(t))}),t.version="2.10.6",e(Mt),t.fn=Fr,t.min=Dt,t.max=It,t.utc=s,t.unix=Ze,t.months=cn,t.isDate=r,t.locale=x,t.invalid=h,t.duration=Xt,t.isMoment=p,t.weekdays=dn,t.parseZone=Qe,t.localeData=E,t.isDuration=Lt,t.monthsShort=hn,t.weekdaysMin=pn,t.defineLocale=S,t.weekdaysShort=fn,t.normalizeUnits=T,t.relativeTimeThreshold=Dn;var mi=t;return mi}),function(t,e){var n="OMHWebVisualizations";t[n]=e(t,n),t[n].QUANTIZE_YEAR=6,t[n].QUANTIZE_MONTH=5,t[n].QUANTIZE_DAY=4,t[n].QUANTIZE_HOUR=3,t[n].QUANTIZE_MINUTE=2,t[n].QUANTIZE_SECOND=1,t[n].QUANTIZE_MILLISECOND=0,t[n].QUANTIZE_NONE=-1,t[n].Utils={},t[n].Utils.mergeObjects=function(e,r){function i(i){if(void 0===o[i]){var a=e[i],s=r[i];typeof a==typeof s&&"object"==typeof a?o[i]=t[n].Utils.mergeObjects(a||{},s||{}):(o[i]=a,r.hasOwnProperty(i)&&(o[i]=s))}}var o={};for(var a in e)i(a);for(a in r)i(a);return o}}(this,function(t,e){var n=t.hasOwnProperty(e)?t[e]:{};return n.Chart=function(t,e,r,o){var a=864e5,s=.5,l="1px",u="1px";this.initialized=!1,"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]),e.node||(e=d3.select(e)),o||(o={});var c=null;e.classed("omh-chart-container",!0);var h=null,d=r.split(/\s*,\s*/),f={},p={},m=null,g=null,v={userInterface:{toolbar:{enabled:!0},timespanButtons:{enabled:!0},zoomButtons:{enabled:!0},navigation:{enabled:!0},thresholds:{show:!0},tooltips:{enabled:!0,timeFormat:"M/D/YY, h:mma",decimalPlaces:0,contentFormatter:void 0,grouped:!0},panZoom:{enabled:!0,showHint:!0},axes:{yAxis:{visible:!0},xAxis:{visible:!0}}},measures:{body_weight:{valueKeyPath:"body.body_weight.value",range:{min:0,max:100},units:"kg",thresholds:{max:57}},heart_rate:{valueKeyPath:"body.heart_rate.value",range:{min:30,max:150},units:"bpm"},step_count:{valueKeyPath:"body.step_count",range:{min:0,max:1500},units:"Steps",seriesName:"Steps",timeQuantizationLevel:n.QUANTIZE_DAY,chart:{type:"clustered_bar",barColor:"#eeeeee",daysShownOnTimeline:{min:7,max:90}}},minutes_moderate_activity:{valueKeyPath:"body.minutes_moderate_activity.value",range:{min:0,max:300},units:"Minutes",seriesName:"Minutes of moderate activity",timeQuantizationLevel:n.QUANTIZE_DAY,chart:{type:"clustered_bar",daysShownOnTimeline:{min:7,max:90}}},systolic_blood_pressure:{valueKeyPath:"body.systolic_blood_pressure.value",range:{min:30,max:200},units:"mmHg",thresholds:{max:120}},diastolic_blood_pressure:{valueKeyPath:"body.diastolic_blood_pressure.value",range:{min:30,max:200},units:"mmHg",thresholds:{max:80}}}},_={range:{min:0,max:100},units:"Units",seriesName:"Series",timeQuantizationLevel:n.QUANTIZE_NONE,chart:{type:"line",pointSize:9,lineColor:"#dedede",pointFillColor:"#4a90e2",pointStrokeColor:"#0066d6",aboveThesholdPointFillColor:"#e8ac4e",aboveThesholdPointStrokeColor:"#745628",barColor:"#4a90e2",daysShownOnTimeline:{min:1,max:1e3}}};this.destroy=function(){Bt&&Bt.offPointerMove(Rt),Bt&&Bt.detachFrom(F),I&&I.detachFrom(m),m&&m.destroy(),Ut&&Ut.destroy(),g&&g.offWheel(L),Nt&&I.offDrag(Nt),bt&&bt.remove(),C&&T.offUpdate(C)},this.getComponents=function(){if(!this.initialized)return{};var t={};t[d[0]]=T;var e={};e[d[0]]=A;var n={};n[d[0]]=D;var r={};r[d[0]]=$;var i={};i[d[0]]=M;var o={};return o[d[0]]=X,j.forEach(function(r){t[r.measure]=r.scale,e[r.measure]=r.axis,n[r.measure]=r.label}),{xScales:r,yScales:t,colorScales:o,gridlines:null,legends:[Z],xAxes:i,yAxes:e,plots:N,yLabels:n,table:m,tooltip:Ut,toolbar:bt,panZoomInteractions:{plotGroup:ht,xAxis:dt}}},this.getD3Selection=function(){return c};var y=n.Utils.mergeObjects(v,o);d3.keys(y.measures).forEach(function(t){y.measures[t]=n.Utils.mergeObjects(_,y.measures[t])});var w=y.userInterface,b=function(t){return y.measures[t]},x={},S=function(t,e){if(void 0===t)return t;var n;"string"==typeof e?(x[e]||(x[e]=e.split(".")),n=x[e].slice()):n=e;try{if(e&&n.length>0)return S(t[n.shift()],n)}catch(r){console.info("Exception while resolving keypath",r)}return t};if(this.getIntervalDisplayDate=function(t,e,n){var r=t.body.effective_time_frame.time_interval,i=r.start_date_time?new Date(r.start_date_time).getTime():null,o=r.end_date_time?new Date(r.end_date_time).getTime():null,a=r.start_date_time?e(r.start_date_time):null,s=r.end_date_time?e(r.end_date_time):null,l={ps:1e-9,ns:1e-6,us:.001,ms:1,sec:1e3,min:6e4,h:36e5,d:"d",wk:"w",Mo:"M",yr:"y"},u=r.duration?r.duration.value:null;if(u){var c,h=r.duration.unit,d=l[h];"string"!=typeof d?(c=u*d,i||(i=o-c),o||(o=i+c)):(i||(i=s.subtract(u,l[h]).valueOf()),o||(o=a.add(u,l[h]).valueOf()))}var f=new Date(i),p=n<=OMHWebVisualizations.QUANTIZE_MONTH?f.getMonth():6,m=n<=OMHWebVisualizations.QUANTIZE_DAY?f.getDate():n===OMHWebVisualizations.QUANTIZE_MONTH?15:1,g=n<=OMHWebVisualizations.QUANTIZE_HOUR?f.getHours():n===OMHWebVisualizations.QUANTIZE_DAY?12:0,v=n<=OMHWebVisualizations.QUANTIZE_MINUTE?f.getMinutes():n===OMHWebVisualizations.QUANTIZE_HOUR?30:0,_=n<=OMHWebVisualizations.QUANTIZE_SECOND?f.getSeconds():n===OMHWebVisualizations.QUANTIZE_MINUTE?30:0,y=n<=OMHWebVisualizations.QUANTIZE_MILLISECOND?f.getMilliseconds():n===OMHWebVisualizations.QUANTIZE_SECOND?500:0,w=new Date(f.getFullYear(),p,m,g,v,_,y);return w},this.parseOmhData=function(t,e,n){var r={},i=this;return t&&0!==t.length?(t.forEach(function(t){t.groupName="",e.forEach(function(e,o){var a=b(e).valueKeyPath,s=S(t,a);if(void 0!==s&&"object"!=typeof s){t.groupName+="_"+e,r.hasOwnProperty(e)||(r[e]=[]);var l;if(t.body.effective_time_frame.date_time&&(l=new Date(t.body.effective_time_frame.date_time)),t.body.effective_time_frame.time_interval){var u=b(e).timeQuantizationLevel;l=i.getIntervalDisplayDate(t,n,u)}var c=b(e).valueKeyPath,h=S(t,c);r[e].push({y:h,x:l,provider:t.header.acquisition_provenance.source_name,omhDatum:t,hasTooltip:0===o,measure:e})}})}),r):r},dataCopy=JSON.parse(JSON.stringify(t)),h=this.parseOmhData(dataCopy,d,moment),0===Object.keys(h).length)return void console.log("Warning: no data of the specified type could be found.");this.consolidateData=function(t){t.sort(function(t,e){return t.x.getTime()-e.x.getTime()});for(var e=0;e<t.length;e++)for(;e+1<t.length&&t[e+1].x.getTime()===t[e].x.getTime();)t[e].y+=t[e+1].y,t[e].accumulatedDataBodies||(t[e].accumulatedDataBodies=[t[e].omhDatum.body]),t[e].accumulatedDataBodies.push(t[e+1].omhDatum.body),t.splice(e+1,1)},h.minutes_moderate_activity&&this.consolidateData(h.minutes_moderate_activity),h.step_count&&this.consolidateData(h.step_count);var E=b(d[0]),$=new Plottable.Scales.Time,T=new Plottable.Scales.Linear,C=null,k=E.range;k&&T.domainMin(k.min).domainMax(k.max);var M=new Plottable.Axes.Time($,"bottom").margin(15).addClass("x-axis"),A=new Plottable.Axes.Numeric(T,"left"),D=new Plottable.Components.AxisLabel(E.units,"0").padding(5).xAlignment("right").yAlignment("top"),I=new Plottable.Interactions.Drag,P=function(){et&&et(),Ut&&Nt&&Nt()};I.onDrag(P);var L=function(){Nt&&Nt(),wt&&wt(),et&&et()},N=[],O=function(t){var e=b(t.measure).thresholds,n={name:"normal",color:"_default"};if(!e||0==e.length)return n;for(Array.isArray(e)||(e=[e]),i=0;i<e.length;i++){var r=e[i];if(r&&(!r.max||t.y<=r.max)&&(!r.min||t.y>r.min))return r}return{color:"_aboveThreshold",name:"above-threshold"}},B=function(t,e){var n=b(t.measure).chart,r={fill:n.pointFillColor,stroke:n.pointStrokeColor},i={fill:n.aboveThesholdPointFillColor,stroke:n.aboveThesholdPointStrokeColor};return e&&e.color?"_default"==e.color?r:"_aboveThreshold"==e.color?i:"string"==typeof e.color?{fill:e.color,stroke:e.color}:e.color:r},R=function(t){var e=B(t,O(t));return e.fill},V=function(t){var e=B(t,O(t));return e.stroke},U=function(t){return b(t.measure).chart.barColor},F=(new Plottable.Plots.Scatter).x(function(t){return t.x},$).y(function(t){return t.y},T).size(function(t){return b(t.measure).chart.pointSize}).attr("fill",function(t){return R(t)}).attr("opacity",s).attr("stroke-width",u).attr("stroke",function(t){return V(t)}),z=[],H=0,j=[];if(d3.entries(h).forEach(function(t){var e=t.key;"clustered_bar"===b(e).chart.type&&H++}),w.thresholds.show){var q=[];if(d3.entries(h).forEach(function(t){measure=t.key;var e=b(measure).thresholds;if(e)for(Array.isArray(e)||(e=[e]),i=0;i<e.length;i++){var n=e[i];n.max&&-1==q.indexOf(n.max)&&q.push(n.max),n.min&&-1==q.indexOf(n.min)&&q.push(n.min)}}),q.length>0){q.sort(function(t,e){return t-e});var Y=new Plottable.Scales.Linear;Y.domain(T.domain()),Y.range(T.range()),C=function(t){Y.domain(t.domain()),Y.range(t.range())},T.onUpdate(C);var W=function(t){var e=(t.domain(),q);return e};Y.tickGenerator(W);var G=new Plottable.Axes.Numeric(Y,"right").tickLabelPosition("top").tickLabelPadding(5).showEndTickLabels(!0),K=new Plottable.Components.Gridlines(null,Y);
N.push(K),N.push(G)}}d.forEach(function(t){if(h.hasOwnProperty(t)){var e=h[t],n=new Plottable.Dataset(e),r=b(t);if(n.measure=t,"clustered_bar"===r.chart.type){var i=T;if(z.length>0){var o=r.range,a=r.units;i=(new Plottable.Scales.Linear).domainMin(o.min).domainMax(o.max);var s=new Plottable.Axes.Numeric(i,"right"),u=new Plottable.Components.AxisLabel(a,"0").padding(5).xAlignment("left").yAlignment("top");j.push({measure:t,axis:s,label:u,scale:i})}var c=(new Plottable.Plots.ClusteredBar).x(function(t){return t.x},$).y(function(t){return t.y},i).attr("fill",function(t){return U(t)});z.push(c);for(var d=0;H>d;d++)d===z.length-1?c.addDataset(n):c.addDataset(new Plottable.Dataset([]));var f=M.axisConfigurations(),p=[];f.forEach(function(t){("day"===t[0].interval||"month"===t[0].interval||"year"===t[0].interval)&&p.push(t)}),M.axisConfigurations(p),N.push(c)}else{var m=(new Plottable.Plots.Line).x(function(t){return t.x},$).y(function(t){return t.y},T).attr("stroke",r.chart.lineColor).attr("stroke-width",l);m.addDataset(n),F.addDataset(n),N.push(m)}}}),N.push(F);var X=null,Z=null;if(y.userInterface.legend){X=new Plottable.Scales.Color,Z=new Plottable.Components.Legend(X);var Q=[],J=[];d3.entries(h).forEach(function(t){var e,n=t.key,r=b(n),i=r.seriesName,o=r.chart.type;switch(o){case"clustered_bar":e=r.chart.barColor;break;default:e=r.chart.pointFillColor}i&&e&&(Q.push(i),J.push(e))}),X.domain(Q),X.range(J),Z.maxEntriesPerRow(2),Z.symbol(Plottable.SymbolFactories.square),Z.xAlignment("right"),Z.yAlignment("top"),N.push(Z)}if(w.panZoom.enabled&&w.panZoom.showHint){var tt=new Plottable.Components.Label("( Drag chart to pan, pinch or scroll to zoom )",0).padding(10).yAlignment("bottom").xAlignment("right").addClass("zoom-hint-label"),et=((new Plottable.Interactions.Click).attachTo(tt).onClick(function(t){et()}),function(){tt.addClass("hidden")});N.push(tt)}var nt=w.axes.xAxis.visible,rt=w.axes.yAxis.visible,it=new Plottable.Components.Group(N),ot=rt?new Plottable.Components.Group([A,D]):null,at=[ot,it],st=[null,nt?M:null];rt&&j.forEach(function(t){at.push(new Plottable.Components.Group([t.axis,t.label])),st.push(null)}),m=new Plottable.Components.Table([at,st]),m.yAlignment("bottom"),I.attachTo(m);var lt=E.chart.daysShownOnTimeline,ut=lt?lt.min:!1,ct=lt?lt.max:!1,ht=null,dt=null;if(w.panZoom.enabled&&(ht=new Plottable.Interactions.PanZoom,ht.addXScale($),ht.attachTo(it),dt=new Plottable.Interactions.PanZoom,dt.addXScale($),dt.attachTo(M),ut&&(ht.minDomainExtent($,ut*a),dt.minDomainExtent($,ut*a)),ct&&(ht.maxDomainExtent($,ct*a),dt.maxDomainExtent($,ct*a))),ct){var ft=[];d3.entries(h).forEach(function(t){var e=t.value;e.forEach(function(t){ft.push(t.x)})});var pt=$.extentOfValues(ft),mt=pt[1].getTime()-pt[0].getTime(),gt=ct*a;mt>gt&&(pt[1]=new Date(pt[0].getTime()+gt)),$.domain(pt)}var vt=function(t){ut&&(t=Math.max(t,ut)),ct&&(t=Math.min(t,ct));var e=$.domain(),n=[e[0],new Date(e[0].getTime()+t*a)];$.domain(n)},_t=function(t){var e=$.domain();timeInDays=(e[1].getTime()-e[0].getTime())/a,timeInDays*=(100-t)/100,ut&&(timeInDays=Math.max(timeInDays,ut)),ct&&(timeInDays=Math.min(timeInDays,ct));var n=[e[0],new Date(e[0].getTime()+timeInDays*a)];$.domain(n)},yt=function(t){var e=$.domain();timeInDays=(e[1].getTime()-e[0].getTime())/a,timeInDays*=t/100;var n=[new Date(e[0].getTime()+timeInDays*a),new Date(e[1].getTime()+timeInDays*a)];$.domain(n)},wt=function(){d3.selectAll(".time-button").classed("active",!1)},bt=null;if(w.toolbar.enabled){if(bt=e.append("div").classed("omh-chart-toolbar",!0).attr("unselectable","on"),w.timespanButtons.enabled){var xt={"1wk":7,"1m":30,"3m":90,"6m":180};bt.append("span").classed("time-buttons-label",!0).text("Show: "),d3.entries(xt).forEach(function(t){var e=t.value,n=t.key;if((!ct||ct>=e)&&(!ut||e>=ut)){var r=bt.append("span").classed("time-button",!0).text(n);r.on("click",function(){wt(),vt(e),d3.select(this).classed("active",!0)})}})}if(w.zoomButtons.enabled){var St={"&#8722;":-20,"&#43;":20};bt.append("span").classed("zoom-buttons-label",!0).text(" Zoom: "),d3.entries(St).forEach(function(t){var e=t.value,n=t.key,r=bt.append("span").classed("zoom-button",!0).html(n);r.on("click",function(){wt(),_t(e)})})}if(w.navigation.enabled){var Et=bt.append("span",":first-child").classed("previous-time-period-button",!0).text("< prev");Et.on("click",function(){yt(-100)});var $t=bt.append("span").classed("next-time-period-button",!0).text("next >");$t.on("click",function(){yt(100)})}}var Tt=F.datasets(),Ct=Tt&&Tt.length>0;if(w.tooltips.enabled&&Ct){var kt=null,Mt=function(t){t.selection.style("opacity","1")},At=function(t){t.selection.style("opacity",s)},Dt=function(t,e){p[t][e].forEach(function(t){Mt(t)})},It=function(t,e){p[t][e].forEach(function(t){At(t)})},Pt=function(t){Ut.show(t.datum,t.selection[0][0])},Lt=function(t){t&&c&&(t.selection[0][0].getBoundingClientRect().left>c[0][0].getBoundingClientRect().left&&t.selection[0][0].getBoundingClientRect().right<c[0][0].getBoundingClientRect().right?Pt(t):Ut.hide())},Nt=function(){if(kt&&c)if(kt.datum.hasTooltip||!w.tooltips.grouped)Lt(kt);else{var t=f[kt.datum.omhDatum.groupName][kt.index],e=d3.select(".d3-tip").node().clientHeight;Lt(t.selection[0][0].getBoundingClientRect().top>c[0][0].getBoundingClientRect().top+e?t:kt)}},Ot=function(t){if(null!==kt){var e=w.tooltips.grouped,n=t.datum.omhDatum.body!==kt.datum.omhDatum.body,r=t.datum.measure!==kt.datum.measure,i=e?n:n||r;i&&(It(kt.datum.omhDatum.groupName,kt.index),kt=t,Dt(kt.datum.omhDatum.groupName,t.index))}else kt=t;null===t.datum},Bt=new Plottable.Interactions.Pointer;Bt.onPointerExit(function(t){Ut.hide()}),Bt.onPointerEnter(Nt.bind(this));var Rt=function(t){var e;try{e=F.entityNearest(t),Ot(e),Nt()}catch(n){return}}.bind(this);Bt.onPointerMove(Rt),Bt.attachTo(F);var Vt=function(t,e){var n,r="value",i=O(t);if(i&&(i.cssClass||i.name)){var o=i.cssClass?i.cssClass:i.name;o=o.toLowerCase().replace(/[^a-z0-9-]+/g,"_"),r+=" threshold-"+o+" threshold-"+t.measure+"-"+o}var a;if(y.userInterface.tooltips&&"undefined"!=typeof y.userInterface.tooltips.contentFormatter)a=y.userInterface.tooltips.contentFormatter(t);else{var s="undefined"!=typeof y.userInterface.decimalPlaces?y.userInterface.decimalPlaces:1;a=t.y.toFixed(s)}n='<div class="'+r+'">'+a+"</div>";var l=w.tooltips.timeFormat;return n+='<div class="time">'+moment(t.x).format(l)+"</div>",n+='<div class="provider">'+t.provider+"</div>"},Ut=d3.tip().attr("class","d3-tip").html(function(t){return'<div class="omh-tooltip" data-datapoint-id="'+t.omhDatum.header.id+'">'+Vt(t,r)+"</div>"})}this.renderTo=function(t){return this.initialized?(c=d3.select(t),Ut&&c.call(Ut),g&&g.offWheel(L),g=new Plottable.Dispatchers.Mouse.getDispatcher(c[0][0]).onWheel(L),m.renderTo(c),f={},p={},void F.entities().forEach(function(t){var e=t.datum.omhDatum.groupName;f[e]||(f[e]=[]),t.datum.hasTooltip&&(f[e][t.index]=t),p[e]||(p[e]=[]),p[e][t.index]||(p[e][t.index]=[]),p[e][t.index].push(t)})):void console.log("Warning: chart could not be rendered because it was not successfully initialized.")},this.initialized=!0},n});